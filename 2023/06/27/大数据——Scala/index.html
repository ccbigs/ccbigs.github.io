<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>大数据——Scala | ccbigs blog</title><meta name="author" content="DingQuan Zuo"><meta name="copyright" content="DingQuan Zuo"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="入门IDEA安装Scala首先我们需要安装Scala插件：  给项目配置Scala支持： 右键项目，添加一个框架支持：  选中scala配置文件：  点击java资源文件夹，创建一个文件，我们就可以看到scala了：  几个小案例123456789101112131415161718package chapter01&#x2F;** * @author:左泽林 * @date:日期:2021-09-29-时">
<meta property="og:type" content="article">
<meta property="og:title" content="大数据——Scala">
<meta property="og:url" content="http://example.com/2023/06/27/%E5%A4%A7%E6%95%B0%E6%8D%AE%E2%80%94%E2%80%94Scala/index.html">
<meta property="og:site_name" content="ccbigs blog">
<meta property="og:description" content="入门IDEA安装Scala首先我们需要安装Scala插件：  给项目配置Scala支持： 右键项目，添加一个框架支持：  选中scala配置文件：  点击java资源文件夹，创建一个文件，我们就可以看到scala了：  几个小案例123456789101112131415161718package chapter01&#x2F;** * @author:左泽林 * @date:日期:2021-09-29-时">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/ahead.jpg">
<meta property="article:published_time" content="2023-06-27T03:52:08.000Z">
<meta property="article:modified_time" content="2023-06-27T04:05:21.250Z">
<meta property="article:author" content="DingQuan Zuo">
<meta property="article:tag" content="大数据">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/ahead.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2023/06/27/%E5%A4%A7%E6%95%B0%E6%8D%AE%E2%80%94%E2%80%94Scala/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '大数据——Scala',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-06-27 12:05:21'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/ahead.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/1558.png')"><nav id="nav"><span id="blog-info"><a href="/" title="ccbigs blog"><img class="site-icon" src="/img/favicon.png"/><span class="site-name">ccbigs blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">大数据——Scala</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-06-27T03:52:08.000Z" title="发表于 2023-06-27 11:52:08">2023-06-27</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-06-27T04:05:21.250Z" title="更新于 2023-06-27 12:05:21">2023-06-27</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">25.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>108分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="大数据——Scala"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h1><h2 id="IDEA安装Scala"><a href="#IDEA安装Scala" class="headerlink" title="IDEA安装Scala"></a>IDEA安装Scala</h2><p>首先我们需要安装Scala插件：</p>
<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20210929094327379.png" alt="image-20210929094327379"></p>
<p>给项目配置Scala支持：</p>
<p>右键项目，添加一个框架支持：</p>
<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20210929094904680.png" alt="image-20210929094904680"></p>
<p>选中scala配置文件：</p>
<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20210929095122026.png" alt="image-20210929095122026"></p>
<p>点击java资源文件夹，创建一个文件，我们就可以看到scala了：</p>
<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20210929095210013.png" alt="image-20210929095210013"></p>
<h2 id="几个小案例"><a href="#几个小案例" class="headerlink" title="几个小案例"></a>几个小案例</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter01</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-09-29-时间:9:54</span></span><br><span class="line"><span class="comment"> * @message: object 关键字，表示声明一个单例对象，全局只有这么一份</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  * main方法：从外部可以直接调用执行的方法</span></span><br><span class="line"><span class="comment">  * def 方法名称(参数名称：参数类型):返回值类型 = &#123; 方法体 &#125;</span></span><br><span class="line"><span class="comment">  * */</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">&quot;hello Scala&quot;</span>)</span><br><span class="line">    <span class="type">System</span>.out.println(<span class="string">&quot;hello Scala from java&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter01</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-09-29-时间:10:19</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params">name: <span class="type">String</span> , age: <span class="type">Int</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">printerInfo</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="keyword">this</span>.name+<span class="string">&quot;,&quot;</span>+age+<span class="string">&quot;,伴生对象&quot;</span>+<span class="type">Student</span>.school)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//引入伴生对象</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Student</span></span>&#123;</span><br><span class="line">  <span class="keyword">val</span> school:<span class="type">String</span> = <span class="string">&quot;atguigu&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="type">Student</span>(<span class="string">&quot;alis&quot;</span>,<span class="number">20</span>).printerInfo()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>伴生类与伴生对象之间的关系。</p>
<h1 id="变量和数据类型"><a href="#变量和数据类型" class="headerlink" title="变量和数据类型"></a>变量和数据类型</h1><h2 id="Scala注释"><a href="#Scala注释" class="headerlink" title="Scala注释"></a>Scala注释</h2><p>用于注解说明解释程序的文字就是注释，注释提高了代码的阅读性；</p>
<p><code>注释是一个程序员必须要具有的良好编程习惯</code>。将自己的思想通过注释先整理出来，再用代码去体现。</p>
<p>Scala中的类型注释(同Java)：</p>
<ol>
<li>单行注释 </li>
<li>多行注释</li>
<li><code>文档注释</code></li>
</ol>
<p>对一下代码使用scaladoc生成说明文档：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.chapter01</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @Date 2020/8/13 19:01</span></span><br><span class="line"><span class="comment">  * @Version 10.21</span></span><br><span class="line"><span class="comment">  * @Author DuanChaojie</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">HelloScala</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;hello scala!&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 文档注释：使用scaladoc命令生成文档说明</span></span><br><span class="line"><span class="comment">    * </span></span><br><span class="line"><span class="comment">    * @param a  参数1</span></span><br><span class="line"><span class="comment">    * @param b  参数2</span></span><br><span class="line"><span class="comment">    * @return   返回值</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sum</span></span>(a: <span class="type">Int</span>, b: <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="变量和常量-重点"><a href="#变量和常量-重点" class="headerlink" title="变量和常量(重点)"></a>变量和常量(重点)</h2><p>常量：在程序执行的过程中，其值不会被改编的变量。</p>
<p>1）基本语法</p>
<p>var 变量名 [: 变量类型] &#x3D; 初始值		var i:Int &#x3D; 10;</p>
<p>val 常量名 [: 常量类型] &#x3D; 初始值		 val j:Int &#x3D; 20;</p>
<p><strong>注意：能用常量的地方不用变量。</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter02</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> chapter01.<span class="type">Student</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-09-29-时间:10:52</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test02_Variable</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// 声明一个变量通用语法</span></span><br><span class="line">    <span class="keyword">var</span> a:<span class="type">Int</span> = <span class="number">20</span></span><br><span class="line">    <span class="keyword">val</span> b:<span class="type">Int</span> = <span class="number">30</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.声明变量时，省略类型，编译器自动推导，即类型推到</span></span><br><span class="line">    <span class="keyword">var</span> c = <span class="number">10</span></span><br><span class="line">    <span class="keyword">val</span> d = <span class="number">10.2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.类型确定后，就不能修改，说明scala是强数据类型语言</span></span><br><span class="line">    <span class="keyword">var</span> a2 = <span class="number">15</span> <span class="comment">//a2类型为Int，a2就不能使用a2=&quot;阿松大&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.变量声明时，必须要有初始值</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.在声明/定义一个变量时，可以使用var或者val来修饰，var修饰的变量可以改变，val修饰的变量不可改</span></span><br><span class="line">    a = <span class="number">12</span>;</span><br><span class="line">    <span class="comment">//d = 11.1;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> alice1 = <span class="keyword">new</span> <span class="type">Student</span>(<span class="string">&quot;alice&quot;</span>,<span class="number">20</span>);</span><br><span class="line">    <span class="keyword">var</span> alice2 = <span class="keyword">new</span> <span class="type">Student</span>(<span class="string">&quot;alice&quot;</span>,<span class="number">20</span>);</span><br><span class="line">    alice2 = <span class="keyword">new</span> <span class="type">Student</span>(<span class="string">&quot;Alice&quot;</span>,<span class="number">22</span>)</span><br><span class="line">    </span><br><span class="line">    alice1.age = <span class="number">24</span>;</span><br><span class="line">    </span><br><span class="line">    alice1.printerInfo()</span><br><span class="line">    alice2.printerInfo()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="标识符的命名规范"><a href="#标识符的命名规范" class="headerlink" title="标识符的命名规范"></a>标识符的命名规范</h2><blockquote>
<ol>
<li>&#x3D;&#x3D;Scala 对各种变量、方法、函数等命名时使用的字符序列称为标识符。&#x3D;&#x3D;</li>
<li>凡是自己可以起名字的地方都叫标识符。</li>
</ol>
</blockquote>
<p>标识符的命名规则(记住)</p>
<blockquote>
<ol>
<li>&#x3D;&#x3D;Scala中的标识符声明，基本和Java是一致的&#x3D;&#x3D;，但是细节上会有所变化。</li>
<li>首字符为字母，后续字符任意字母和数字，美元符号，可后接下划线_</li>
<li>数字不可以开头。</li>
<li><code>首字符为操作符(比如+ - * / )，后续字符也需跟操作符 ,至少一个</code></li>
<li>操作符(比如+-*&#x2F;)不能在标识符中间和最后。</li>
<li>用反引号<code>....</code>包括的任意字符串，即使是关键字(39个)也可以 [true]</li>
</ol>
</blockquote>
<p><strong>Scala中的39个关键字</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span>, <span class="keyword">import</span>, <span class="class"><span class="keyword">class</span>, <span class="title">object</span>, <span class="title">trait</span>, <span class="keyword">extends</span>, <span class="keyword">with</span>, <span class="title">type</span>, <span class="title">forSome</span></span></span><br><span class="line"><span class="keyword">private</span>, <span class="keyword">protected</span>, <span class="keyword">abstract</span>, <span class="keyword">sealed</span>, <span class="keyword">final</span>, <span class="keyword">implicit</span>, <span class="keyword">lazy</span>, <span class="keyword">override</span></span><br><span class="line"><span class="keyword">try</span>, <span class="keyword">catch</span>, <span class="keyword">finally</span>, <span class="keyword">throw</span> </span><br><span class="line"><span class="keyword">if</span>, <span class="keyword">else</span>, <span class="keyword">match</span>, <span class="keyword">case</span>, <span class="keyword">do</span>, <span class="keyword">while</span>, <span class="keyword">for</span>, <span class="keyword">return</span>, <span class="keyword">yield</span></span><br><span class="line"><span class="function"><span class="keyword">def</span>, <span class="title">val</span>, <span class="title">var</span> </span></span><br><span class="line"><span class="keyword">this</span>, <span class="keyword">super</span></span><br><span class="line"><span class="keyword">new</span></span><br><span class="line"><span class="literal">true</span>, <span class="literal">false</span>, <span class="literal">null</span></span><br></pre></td></tr></table></figure>

<p><strong>示例：</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter02</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-09-29-时间:11:12</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test03_Identifier</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//以字母下划线开头</span></span><br><span class="line">    <span class="keyword">val</span> hello = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">var</span> _Hello123 = <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//以操作符开头，且只包含操作符 如(+ - * / # !等)</span></span><br><span class="line">    <span class="keyword">var</span> +-*/ = <span class="string">&quot;1&quot;</span></span><br><span class="line">    <span class="keyword">val</span> +&amp; = <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//用反引号``包括的任意字符串，即使时scala关键字(39个)也可以</span></span><br><span class="line">    <span class="keyword">val</span> `<span class="keyword">if</span>` = <span class="number">123</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="字符串输出"><a href="#字符串输出" class="headerlink" title="字符串输出"></a>字符串输出</h2><ul>
<li>字符串，通过+号连接</li>
<li>*用于将一个字符串复制多次并拼接</li>
<li>printf用法：字符串，通过%传值</li>
<li>字符串模板（插值字符串）：通过$获取变量值</li>
<li>格式化模板字符串</li>
<li>三引号表示字符串，保持多行字符串的原始格式输出</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter02</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-09-29-时间:11:20</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test04_String</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">dex</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//字符串，通过+号连接</span></span><br><span class="line">    <span class="keyword">val</span> name:<span class="type">String</span> = <span class="string">&quot;alice&quot;</span></span><br><span class="line">    <span class="keyword">val</span> age: <span class="type">Int</span> = <span class="number">18</span></span><br><span class="line">    println(age+age+name+age)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//*用于将一个字符串复制多次并拼接</span></span><br><span class="line">    println(name * <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//printf用法：字符串，通过%传值</span></span><br><span class="line">    printf(<span class="string">&quot;%s 已经 %d 岁了&quot;</span>,name,age)</span><br><span class="line">    println()</span><br><span class="line"></span><br><span class="line">    <span class="comment">//字符串模板（插值字符串）：通过$获取变量值</span></span><br><span class="line">    println(<span class="string">s&quot;<span class="subst">$&#123;age&#125;</span>岁的<span class="subst">$&#123;name&#125;</span>在尚硅谷学习&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> num: <span class="type">Float</span> = <span class="number">2.3456</span>f</span><br><span class="line">    println(<span class="string">f&quot;the num is <span class="subst">$&#123;num&#125;</span>%2.2f&quot;</span>) <span class="comment">//格式化模板字符串</span></span><br><span class="line">    println(<span class="string">raw&quot;the num is <span class="subst">$&#123;num&#125;</span>%2.2f&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//三引号表示字符串，保持多行字符串的原始格式输出</span></span><br><span class="line">    <span class="keyword">val</span> sql=<span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">       |select *</span></span><br><span class="line"><span class="string">       |from</span></span><br><span class="line"><span class="string">       |  student</span></span><br><span class="line"><span class="string">       |where</span></span><br><span class="line"><span class="string">       |  name = $&#123;name&#125;</span></span><br><span class="line"><span class="string">       |and</span></span><br><span class="line"><span class="string">       |  age &gt; $&#123;age&#125;</span></span><br><span class="line"><span class="string">       |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin</span><br><span class="line">    println(sql)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test04_String</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="type">Test04_String</span>().dex();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="键盘输入"><a href="#键盘输入" class="headerlink" title="键盘输入"></a>键盘输入</h2><p>在编程中，需要接受用户输入的数据，就可以使用键盘输入语句来获取</p>
<p>1）基本语法</p>
<p>​	StdIn.readLine()、StdIn.readShot、StdIn.readDouble()</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter02</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.io.<span class="type">StdIn</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-09-29-时间:11:45</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test05_StdIn</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//输入</span></span><br><span class="line">    println(<span class="string">&quot;请输入你的大名：&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> name:<span class="type">String</span> = <span class="type">StdIn</span>.readLine()</span><br><span class="line">    println(<span class="string">&quot;请输入年龄&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> age:<span class="type">Int</span> = <span class="type">StdIn</span>.readInt()</span><br><span class="line">    <span class="comment">//输出</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//控制台输出打印</span></span><br><span class="line">    printf(<span class="string">s&quot;<span class="subst">$&#123;name&#125;</span>来到尚硅谷学习，年龄有<span class="subst">$&#123;age&#125;</span>岁了&quot;</span>)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="读写文件"><a href="#读写文件" class="headerlink" title="读写文件"></a>读写文件</h2><p>文件读取：Source</p>
<p>文件写入：write</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test06_FileIO</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.从文件中读取数据</span></span><br><span class="line">    <span class="type">Source</span>.fromFile(<span class="string">&quot;E:\\ideaAllPro\\Scala\\src\\resources\\test.txt&quot;</span>).foreach(print)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.将数据写入文件</span></span><br><span class="line">    <span class="keyword">val</span> write = <span class="keyword">new</span> <span class="type">PrintWriter</span>(<span class="keyword">new</span> <span class="type">File</span>(<span class="string">&quot;E:\\ideaAllPro\\Scala\\src\\resources\\output.txt&quot;</span>))</span><br><span class="line">    write.write(<span class="string">&quot;hello scala from java write&quot;</span>)</span><br><span class="line">    write.close()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><ol>
<li>Scala 中一切数据都是对象，都是Any的子类</li>
<li>Scala 中数据类型分为两大类：数值类型(AnyVal)\引用类型(AnyRef),<strong>不管是值类型还是引用类型都是对象。</strong></li>
<li>Scala数据类型仍然遵守，低精度的值类型向高精度值类型，自动转换（隐式转换）。</li>
<li>Scala中的StringOps是对Java中的String增强。</li>
<li>Unit：对应Java中的void，用于方法返回值的位置，表示方法没有返回值。<strong>Unti是一个数据类型</strong>，只有一个对象就是()。Void不是数据类型，只是一个关键字。</li>
<li>Null是一个类型，只有一个对象就是null。它是所有引用类型(AnyRef)的子类。</li>
<li><strong>Nothing，是所有数据类型的子类，</strong>主要用在一个函数没有明确返回值时使用，因为这样我们可以把抛出的返回值，返回给任意的变量或函数。</li>
</ol>
<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20210930112315553.png" alt="image-20210930112315553"></p>
<h2 id="整数类型和浮点类型"><a href="#整数类型和浮点类型" class="headerlink" title="整数类型和浮点类型"></a>整数类型和浮点类型</h2><p>Scala 的整数类型就是用于存放整数值的，比如 12, 30,3456等等。</p>
<p>1.整形分类</p>
<blockquote>
<p>整形的使用细节：</p>
<ol>
<li>Scala各整数类型有固定的表数范围和字段长度，不受具体OS的影响，以保证Scala程序的可移植性。</li>
<li>Scala的整型 常量&#x2F;字面量  默认为 Int 型，声明Long型 常量&#x2F;字面量 须后<code>加‘l’或‘L’</code> </li>
<li>Scala程序中变量常声明为Int型，除非不足以表示大数，才使用Long</li>
</ol>
</blockquote>
<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20210321220850758.png" alt="image-20210321220850758"></p>
<p>Scala的浮点类型可以表示一个小数，<code>比如 123.4f，7.8 ，0.12等等。</code></p>
<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20210321221525093.png" alt="image-20210321221525093"></p>
<blockquote>
<p>浮点数的使用细节：</p>
<ol>
<li><p>与整数类型类似，Scala 浮点类型也有固定的表数范围和字段长度，不受具体OS的影响。</p>
</li>
<li><p>Scala的浮点型常量默认为Double型，声明Float型常量，须后<code>加‘f’或‘F’</code>。</p>
</li>
<li><p>浮点型常量有两种表示形式：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">十进制数形式：如：<span class="number">5.12</span>       <span class="number">512.0</span>f        <span class="number">.512</span>   (必须有小数点）</span><br><span class="line">科学计数法形式:如：<span class="number">5.12e2</span>  = <span class="number">5.12</span>乘以<span class="number">10</span>的<span class="number">2</span>次方     <span class="number">5.12E-2</span>  = <span class="number">5.12</span>除以<span class="number">10</span>的<span class="number">2</span>次方  </span><br></pre></td></tr></table></figure>
</li>
<li><p>通常情况下，应该使用Double型，因为它比Float型更精确</p>
</li>
</ol>
</blockquote>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter02</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-09-30-时间:11:36</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test07_DataType</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.整数类型</span></span><br><span class="line">    <span class="keyword">val</span> a1:<span class="type">Byte</span> = <span class="number">127</span>;</span><br><span class="line">    <span class="keyword">val</span> a2:<span class="type">Byte</span> = <span class="number">-128</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">val</span> a3 = <span class="number">12</span> <span class="comment">//整数默认为int</span></span><br><span class="line">    <span class="keyword">val</span> a4:<span class="type">Long</span> = <span class="number">1111111111111111111</span>L <span class="comment">//长整型数值定义</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">val</span> b1:<span class="type">Byte</span> = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">val</span> b2:<span class="type">Byte</span> = <span class="number">10</span> + <span class="number">20</span>  <span class="comment">//可以用，但是有错误提示</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//val b3: Byte = b1 + 20   这种方法不可用</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">val</span> b3:<span class="type">Byte</span> = (b1+<span class="number">20</span>).toByte <span class="comment">//强制类型转换</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//2.浮点类型</span></span><br><span class="line">    <span class="keyword">val</span> f1:<span class="type">Float</span> = <span class="number">1.23456</span>f</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="字符类型和布尔类型"><a href="#字符类型和布尔类型" class="headerlink" title="字符类型和布尔类型"></a>字符类型和布尔类型</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//3.字符类型</span></span><br><span class="line">    <span class="keyword">val</span> c1: <span class="type">Char</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> c2: <span class="type">Char</span> = &#x27;<span class="number">9</span>&#x27;</span><br><span class="line">    println(c2)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> c3: <span class="type">Char</span> = &#x27;\t&#x27;  <span class="comment">//制表符</span></span><br><span class="line">    <span class="keyword">val</span> c4: <span class="type">Char</span> = &#x27;\n&#x27;  <span class="comment">//换行符</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//转义字符</span></span><br><span class="line">    <span class="keyword">val</span> c5 = &#x27;\\&#x27;  <span class="comment">//表示反斜杠自身</span></span><br><span class="line">    <span class="keyword">val</span> c6 = &#x27;\<span class="string">&quot;&#x27;  //表示双引号</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    println(c5)</span></span><br><span class="line"><span class="string">    println(c6)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    //字符变量底层保存的是ASCII码</span></span><br><span class="line"><span class="string">    val i1: Int = c1</span></span><br><span class="line"><span class="string">    println(&quot;</span>i1:<span class="string">&quot;+i1)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    val i2: Int = c2</span></span><br><span class="line"><span class="string">    println(&quot;</span>i2:<span class="string">&quot;+i2)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    val c7: Char = (i1 + 1).toChar</span></span><br><span class="line"><span class="string">    println(c7)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    val c8: Char = (i2-1).toChar</span></span><br><span class="line"><span class="string">    println(c8)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    //4.布尔类型</span></span><br><span class="line"><span class="string">    val isTrue: Boolean = true</span></span><br><span class="line"><span class="string">    println(isTrue)</span></span><br></pre></td></tr></table></figure>



<h2 id="Unit类型、Null类型和Nothing类型-重点"><a href="#Unit类型、Null类型和Nothing类型-重点" class="headerlink" title="Unit类型、Null类型和Nothing类型(重点)"></a>Unit类型、Null类型和Nothing类型(重点)</h2><p>1）基本说明</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>Unit</td>
<td>表示无值，和其他语言void等同。用作不返回任何结果的方法的结果类型。Unit只有一个实例值，写成()</td>
</tr>
<tr>
<td>Null</td>
<td>null,Null类型只有一个实例值null</td>
</tr>
<tr>
<td>Nothing</td>
<td>Nothing类型在Scala的类层级最低端；它是任何其他类型的子类型。当一个函数，我们确定没有正常的返回值，可以用Nothing来指定返回类型，这样有一个好处，就是我们可以把返回值(异常)赋给其他的函数或者变量(兼容性)</td>
</tr>
</tbody></table>
<p>2）实操</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//5. 空类型</span></span><br><span class="line">    <span class="comment">//5.1 空值Unit 它的方法中有一个BoxeUnit类，里面toString方法返回值为()</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">m1</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">      println(<span class="string">&quot;m1被调用执行&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> a = m1()</span><br><span class="line">    <span class="comment">//为啥这里变成了一个() ,</span></span><br><span class="line">    println(<span class="string">&quot;将方法赋值给变量:&quot;</span>+a)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//5.2 空引用null</span></span><br><span class="line">    <span class="comment">//val n: Int = null //这种写法是错误的</span></span><br><span class="line">    <span class="keyword">var</span> student: <span class="type">Student</span> = <span class="keyword">new</span> <span class="type">Student</span>(<span class="string">&quot;alice&quot;</span>,<span class="number">20</span>)</span><br><span class="line">    student = <span class="literal">null</span></span><br><span class="line">    println(<span class="string">&quot;赋值null后：&quot;</span>+student)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//5.3 Nothing</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">m2</span></span>(n: <span class="type">Int</span>):<span class="type">Int</span> = &#123;</span><br><span class="line">      <span class="keyword">if</span> (n != <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> n</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">NullPointerException</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> b = m2(<span class="number">2</span>)</span><br><span class="line">    println(b)</span><br></pre></td></tr></table></figure>

<h2 id="Scala中的类型强制转换"><a href="#Scala中的类型强制转换" class="headerlink" title="Scala中的类型强制转换"></a>Scala中的类型强制转换</h2><h3 id="1）数值类型自动转换"><a href="#1）数值类型自动转换" class="headerlink" title="1）数值类型自动转换"></a>1）数值类型自动转换</h3><p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211106210356054.png" alt="image-20211106210356054"></p>
<p>基本说明：</p>
<ol>
<li>自动提升原则：有多种类型的数据混合运算时，<strong>系统首先自动将所有数据转换为精度大的那种数据类型</strong>，然后进行计算。</li>
<li><strong>把精度大的数值类型赋值给精度小的数值类型时，就会报错</strong>，反之就会进行自动类型转换。</li>
<li>（byte，short）和 char 之间不会相互自动转换。</li>
<li>byte，short，char他们三者可以计算，<strong>在计算时首先转换为int类型</strong></li>
</ol>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. 自动提升原则：有多种类型的数据混合运算时，**系统首先自动将所有数据转换为精度大的那种数据类型**，然后进行计算。</span></span><br><span class="line">   <span class="keyword">val</span> a1: <span class="type">Byte</span> = <span class="number">10</span></span><br><span class="line">   <span class="keyword">val</span> b1: <span class="type">Long</span> = <span class="number">2353</span>L</span><br><span class="line">   <span class="keyword">val</span> result1: <span class="type">Long</span> = a1+b1;</span><br><span class="line">   <span class="keyword">val</span> result2: <span class="type">Int</span> = a1+b1.toInt; <span class="comment">//Long类型数据强转</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//2. **把精度大的数值类型赋值给精度小的数值类型时，就会报错**，反之就会进行自动类型转换。</span></span><br><span class="line">   <span class="keyword">val</span> a2: <span class="type">Byte</span> = <span class="number">10</span>;</span><br><span class="line">   <span class="keyword">val</span> b2: <span class="type">Int</span> = a2;</span><br><span class="line">   <span class="keyword">val</span> c2: <span class="type">Byte</span> = b2.toByte <span class="comment">//强转才能赋值成功</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="comment">//3. （byte，short）和 char 之间不会相互自动转换。</span></span><br><span class="line">   <span class="keyword">val</span> a3: <span class="type">Byte</span> = <span class="number">10</span></span><br><span class="line">   <span class="keyword">val</span> b3: <span class="type">Char</span> = &#x27;b&#x27;</span><br><span class="line">   <span class="keyword">val</span> c3: <span class="type">Byte</span> = b3.toByte</span><br><span class="line">   println(c3)</span><br><span class="line"></span><br><span class="line">   <span class="comment">//4. byte，short，char他们三者可以计算，**在计算时首先转换为int类型**</span></span><br><span class="line">   <span class="keyword">val</span> a4: <span class="type">Byte</span> = <span class="number">12</span>;</span><br><span class="line">   <span class="keyword">val</span> b4: <span class="type">Short</span> = <span class="number">25</span>;</span><br><span class="line">   <span class="keyword">val</span> c4: <span class="type">Char</span> = &#x27;c&#x27;</span><br><span class="line">   <span class="keyword">val</span> result4 = a4 + b4</span><br><span class="line">   <span class="keyword">val</span> result44 = a4+b4+c4</span><br><span class="line">   println(result4)</span><br><span class="line">   println(result44)</span><br></pre></td></tr></table></figure>





<h3 id="2）强制类型转换"><a href="#2）强制类型转换" class="headerlink" title="2）强制类型转换"></a>2）强制类型转换</h3><p>1）基本说明</p>
<p>​	自动类型转换的逆过程，将精度大的数值类型转换为精度小的数值类型。使用时要加上强制转函数，但可能造成精度降低或溢出，要格外注意。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Scala</span>： <span class="keyword">var</span> num : <span class="type">Int</span>=<span class="number">2.7</span>.toInt</span><br></pre></td></tr></table></figure>



<p>2）案例实操</p>
<ol>
<li>将数据由高精度转换为低精度，就需要使用强制类型转换。</li>
<li>强转符号只针对最近的操作数有效，往往会使用小括号提升优先级。</li>
</ol>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第二部分，强制类型转换</span></span><br><span class="line">   <span class="comment">//高精度转换为低精度</span></span><br><span class="line">   <span class="keyword">val</span> n1: <span class="type">Int</span> = <span class="number">2.5</span>.toInt</span><br><span class="line">   <span class="keyword">val</span> n2: <span class="type">Int</span> = <span class="number">-2.5</span>.toInt</span><br><span class="line">   println(<span class="string">&quot;强制类型转换n1&quot;</span>+n1) <span class="comment">//直接取整</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//强转的符号只针对最近的操作数有效</span></span><br><span class="line">   <span class="keyword">val</span> n3: <span class="type">Int</span> =(<span class="number">2.6</span>+<span class="number">3.7</span>).toInt</span><br><span class="line">   println(<span class="string">&quot;两者括号相加再调用toInt：&quot;</span>+n3)</span><br><span class="line"></span><br><span class="line">   <span class="comment">//3.数值类型和String类型的转换</span></span><br><span class="line">   <span class="comment">//数值-》String</span></span><br><span class="line">   <span class="keyword">val</span> n: <span class="type">Int</span> =<span class="number">27</span></span><br><span class="line">   <span class="keyword">val</span> s: <span class="type">String</span> = n + <span class="string">&quot;&quot;</span></span><br><span class="line">   println(<span class="string">&quot;数值-》String&quot;</span>+s)</span><br><span class="line"></span><br><span class="line">   <span class="comment">//string转换为数值</span></span><br><span class="line">   <span class="keyword">val</span> m : <span class="type">Int</span> = <span class="string">&quot;123&quot;</span>.toInt</span><br><span class="line">   <span class="keyword">val</span> f : <span class="type">Float</span> = <span class="string">&quot;123.2&quot;</span>.toFloat</span><br><span class="line">   <span class="keyword">val</span> f2: <span class="type">Int</span>=<span class="string">&quot;123.3&quot;</span>.toDouble.toInt</span><br><span class="line">   println(<span class="string">&quot;浮点字符串先转换为Float在转换为Int&quot;</span>+f2)</span><br></pre></td></tr></table></figure>



<h1 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h1><h2 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h2><p>普通的加减乘除</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.算术运算符</span></span><br><span class="line">    <span class="comment">// 小数除法 val result1 = 10/3.toDouble</span></span><br><span class="line">    val result1 : Double = <span class="number">10</span>/<span class="number">3.</span>toDouble</span><br><span class="line">    <span class="title function_">println</span><span class="params">(result1)</span></span><br><span class="line">    println(<span class="string">&quot;格式化保留两位小数&quot;</span>+result1.formatted(<span class="string">&quot;%5.2f&quot;</span>))</span><br></pre></td></tr></table></figure>

<h2 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h2><p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211110212150083.png" alt="image-20211110212150083"></p>
<h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><p>1）基本语法</p>
<p>​	用于连接多个条件(一般来讲就是关系表达式)，最终的结果也是一个Boolean值。</p>
<p>​	假定：变量A为true，变量B为False</p>
<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211110213149734.png" alt="image-20211110213149734"></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//逻辑运算</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">m</span></span>(n:<span class="type">Int</span>):<span class="type">Int</span> = &#123;</span><br><span class="line">      println(<span class="string">&quot;被调用&quot;</span>)</span><br><span class="line">      <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> n = <span class="number">1</span>;</span><br><span class="line">    println((<span class="number">4</span>&gt;<span class="number">5</span>) &amp;&amp; m(n)&gt;<span class="number">0</span>) <span class="comment">//查看判断结果是否被执行</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//判断一个字符串是否为空</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isNotEmpty</span></span>(<span class="type">Str</span> : <span class="type">String</span>): <span class="type">Boolean</span> = &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="type">Str</span> != <span class="literal">null</span> &amp;&amp; !(<span class="string">&quot;&quot;</span>.equals(<span class="type">Str</span>.trim));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;这个字符串是否为空：&quot;</span>+isNotEmpty(<span class="literal">null</span>))</span><br></pre></td></tr></table></figure>

<h2 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h2><p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211110224228379.png" alt="image-20211110224228379"></p>
<p><strong>每一个数字都是对象，都可以调用方法</strong></p>
<h1 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h1><h2 id="分支控制if-else"><a href="#分支控制if-else" class="headerlink" title="分支控制if-else"></a>分支控制if-else</h2><p>让程序有选择地执行，分支控制有三种：单分支、双分支、多分支。</p>
<h3 id="单分支"><a href="#单分支" class="headerlink" title="单分支"></a>单分支</h3><p>1）基本语法</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (条件表达式)&#123;</span><br><span class="line">	执行代码块</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：当条件表达式为true时，就会执行{}代码。</p>
<p>2）案例操作</p>
<p>需求：输入人地年龄，如果该同志地年龄小于</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter04</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.io.<span class="type">StdIn</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-11-11-时间:20:07</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test01_ifElse</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.单分支</span></span><br><span class="line">    println(<span class="string">&quot;请输入您的年龄：&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> age: <span class="type">Int</span> = <span class="type">StdIn</span>.readInt()</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.单分支</span></span><br><span class="line">    <span class="keyword">if</span> (age &gt;= <span class="number">18</span>)&#123;</span><br><span class="line">      println(<span class="string">&quot;成年&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;=======================&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.双分支</span></span><br><span class="line">    <span class="keyword">if</span> (age &gt;= <span class="number">18</span>)&#123;</span><br><span class="line">      println(<span class="string">&quot;成年&quot;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      println(<span class="string">&quot;未成年&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;=======================&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.多分支</span></span><br><span class="line">    <span class="keyword">if</span> (age &lt;= <span class="number">18</span>)&#123;</span><br><span class="line">      println(<span class="string">&quot;童年&quot;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (age &lt; <span class="number">18</span>)&#123;</span><br><span class="line">      println(<span class="string">&quot;青少年&quot;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (age &lt;<span class="number">60</span>)&#123;</span><br><span class="line">      println(<span class="string">&quot;中年&quot;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      println(<span class="string">&quot;老年&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="分支控制的返回值"><a href="#分支控制的返回值" class="headerlink" title="分支控制的返回值"></a>分支控制的返回值</h3><p>分支中每个分支都是可以有返回值的。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">println(<span class="string">&quot;=========分支返回数据===========&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> result:<span class="type">String</span> = <span class="keyword">if</span> (age &lt;= <span class="number">6</span>)&#123;</span><br><span class="line">      <span class="string">&quot;童年&quot;</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (age &lt; <span class="number">18</span>)&#123;</span><br><span class="line">      <span class="string">&quot;青少年&quot;</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (age &lt;<span class="number">35</span>)&#123;</span><br><span class="line">      <span class="string">&quot;中年&quot;</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="string">&quot;老年&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;分支语句返回值:&quot;</span>+result)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;=========分支返回不同的数据===========&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> result1:<span class="type">Any</span> = <span class="keyword">if</span> (age &lt;= <span class="number">6</span>)&#123;</span><br><span class="line">      <span class="string">&quot;童年&quot;</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (age &lt; <span class="number">18</span>)&#123;</span><br><span class="line">      <span class="string">&quot;青少年&quot;</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (age &lt;<span class="number">35</span>)&#123;</span><br><span class="line">      <span class="number">35</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="number">100</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;分支语句返回值:&quot;</span>+result1)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//java中的三元运算符 a?b:c</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> res:<span class="type">String</span> = <span class="keyword">if</span> (age &gt;= <span class="number">18</span>)  <span class="string">&quot;成年&quot;</span> <span class="keyword">else</span> <span class="string">&quot;未成年&quot;</span></span><br></pre></td></tr></table></figure>

<p>如果返回值的类型不确定，或者有多个返回值类型的话，可以在定义接收值得类型为&#x3D;&#x3D;any&#x3D;&#x3D;</p>
<h2 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h2><h3 id="基本格式"><a href="#基本格式" class="headerlink" title="基本格式"></a>基本格式</h3><p>基本格式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for(变量 -&gt; 范围 to 范围)&#123;</span><br><span class="line">	执行语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//java for语法：for(int i=0;i&lt;10;i++)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.范围遍历,里面得常量使用到了隐式转换</span></span><br><span class="line">    <span class="keyword">for</span> (i &lt;- <span class="number">0</span> to <span class="number">9</span>) print(i+<span class="string">&quot;,&quot;</span>)</span><br><span class="line">    println()</span><br><span class="line">    println(<span class="string">&quot;================&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> (i &lt;- <span class="number">5.</span>to(<span class="number">10</span>)) print(i+<span class="string">&quot;,&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> (i &lt;- <span class="number">10</span> to <span class="number">1</span>) print(i+<span class="string">&quot;,&quot;</span>)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;=======不包含右边的边界========&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> (i &lt;- <span class="number">1</span> until <span class="number">10</span>) print(i)</span><br></pre></td></tr></table></figure>

<h3 id="循环遍历"><a href="#循环遍历" class="headerlink" title="循环遍历"></a>循环遍历</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2.集合遍历</span></span><br><span class="line">    <span class="keyword">for</span>(i &lt;- <span class="type">Array</span>(<span class="number">12</span>,<span class="number">34</span>,<span class="number">53</span>))&#123;</span><br><span class="line">      println(i)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(i &lt;- <span class="type">List</span>(<span class="number">12</span>,<span class="number">24</span>,<span class="number">53</span>))&#123;</span><br><span class="line">      println(i)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(i &lt;- <span class="type">Set</span>(<span class="number">12</span>,<span class="number">24</span>,<span class="number">35</span>))&#123;</span><br><span class="line">      println(i)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="循环守卫"><a href="#循环守卫" class="headerlink" title="循环守卫"></a>循环守卫</h3><p>循环守卫其实就相当于再循环里面加了一个判断条件，满足该条件的才输出。</p>
<p>（1）基本语法</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">3</span> <span class="keyword">if</span> i != <span class="number">2</span>)&#123;</span><br><span class="line">	println(i+<span class="string">&quot;&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">println()</span><br><span class="line">#如果i等于<span class="number">2</span>的时候，就不输出</span><br></pre></td></tr></table></figure>

<h3 id="循环步长"><a href="#循环步长" class="headerlink" title="循环步长"></a>循环步长</h3><p>像在Python中的循环步长</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">println(<span class="string">&quot;==========循环步长=========&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="number">10</span> by <span class="number">2</span>)&#123;</span><br><span class="line">      print(i+<span class="string">&quot;,&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    println()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#输出：</span><br><span class="line">==========循环步长=========</span><br><span class="line"><span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>,</span><br></pre></td></tr></table></figure>



<h3 id="嵌套循环"><a href="#嵌套循环" class="headerlink" title="嵌套循环"></a>嵌套循环</h3><p>1）基本语法</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">10</span>;j &lt;- <span class="number">1</span> to <span class="number">10</span>)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*循环嵌套*/</span></span><br><span class="line">   <span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="number">10</span>)&#123;</span><br><span class="line">     <span class="keyword">for</span>(j &lt;- <span class="number">1</span> to <span class="number">10</span>)&#123;</span><br><span class="line">       println(<span class="string">&quot;i=&quot;</span>+i+<span class="string">&quot;,&quot;</span>+<span class="string">&quot;j=&quot;</span>+j)</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">5</span>;j &lt;- <span class="number">1</span> to <span class="number">5</span>)&#123;</span><br><span class="line">     println(<span class="string">&quot;i=&quot;</span>+i+<span class="string">&quot;,&quot;</span>+<span class="string">&quot;j=&quot;</span>+j)</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>



<h3 id="引入变量"><a href="#引入变量" class="headerlink" title="引入变量"></a>引入变量</h3><p>1）基本语法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for(i &lt;- 1 to 3; j = 4-i)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>说明：</strong></p>
<ol>
<li><p>for推导式一行中有多个表达式时，<strong>所以要加；</strong>来个隔断逻辑</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*循环引入变量,他们两个的作用是一样的*/</span></span><br><span class="line">    <span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="number">5</span>)&#123;</span><br><span class="line">      <span class="keyword">val</span> j = <span class="number">10</span> - i</span><br><span class="line">      println(<span class="string">&quot;i = &quot;</span>+i+<span class="string">&quot;,j = &quot;</span>+j)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="number">5</span>;j = <span class="number">10</span> - i)&#123;</span><br><span class="line">      println(<span class="string">&quot;i = &quot;</span>+i+<span class="string">&quot;,j = &quot;</span>+j)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>for推导式有一个不成文的规定，当for推导式仅包含单一表达式时是用圆括号，当包含多个表达式时，一般每一行一个表达式，并用花括号代替圆括号，如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for&#123;</span><br><span class="line">	i &lt;- 1 to 3;</span><br><span class="line">	j &lt;- 1 to 4</span><br><span class="line">&#125;&#123;</span><br><span class="line">	println(&quot;i = &quot;+i+&quot;,j = &quot;+j)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="循环返回值"><a href="#循环返回值" class="headerlink" title="循环返回值"></a>循环返回值</h3><p>1）基本语法</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> res = <span class="keyword">for</span>(i &lt;- <span class="number">1</span> to <span class="number">10</span>) <span class="keyword">yield</span> i</span><br><span class="line">println(res)</span><br></pre></td></tr></table></figure>

<p>说明：将遍历过程中处理的结果返回到一个新的Vector集合中，使用yield关键字。</p>
<p><strong>注意：开发中很少使用</strong></p>
<p>2）案例实操</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//7.循环返回值</span></span><br><span class="line">    <span class="keyword">val</span> a = <span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="number">10</span>) <span class="keyword">yield</span> i</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;a = &quot;</span>+a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> a1 = <span class="keyword">for</span> (i &lt;- <span class="number">1</span> to <span class="number">10</span>) <span class="keyword">yield</span> i*<span class="number">2</span></span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;a = &quot;</span>+a1)</span><br></pre></td></tr></table></figure>

<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211113215538447.png" alt="image-20211113215538447"></p>
<h2 id="While和do…while循环控制"><a href="#While和do…while循环控制" class="headerlink" title="While和do…while循环控制"></a>While和do…while循环控制</h2><p>While和do…while的使用和Java语言中用法相同。</p>
<h3 id="While循环控制"><a href="#While循环控制" class="headerlink" title="While循环控制"></a>While循环控制</h3><p>1）基本语法</p>
<p>循环变量初始化</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while(循环条件)&#123;</span><br><span class="line">	循环体(语句)</span><br><span class="line">	循环遍历迭代</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：</p>
<ol>
<li>循环条件是返回一个布尔值的表达式</li>
<li>while循环实现判断在执行</li>
<li>与for语句不同，while语句没有返回值，即整个while语句的结果是Unit类型（）</li>
<li>因为while中没有返回值，所以当前要用该语句来计算并返回结果时，就不可避免的使用变量，而变量需要声明在while循环的外部，那么就等同于循环的内部对外的变量造成影响，所以不推荐使用，而是使用for循环。</li>
</ol>
<h3 id="循环中断"><a href="#循环中断" class="headerlink" title="循环中断"></a>循环中断</h3><p>&#x3D;&#x3D;Scala内置控制结构特地去掉了break和continue，是为了更好的适应函数化编程，推荐使用函数式的风格解决break和contine的功能，而不是一个关键字。&#x3D;&#x3D;</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.采用抛出异常的方式，退出循环</span></span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">      <span class="keyword">for</span>&#123;</span><br><span class="line">        i &lt;- <span class="number">1</span> to <span class="number">5</span></span><br><span class="line">      &#125;&#123;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">3</span>)&#123;</span><br><span class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">RuntimeException</span></span><br><span class="line">        &#125;</span><br><span class="line">        println(i)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;<span class="keyword">catch</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> e: <span class="type">Exception</span> =&gt; <span class="comment">//什么都不做，只是退出循环</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;这是循环外的代码&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.使用Scala中的Break类的break方法，实现异常的抛出和捕捉</span></span><br><span class="line">    <span class="type">Breaks</span>.breakable(</span><br><span class="line">      <span class="keyword">for</span>&#123;</span><br><span class="line">        i &lt;- <span class="number">1</span> to <span class="number">5</span></span><br><span class="line">      &#125;&#123;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">3</span>)&#123;</span><br><span class="line">          <span class="type">Breaks</span>.<span class="keyword">break</span>()</span><br><span class="line">        &#125;</span><br><span class="line">        println(i)</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">    println(<span class="string">&quot;使用Breaks来进行循环跳出&quot;</span>)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<h1 id="函数式编程"><a href="#函数式编程" class="headerlink" title="函数式编程"></a>函数式编程</h1><p><code>Scala语言是一个完全面向对象编程的语言。万物皆对象，对象本质：对数据和行为的一个封装</code></p>
<p><code>函数式编程：</code></p>
<p>在学习Scala中将<code>方法、函数、函数式编程和面向对象编程</code>明确一下：</p>
<ol>
<li><p>在scala中，方法和函数几乎可以等同(比如他们的定义、使用、运行机制都一样的)，<code>只是函数的使用方式更加的灵活多样</code>。</p>
</li>
<li><p>函数式编程是从编程方式(范式)的角度来谈的，可以这样理解：<code>函数式编程把函数当做一等公民</code>，充分利用函数、 支持的函数的多种使用方式。</p>
<ol>
<li>比如：在Scala当中，函数是一等公民，像变量一样，既可以作为函数的参数使用，也可以将函数赋值给一个变量. ，函数的创建不用依赖于类或者对象，而在Java当中，函数的创建则要依赖于类、抽象类或者接口。</li>
</ol>
</li>
<li><p>面向对象编程是以对象为基础的编程方式。</p>
</li>
<li><p>在Scala中函数式编程和面向对象编程融合在一起了 。</p>
</li>
<li><p>在学习Scala中将方法、函数、函数式编程和面向对象编程关系分析图：</p>
<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20210325145202072.png" alt="image-20210325145202072"></p>
</li>
<li><p>小结：</p>
<ol>
<li>“函数式编程”是一种”编程范式”（programming paradigm）。</li>
<li>它属于”结构化编程”的一种，主要思想是把运算过程尽量写成一系列嵌套的函数调用。</li>
<li>函数式编程中，将函数也当做数据类型，因此可以接受函数当作输入（参数）和输出（返回值）。</li>
<li>函数式编程中，最重要的就是函数。</li>
</ol>
</li>
</ol>
<h2 id="函数基础"><a href="#函数基础" class="headerlink" title="函数基础"></a>函数基础</h2><h3 id="函数基本语法"><a href="#函数基本语法" class="headerlink" title="函数基本语法"></a>函数基本语法</h3><p>1）基本语法</p>
<p>为完成某一功能的程序指令(语句)的集合,称为函数。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">函数名</span> </span>([参数名: 参数类型], ...)[[: 返回值类型] =] &#123;</span><br><span class="line">	语句...</span><br><span class="line">	<span class="keyword">return</span> 返回值</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<ol>
<li>函数声明关键字为def  (definition)</li>
<li>[参数名: 参数类型], …：表示函数的输入(就是参数列表), 可以没有。 如果有，多个参数使用逗号间隔</li>
<li>函数中的语句：表示为了实现某一功能代码块</li>
<li>函数可以有返回值,也可以没有<ol>
<li>返回值形式1:    <code>: 返回值类型  =</code> </li>
<li>返回值形式2:    <code>=</code>  表示返回值类型不确定，使用类型推导完成</li>
<li>返回值形式3:    表示没有返回值，return 不生效</li>
</ol>
</li>
<li><code>如果没有return ,默认以执行到最后一行的结果作为返回值。</code></li>
</ol>
</blockquote>
<h3 id="函数和方法的区别"><a href="#函数和方法的区别" class="headerlink" title="函数和方法的区别"></a>函数和方法的区别</h3><p>1）核心概念</p>
<ol>
<li>为完成某一功能的程序语句的集合，称为函数</li>
<li>类中的函数称之为方法</li>
</ol>
<p>2）案例实操</p>
<ol>
<li>scala语言可以在任何的语法结构中</li>
<li>函数没有重载和重写的概念：方法可以进行重载和重写</li>
<li>Scala中函数可以嵌套定义</li>
</ol>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//定义函数</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sayHi</span></span>(name: <span class="type">String</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">      println(<span class="string">&quot;hi &quot;</span>+name)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//调用函数</span></span><br><span class="line">    sayHi(<span class="string">&quot;alise&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//调用对象方法,输出main外面的sayhi</span></span><br><span class="line">    <span class="type">Test01_FunctionAndMethod</span>.sayHi(<span class="string">&quot;bob&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取方法返回值</span></span><br><span class="line">    <span class="keyword">val</span> result = <span class="type">Test01_FunctionAndMethod</span>.sayHello(<span class="string">&quot;kali&quot;</span>)</span><br><span class="line">    println(<span class="string">&quot;返回值：&quot;</span>+result)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//定义对象的方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sayHi</span></span>(name : <span class="type">String</span>) : <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;Hi,&quot;</span>+name)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sayHello</span></span>(name : <span class="type">String</span>) : <span class="type">String</span> = &#123;</span><br><span class="line">    <span class="string">&quot;hello&quot;</span>+name</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<h3 id="函数定义"><a href="#函数定义" class="headerlink" title="函数定义"></a>函数定义</h3><ul>
<li>函数1：无参，无返回值</li>
<li>函数2：无参，有返回值</li>
<li>函数3：有参，无返回值</li>
<li>函数4：有参，有返回值</li>
<li>函数5：多参，无返回值</li>
<li>函数6：多参，有返回值</li>
</ul>
<h3 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h3><p>1）案例实操</p>
<ol>
<li>可变参数</li>
<li>如果参数列表中存在多个参数，那么可变参数一般放置在最后</li>
<li>参数默认值，一般将持有默认值的参数放置在参数列表的后面</li>
<li>带名参数</li>
</ol>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">   <span class="comment">//1. 可变参数,后面的那个*类似于集合</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>(str :<span class="type">String</span>*): <span class="type">Unit</span> = &#123;</span><br><span class="line">     println(str)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   f1(<span class="string">&quot;alice&quot;</span>)</span><br><span class="line">   f1(<span class="string">&quot;aaa&quot;</span>,<span class="string">&quot;bbb&quot;</span>,<span class="string">&quot;ccc&quot;</span>)</span><br><span class="line"></span><br><span class="line">   <span class="comment">//2. 如果参数列表中存在多个参数，那么可变参数一般放置在最后</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">f2</span></span>(str1: <span class="type">String</span> , str2: <span class="type">String</span>*):<span class="type">Unit</span> =&#123;</span><br><span class="line">     println(<span class="string">&quot;str1: = &quot;</span>+str1+&#x27;\n&#x27;+<span class="string">&quot;str2: = &quot;</span>+str2)</span><br><span class="line">   &#125;</span><br><span class="line">   f2(<span class="string">&quot;alice&quot;</span>)</span><br><span class="line">   f2(<span class="string">&quot;aaa&quot;</span>,<span class="string">&quot;bbb&quot;</span>,<span class="string">&quot;ccc&quot;</span>)</span><br><span class="line"></span><br><span class="line">   <span class="comment">//3. 参数默认值，一般将持有默认值的参数放置在参数列表的后面</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">f3</span></span>(name: <span class="type">String</span>=<span class="string">&quot;我是默认的字符串&quot;</span>):<span class="type">Unit</span> = &#123;</span><br><span class="line">     println(name)</span><br><span class="line">   &#125;</span><br><span class="line">   f3()</span><br><span class="line">   f3(<span class="string">&quot;如果赋值参数默认值，会覆盖原来的默认值&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="comment">//4. 带名参数</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">f4</span></span>(name:<span class="type">String</span> , age: <span class="type">Int</span>):<span class="type">Unit</span>=&#123;</span><br><span class="line">     println(<span class="string">s&quot;<span class="subst">$&#123;age&#125;</span>岁的<span class="subst">$&#123;name&#125;</span>在尚硅谷学习&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">   f4(<span class="string">&quot;alice&quot;</span>,<span class="number">20</span>)</span><br><span class="line">   f4(age = <span class="number">23</span>,name =<span class="string">&quot;bob&quot;</span>)</span><br><span class="line">   </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>



<h3 id="函数至简原则"><a href="#函数至简原则" class="headerlink" title="函数至简原则"></a>函数至简原则</h3><p>函数至简原则：能省则省</p>
<p>1）至简原则细节</p>
<ol>
<li>return可以省略，Scala会使用函数体最后一行代码作为返回值</li>
<li>如果函数体只有一行代码，可以省略花括号</li>
<li>返回值类型如果能够推断出来，那么可以省略（和返回值类型一起省略）</li>
<li>如果有return，则不能省略返回值类型，必须指定</li>
<li>如果函数明确声明unit，那么即使函数体中使用return关键字也不起作用</li>
<li>Scala中如果期望是无返回值类型，可以省略等号</li>
<li>如果函数无参，但是声明了参数列表，那么调用时，小括号，可加可不加</li>
<li>如果函数没有参数列表，那么小括号可以省略，调用时小括号必须省略</li>
<li>如果不关心，只关心逻辑处理，那么函数名(def)可以省略</li>
</ol>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter05</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test04_Simplify</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1. return可以省略，Scala会使用函数体最后一行代码作为返回值</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>(name:<span class="type">String</span>):<span class="type">String</span> =&#123;</span><br><span class="line">      name</span><br><span class="line">    &#125;</span><br><span class="line">    println(f1(<span class="string">&quot;atguigu&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2. 如果函数体只有一行代码，可以省略花括号</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f2</span></span>(name:<span class="type">String</span>):<span class="type">String</span> = name</span><br><span class="line">    println(f2(<span class="string">&quot;atguigu&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3. 返回值类型如果能够推断出来，那么可以省略（和返回值类型一起省略）</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f3</span></span>(name:<span class="type">String</span> ) = name</span><br><span class="line">    println(f3(<span class="string">&quot;atguigu&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4. 如果有return，则不能省略返回值类型，必须指定</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f4</span></span>(name:<span class="type">String</span>):<span class="type">String</span> =&#123;</span><br><span class="line">      <span class="keyword">return</span> name</span><br><span class="line">    &#125;</span><br><span class="line">    println(f4(<span class="string">&quot;atguigu&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//5. 如果函数明确声明unit，那么即使函数体中使用return关键字也不起作用</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f5</span></span>(name : <span class="type">String</span>):<span class="type">Unit</span>=&#123;</span><br><span class="line">      <span class="keyword">return</span> name</span><br><span class="line">    &#125;</span><br><span class="line">    println(f5(<span class="string">&quot;atguigu&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//6. Scala中如果期望是无返回值类型，可以省略等号</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f6</span></span>(name:<span class="type">String</span>)&#123;</span><br><span class="line">      println(name)</span><br><span class="line">    &#125;</span><br><span class="line">    f6(<span class="string">&quot;atguigu&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//7. 如果函数无参，但是声明了参数列表，那么调用时，小括号，可加可不加</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f7</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">      println(<span class="string">&quot;atiguihu&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    f7()</span><br><span class="line">    f7</span><br><span class="line"></span><br><span class="line">    <span class="comment">//8.如果函数没有参数列表，那么小括号可以省略，调用时小括号必须省略</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f8</span></span>:<span class="type">Unit</span> = &#123;</span><br><span class="line">      println(<span class="string">&quot;8阿泰硅谷&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    f8</span><br><span class="line"></span><br><span class="line">    <span class="comment">//9.如果不关心，只关心逻辑处理，那么函数名(def)可以省略</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f9</span></span>(name:<span class="type">String</span>):<span class="type">Unit</span>=&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//匿名函数，lambda表达式</span></span><br><span class="line">    (name:<span class="type">String</span>) =&gt;&#123;</span><br><span class="line">      println(name)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><p>1.参数的类型可以省略，会根据形参进行自动的推导</p>
<p>2.类型省略之后，发现只有一个参数，则圆括号可以省略；其他情况，没有参数和参数超过1的永远不能省略圆括号</p>
<p>3.匿名函数如果只有一行，则大括号也可以省略</p>
<p>4.如果参数只出现一次，则参数省略且后面参数也可以用_代替</p>
<p>5.如果可以推断出，当前传入的println是一个函数体，而不是调用语句，可以直接省略下划线</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> fun = (name:<span class="type">String</span>)=&gt;&#123;println(name)&#125;</span><br><span class="line">   fun(<span class="string">&quot;匿名函数&quot;</span>)</span><br><span class="line"></span><br><span class="line">   println(<span class="string">&quot;--------------------&quot;</span>)</span><br><span class="line">   <span class="comment">//定义一个函数，以函数作为参数输入,作用：把需要操作的流程传进来，不像一般的函数传参数进来</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">f</span></span>( func: <span class="type">String</span> =&gt; <span class="type">Unit</span>): <span class="type">Unit</span>=&#123;</span><br><span class="line">     func(<span class="string">&quot;atguigu&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   f(fun)</span><br><span class="line">   f((name:<span class="type">String</span>)=&gt;&#123;println(<span class="string">&quot;传入lambda函数&quot;</span>+name)&#125;)</span><br><span class="line"></span><br><span class="line">   println(<span class="string">&quot;--------------------&quot;</span>)</span><br><span class="line">   <span class="comment">//匿名函数的简化原则</span></span><br><span class="line">   <span class="comment">//1.参数的类型可以省略，会根据形参进行自动的推导</span></span><br><span class="line">   f((name)=&gt;&#123;</span><br><span class="line">     println(name)</span><br><span class="line">   &#125;)</span><br><span class="line"></span><br><span class="line">   <span class="comment">//2.类型省略之后，发现只有一个参数，则圆括号可以省略；其他情况，没有参数和参数超过1的永远不能省略圆括号</span></span><br><span class="line">   f(name=&gt;&#123;</span><br><span class="line">     println(name)</span><br><span class="line">   &#125;)</span><br><span class="line"></span><br><span class="line">   <span class="comment">//3.匿名函数如果只有一行，则大括号也可以省略</span></span><br><span class="line">   f(name=&gt;println(name))</span><br><span class="line"></span><br><span class="line">   <span class="comment">//4.如果参数只出现一次，则参数省略且后面参数也可以用_代替</span></span><br><span class="line">   f(println(_))</span><br><span class="line"></span><br><span class="line">   <span class="comment">//5.如果可以推断出，当前传入的println是一个函数体，而不是调用语句，可以直接省略下划线</span></span><br><span class="line">   f(println)</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> fun = (name:<span class="type">String</span>)=&gt;&#123;println(name)&#125;</span><br><span class="line">    fun(<span class="string">&quot;匿名函数&quot;</span>)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;--------------------&quot;</span>)</span><br><span class="line">    <span class="comment">//定义一个函数，以函数作为参数输入,作用：把需要操作的流程传进来，不像一般的函数传参数进来</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span></span>( func: <span class="type">String</span> =&gt; <span class="type">Unit</span>): <span class="type">Unit</span>=&#123;</span><br><span class="line">      func(<span class="string">&quot;atguigu&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    f(fun)</span><br><span class="line">    f((name:<span class="type">String</span>)=&gt;&#123;println(<span class="string">&quot;传入lambda函数&quot;</span>+name)&#125;)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;--------------------&quot;</span>)</span><br><span class="line">    <span class="comment">//匿名函数的简化原则</span></span><br><span class="line">    <span class="comment">//1.参数的类型可以省略，会根据形参进行自动的推导</span></span><br><span class="line">    f((name)=&gt;&#123;</span><br><span class="line">      println(name)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.类型省略之后，发现只有一个参数，则圆括号可以省略；其他情况，没有参数和参数超过1的永远不能省略圆括号</span></span><br><span class="line">    f(name=&gt;&#123;</span><br><span class="line">      println(name)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.匿名函数如果只有一行，则大括号也可以省略</span></span><br><span class="line">    f(name=&gt;println(name))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.如果参数只出现一次，则参数省略且后面参数也可以用_代替</span></span><br><span class="line">    f(println(_))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//5.如果可以推断出，当前传入的println是一个函数体，而不是调用语句，可以直接省略下划线</span></span><br><span class="line">    f(println)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//实际示例：定义一个”二元运算“函数，之操作1和操作2两个数，但是具体运算通过参数传入</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dualFunctionOneAndTwo</span></span>(fun: (<span class="type">Int</span>,<span class="type">Int</span>) =&gt; <span class="type">Int</span> ):<span class="type">Int</span>= &#123;</span><br><span class="line">      fun(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> add = (a:<span class="type">Int</span>,b:<span class="type">Int</span>)=&gt;a+b</span><br><span class="line">    <span class="keyword">val</span> minus  = (a:<span class="type">Int</span>,b:<span class="type">Int</span>) =&gt; a-b</span><br><span class="line"></span><br><span class="line">    dualFunctionOneAndTwo(add)</span><br><span class="line">    dualFunctionOneAndTwo(minus)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//匿名函数化</span></span><br><span class="line">    println(dualFunctionOneAndTwo((a:<span class="type">Int</span>,b:<span class="type">Int</span>)=&gt;a+b))</span><br><span class="line">    println(dualFunctionOneAndTwo((a:<span class="type">Int</span>,b:<span class="type">Int</span>) =&gt; a-b))</span><br><span class="line"></span><br><span class="line">    println(dualFunctionOneAndTwo(( a , b ) =&gt; a+b))</span><br><span class="line"></span><br><span class="line">    println(dualFunctionOneAndTwo( _ + _ )) <span class="comment">//a+b</span></span><br><span class="line">    println(dualFunctionOneAndTwo( -_ + _ )) <span class="comment">//-a+b ==&gt; b-a</span></span><br><span class="line">    println(dualFunctionOneAndTwo( -_ - _ )) <span class="comment">//-a-b ==&gt; -(b+a)</span></span><br><span class="line">    println(dualFunctionOneAndTwo( -_ - -_ )) <span class="comment">//-a--b ==&gt; -(b+a)</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<p>骚操作</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">println(dualFunctionOneAndTwo( _ + _ )) //a+b</span><br><span class="line">   println(dualFunctionOneAndTwo( -_ + _ )) //-a+b ==&gt; b-a</span><br><span class="line">   println(dualFunctionOneAndTwo( -_ - _ )) //-a-b ==&gt; -(b+a)</span><br><span class="line">   println(dualFunctionOneAndTwo( -_ - -_ )) //-a--b ==&gt; -(b+a)</span><br></pre></td></tr></table></figure>

<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211116153219131.png" alt="image-20211116153219131"></p>
<h2 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h2><h3 id="函数高阶"><a href="#函数高阶" class="headerlink" title="函数高阶"></a>函数高阶</h3><ul>
<li>函数作为值传递</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f</span></span>(n: <span class="type">Int</span>): <span class="type">Int</span>=&#123;</span><br><span class="line">    println(<span class="string">&quot;f调用&quot;</span>)</span><br><span class="line">    n</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> result = f(<span class="number">2</span>)</span><br><span class="line">  println(result)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//1.函数作为值进行传递</span></span><br><span class="line">  <span class="keyword">val</span> f1: <span class="type">Int</span>=&gt;<span class="type">Int</span> = f _ <span class="comment">//_表示返回的是一个函数体</span></span><br><span class="line">  <span class="keyword">val</span> f2 = f _</span><br><span class="line"></span><br><span class="line">  println(f1)</span><br><span class="line">  println(f1(<span class="number">12</span>))</span><br><span class="line">  println(f2)</span><br><span class="line">  println(f2(<span class="number">35</span>))</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> f3 = f _</span><br><span class="line">  <span class="keyword">val</span> f4: (<span class="type">Int</span>)=&gt;<span class="type">Int</span> = f</span><br><span class="line">  println(f3)</span><br><span class="line">  println(f4)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>2.函数作为参数进行传递</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义二元运算函数</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dualEval</span></span>(op : (<span class="type">Int</span>,<span class="type">Int</span> ) =&gt; <span class="type">Int</span>,a:<span class="type">Int</span>,b:<span class="type">Int</span>):<span class="type">Int</span> = &#123;</span><br><span class="line">      op(a,b)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span></span>(a : <span class="type">Int</span> , b: <span class="type">Int</span>): <span class="type">Int</span> =&#123;</span><br><span class="line">      a + b</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(dualEval(add , <span class="number">2</span> , <span class="number">3</span>))</span><br><span class="line">    println(dualEval((a,b)=&gt;a + b , <span class="number">2</span> , <span class="number">3</span>))</span><br><span class="line">    println(dualEval(_+_ , <span class="number">2</span> , <span class="number">3</span>))</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;-------------------&quot;</span>)</span><br></pre></td></tr></table></figure>



<ul>
<li>3.函数作为函数的返回值返回</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//3.函数作为函数的返回值返回</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f5</span></span>():<span class="type">Int</span> =&gt; <span class="type">Unit</span> =&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f6</span></span>(a: <span class="type">Int</span>): <span class="type">Unit</span>= &#123;</span><br><span class="line">    println(<span class="string">&quot;f6调用&quot;</span> + a)</span><br><span class="line">  &#125;</span><br><span class="line">  f6  <span class="comment">//将函数直接返回</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> f6 = f5()</span><br><span class="line">println(f6)</span><br><span class="line">println(f6(<span class="number">25</span>))</span><br><span class="line"></span><br><span class="line">println(f5()(<span class="number">25</span>))</span><br></pre></td></tr></table></figure>



<h4 id="扩展练习"><a href="#扩展练习" class="headerlink" title="扩展练习"></a>扩展练习</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> arr: <span class="type">Array</span>[<span class="type">Int</span>] = <span class="type">Array</span>(<span class="number">12</span>,<span class="number">45</span>,<span class="number">75</span>,<span class="number">98</span>)</span><br><span class="line">  <span class="comment">//对数组进行处理，将操作抽象出来，处理完毕之后的结果返回一个新的数组</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">arrayOperation</span></span>(array: <span class="type">Array</span>[<span class="type">Int</span>],op:<span class="type">Int</span> =&gt; <span class="type">Int</span>):<span class="type">Array</span>[<span class="type">Int</span>] = &#123;</span><br><span class="line">    <span class="keyword">for</span> (elem &lt;- array) <span class="keyword">yield</span> op(elem)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//定义一个加一操作</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">addOne</span></span>(elem : <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">    elem + <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//调用函数</span></span><br><span class="line">  <span class="keyword">val</span> newArray: <span class="type">Array</span>[<span class="type">Int</span>] = arrayOperation(arr , addOne)</span><br><span class="line"></span><br><span class="line">  println(newArray.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">//传入匿名函数，实现元素翻倍</span></span><br><span class="line">  <span class="keyword">val</span> newArray2 = arrayOperation(arr , _*<span class="number">2</span>)</span><br><span class="line">  println(newArray2.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="匿名函数-1"><a href="#匿名函数-1" class="headerlink" title="匿名函数"></a>匿名函数</h3><p>​	案例：定义一个匿名函数，并将它作为值赋给变量fun。函数有三个参数，类型分别为Int，String，Char，返回值类型为 Boolean。要求调用函数fun(O,””。0r)碧到返回值为false，其它情况均返回true,</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">/*练习1:定义一个匿名函数，并将它作为值赋给变量fun。函数有三个参数，类型分别为Int，String，Char，返回值类型为 Boolean。</span></span><br><span class="line"><span class="comment">    要求调用函数fun(O,&quot;&quot;。0r)碧到返回值为false，其它情况均返回true,</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">val</span> fun = ( i:<span class="type">Int</span> , s:<span class="type">String</span> , c:<span class="type">Char</span>) =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; s == <span class="string">&quot;&quot;</span> &amp;&amp; c == &#x27;<span class="number">0</span>&#x27;)&#123;</span><br><span class="line">        <span class="literal">false</span></span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(fun(<span class="number">0</span>,<span class="string">&quot;&quot;</span>,&#x27;<span class="number">0</span>&#x27;))</span><br><span class="line">    println(fun(<span class="number">0</span>,<span class="string">&quot;&quot;</span>,&#x27;<span class="number">1</span>&#x27;))</span><br><span class="line">    println(fun(<span class="number">23</span>,<span class="string">&quot;&quot;</span>,&#x27;<span class="number">0</span>&#x27;))</span><br><span class="line">    println(fun(<span class="number">0</span>,<span class="string">&quot;hello&quot;</span>,&#x27;<span class="number">0</span>&#x27;))</span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<p>练习2：定义一个函数func，他接收一个int类型的参数，返回一个函数（记作f1），他返回的函数f1，接受一个String类型的参数，同样返回一个函数（记作f2）.函数f2接受一个Char类型的参数，返回一个Boolean的值。要求调用函数func(0)(“”)(‘0’)得到返回值为false，其他情况均返回true。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">/*练习1:定义一个匿名函数，并将它作为值赋给变量fun。函数有三个参数，类型分别为Int，String，Char，返回值类型为 Boolean。</span></span><br><span class="line"><span class="comment">    要求调用函数fun(O,&quot;&quot;。0r)碧到返回值为false，其它情况均返回true,</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">val</span> fun = ( i:<span class="type">Int</span> , s:<span class="type">String</span> , c:<span class="type">Char</span>) =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; s == <span class="string">&quot;&quot;</span> &amp;&amp; c == &#x27;<span class="number">0</span>&#x27;)&#123;</span><br><span class="line">        <span class="literal">false</span></span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(fun(<span class="number">0</span>,<span class="string">&quot;&quot;</span>,&#x27;<span class="number">0</span>&#x27;))</span><br><span class="line">    println(fun(<span class="number">0</span>,<span class="string">&quot;&quot;</span>,&#x27;<span class="number">1</span>&#x27;))</span><br><span class="line">    println(fun(<span class="number">23</span>,<span class="string">&quot;&quot;</span>,&#x27;<span class="number">0</span>&#x27;))</span><br><span class="line">    println(fun(<span class="number">0</span>,<span class="string">&quot;hello&quot;</span>,&#x27;<span class="number">0</span>&#x27;))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;-------------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//练习2</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span></span>(i : <span class="type">Int</span>): <span class="type">String</span>=&gt;(<span class="type">Char</span>=&gt;<span class="type">Boolean</span>) =&#123;</span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>(s :<span class="type">String</span>): <span class="type">Char</span> =&gt; <span class="type">Boolean</span> =&#123;</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f2</span></span>(c : <span class="type">Char</span>): <span class="type">Boolean</span> = &#123;</span><br><span class="line">          <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; s == <span class="string">&quot;&quot;</span> &amp;&amp; c == &#x27;<span class="number">0</span>&#x27;) <span class="literal">false</span> <span class="keyword">else</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">        f2</span><br><span class="line">      &#125;</span><br><span class="line">      f1</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(func(<span class="number">0</span>)(<span class="string">&quot;&quot;</span>)(&#x27;<span class="number">0</span>&#x27;))</span><br><span class="line">    println(func(<span class="number">0</span>)(<span class="string">&quot;&quot;</span>)(&#x27;<span class="number">1</span>&#x27;))</span><br><span class="line">    println(func(<span class="number">23</span>)(<span class="string">&quot;&quot;</span>)(&#x27;<span class="number">0</span>&#x27;))</span><br><span class="line">    println(func(<span class="number">0</span>)(<span class="string">&quot;hello&quot;</span>)(&#x27;<span class="number">0</span>&#x27;))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//匿名函数简写</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func1</span></span>(i : <span class="type">Int</span>):<span class="type">String</span> =&gt;(<span class="type">Char</span> =&gt; <span class="type">Boolean</span>) = &#123;</span><br><span class="line">      (s : <span class="type">String</span>) =&gt; &#123;</span><br><span class="line">        (c : <span class="type">Char</span>) =&gt;&#123;</span><br><span class="line">          <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; s == <span class="string">&quot;&quot;</span> &amp;&amp; c == &#x27;<span class="number">0</span>&#x27;) <span class="literal">false</span> <span class="keyword">else</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(func1(<span class="number">0</span>)(<span class="string">&quot;&quot;</span>)(&#x27;<span class="number">0</span>&#x27;))</span><br><span class="line">    println(func1(<span class="number">0</span>)(<span class="string">&quot;&quot;</span>)(&#x27;<span class="number">1</span>&#x27;))</span><br><span class="line">    println(func1(<span class="number">23</span>)(<span class="string">&quot;&quot;</span>)(&#x27;<span class="number">0</span>&#x27;))</span><br><span class="line">    println(func1(<span class="number">0</span>)(<span class="string">&quot;hello&quot;</span>)(&#x27;<span class="number">0</span>&#x27;))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//简化</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func2</span></span>(i : <span class="type">Int</span>):<span class="type">String</span> =&gt;(<span class="type">Char</span> =&gt; <span class="type">Boolean</span>) = &#123;</span><br><span class="line">      s =&gt; c =&gt;&#123;</span><br><span class="line">          <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; s == <span class="string">&quot;&quot;</span> &amp;&amp; c == &#x27;<span class="number">0</span>&#x27;) <span class="literal">false</span> <span class="keyword">else</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(func2(<span class="number">0</span>)(<span class="string">&quot;&quot;</span>)(&#x27;<span class="number">0</span>&#x27;))</span><br><span class="line">    println(func2(<span class="number">0</span>)(<span class="string">&quot;&quot;</span>)(&#x27;<span class="number">1</span>&#x27;))</span><br><span class="line">    println(func2(<span class="number">23</span>)(<span class="string">&quot;&quot;</span>)(&#x27;<span class="number">0</span>&#x27;))</span><br><span class="line">    println(func2(<span class="number">0</span>)(<span class="string">&quot;hello&quot;</span>)(&#x27;<span class="number">0</span>&#x27;))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//柯里化</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func3</span></span>(i : <span class="type">Int</span>)(s : <span class="type">String</span>)(c : <span class="type">Char</span>): <span class="type">Boolean</span> =&#123;</span><br><span class="line">      <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; s == <span class="string">&quot;&quot;</span> &amp;&amp; c == &#x27;<span class="number">0</span>&#x27;) <span class="literal">false</span> <span class="keyword">else</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<h3 id="函数柯里化-amp-闭包"><a href="#函数柯里化-amp-闭包" class="headerlink" title="函数柯里化&amp;闭包"></a>函数柯里化&amp;闭包</h3><p>闭包：函数式编程的标配</p>
<p>1）说明</p>
<p>​	<strong>闭包：</strong>如果一个函数，访问到了它的外部（局部）变量的值，那么这个函数和他所处的环境，称为闭包。</p>
<p>​	<strong>函数柯里化：</strong>把一个参数列表的多个参数，变成多个参数列表。</p>
<p>2）案例实操</p>
<p>（1）闭包</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span> </span>(a:<span class="type">Int</span> , b:<span class="type">Int</span>): <span class="type">Int</span>=&#123;</span><br><span class="line">      a + b</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.考虑固定一个加数的场景</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addByFour</span></span>(b : <span class="type">Int</span>):<span class="type">Int</span> =&#123;</span><br><span class="line">      <span class="number">4</span> + b</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.扩展固定加数改变的情况</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addByFive</span></span>(b : <span class="type">Int</span>): <span class="type">Int</span>=&#123;</span><br><span class="line">      <span class="number">5</span> + b</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.将固定加数作为另一个参数传入，但是是作为“第一层参数”传入</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addByFour1</span></span>(): <span class="type">Int</span> =&gt; <span class="type">Int</span> = &#123;</span><br><span class="line">      <span class="keyword">val</span> a = <span class="number">4</span></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">addB</span></span>(b : <span class="type">Int</span>): <span class="type">Int</span> =&#123;</span><br><span class="line">        a + b</span><br><span class="line">      &#125;</span><br><span class="line">      addB</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addByA</span></span>(a : <span class="type">Int</span>): <span class="type">Int</span> =&gt; <span class="type">Int</span> =&#123;</span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">addB</span></span>(b : <span class="type">Int</span>): <span class="type">Int</span> =&#123;</span><br><span class="line">        a + b</span><br><span class="line">      &#125;</span><br><span class="line">      addB</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(addByA(<span class="number">35</span>)(<span class="number">24</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> addByFour2 = addByA(<span class="number">4</span>)</span><br><span class="line">    <span class="keyword">val</span> addByFive2 = addByA(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    println(addByFour2(<span class="number">13</span>))</span><br><span class="line">    println(addByFive2(<span class="number">25</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//lambda表达式简写</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addByAs</span></span>(a : <span class="type">Int</span>): <span class="type">Int</span> =&gt; <span class="type">Int</span> =&#123;</span><br><span class="line">      (b : <span class="type">Int</span>)=&gt;&#123;</span><br><span class="line">        a + b</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addA3</span></span>(a : <span class="type">Int</span>): <span class="type">Int</span> =&gt; <span class="type">Int</span> = a+ _</span><br><span class="line">    <span class="keyword">val</span> addByFour3 = addA3(<span class="number">4</span>)</span><br><span class="line">    <span class="keyword">val</span> addByFive3 = addA3(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    println(addByFour3(<span class="number">13</span>))</span><br><span class="line">    println(addByFive3(<span class="number">25</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//5.柯里化</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addCurrying</span></span>(a : <span class="type">Int</span>)(b : <span class="type">Int</span>): <span class="type">Int</span> =&#123;</span><br><span class="line">      a + b</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(addCurrying(<span class="number">1</span>)(<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><p>1）说明</p>
<p>​	一个函数&#x2F;方法在函数&#x2F;方法体内又调用本身，我们称之为递归调用。</p>
<p>​	<strong>缺点：</strong>如果递归深度太深了，会导致栈帧的爆炸，原理可以看JVM的栈与方法，解决方法：尾递归调用。</p>
<p>2）案例实操</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test10_Recursion</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//计算阶乘</span></span><br><span class="line">    println(fact(<span class="number">34</span>))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//递归实现计算阶乘</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">fact</span></span>(n : <span class="type">Int</span>): <span class="type">Int</span> =&#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    n * fact(n - <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//尾递归实现</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">tailFact</span></span>(n : <span class="type">Int</span>): <span class="type">Int</span> =&#123;</span><br><span class="line">    <span class="meta">@tailrec</span> <span class="comment">//该注解可以确保下面的递归方法是一个尾递归方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">loop</span></span>(n : <span class="type">Int</span> , currRes : <span class="type">Int</span>): <span class="type">Int</span>=&#123;</span><br><span class="line">      <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> currRes</span><br><span class="line">      loop(n - <span class="number">1</span> ,currRes * n)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    loop(n , <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="控制抽象"><a href="#控制抽象" class="headerlink" title="控制抽象"></a>控制抽象</h3><p>1）值调用：把计算后的值传递过去</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.传值参数</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f0</span></span>(a : <span class="type">Int</span>): <span class="type">Unit</span> =&#123;</span><br><span class="line">      println(<span class="string">&quot;a:&quot;</span>+a)</span><br><span class="line">    &#125;</span><br><span class="line">    f0(<span class="number">23</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>(): <span class="type">Int</span> = &#123;</span><br><span class="line">      println(<span class="string">&quot;f1调用&quot;</span>)</span><br><span class="line">      <span class="number">12</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    f0(f1())</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<p>2）名调用：把代码传过去</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2.传名参数,传递的不再是具体的值，而是代码块</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f2</span></span>(a : =&gt;<span class="type">Int</span>): <span class="type">Unit</span> =&#123;</span><br><span class="line">      println(<span class="string">&quot;a: &quot;</span> + a)</span><br><span class="line">      println(<span class="string">&quot;a: &quot;</span> + a)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    f2(<span class="number">23</span>)</span><br><span class="line">    f2(f1())</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">a: 23</span></span><br><span class="line"><span class="function"><span class="title">a</span>: 23</span></span><br><span class="line"><span class="function"><span class="title">f1</span>调用</span></span><br><span class="line"><span class="function"><span class="title">a</span>: 12</span></span><br><span class="line"><span class="function"><span class="title">f1</span>调用</span></span><br><span class="line"><span class="function"><span class="title">a</span>: 12</span></span><br></pre></td></tr></table></figure>





<h3 id="惰性加载"><a href="#惰性加载" class="headerlink" title="惰性加载"></a>惰性加载</h3><p>1）说明</p>
<p>​	当函数返回值被声明为lazy时，函数执行将被推迟，直到我们首次对此取值，该函数才会执行，这种函数被我们称之为惰性函数。</p>
<p>2）案例实操</p>
<p>​	</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test13_Lazy</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">lazy</span> <span class="keyword">val</span> result:<span class="type">Int</span> = sum (<span class="number">13</span>,<span class="number">47</span>)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;函数调用&quot;</span>)</span><br><span class="line">    println(<span class="string">&quot;result=&quot;</span>+result)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sum</span></span>(i: <span class="type">Int</span>, i1: <span class="type">Int</span>): <span class="type">Int</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;3,sum调用&quot;</span>)</span><br><span class="line">    i + i1</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h1 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h1><p>Scala的面向对象思想和Java的面向对象思想和概念是一致的</p>
<p>Scala中语法和Java不同，补充了更多功能。</p>
<h2 id="Scala包"><a href="#Scala包" class="headerlink" title="Scala包"></a>Scala包</h2><p>1）基本语法</p>
<p>​	package 包名</p>
<p>2）Scala包的三大作用</p>
<ol>
<li>区分相同名字的类</li>
<li>当类很多时，可以很好的管理类</li>
<li>控制访问范围</li>
</ol>
<h3 id="包的命名"><a href="#包的命名" class="headerlink" title="包的命名"></a>包的命名</h3><p>1）命名规则</p>
<p>​	只能包含数字、字母、下划线、小圆点，但不能用数字开头，也不使用关键字。</p>
<p>2）案例实操</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">demo.<span class="keyword">class</span>.execl   <span class="comment">//错误，使用了class关键字</span></span><br><span class="line">demo<span class="number">.12</span>de          <span class="comment">//错误，数字开头了</span></span><br></pre></td></tr></table></figure>



<p>3）命名规范</p>
<p>​	一般是小写字母+小圆点</p>
<p>​	com.公司名.项目名.业务模块名</p>
<h3 id="包说明-包语句"><a href="#包说明-包语句" class="headerlink" title="包说明(包语句)"></a>包说明(包语句)</h3><p>scala中的两种包管理方式：</p>
<ul>
<li>一种方式和Java的包管理风格相同，每一个源文件一个包(包名和源文件所在路径不要求必须一致)，包名用“.”进行分隔一表示包的层级关系，如com.atguigu.com。</li>
<li>第二种，用<code>&#123;&#125;</code>嵌套风格定义包：</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com&#123;</span><br><span class="line">    <span class="keyword">package</span> atguigu&#123;</span><br><span class="line">        <span class="keyword">package</span> scala&#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>第二种风格有以下特点： </p>
<p>（1）一个源文件中可以声明多个 package。</p>
<p>（2）子包中的类可以直接访问父包中的内容，而无需导包。</p>
<p>2）案例实操	</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">package</span> com&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">import</span> com.atguigu.scala.<span class="type">Inner</span></span><br><span class="line"></span><br><span class="line">  <span class="class"><span class="keyword">object</span> <span class="title">Outer</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> out: <span class="type">String</span> = <span class="string">&quot;out&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">      println(<span class="type">Inner</span>.in)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">package</span> atguigu&#123;</span><br><span class="line">    <span class="keyword">package</span> scala&#123;</span><br><span class="line">      <span class="comment">//内层包中定义单例对象</span></span><br><span class="line">      <span class="class"><span class="keyword">object</span> <span class="title">Inner</span></span>&#123;</span><br><span class="line">        <span class="keyword">val</span> in: <span class="type">String</span> = <span class="string">&quot;in&quot;</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">          println(<span class="type">Outer</span>.out)</span><br><span class="line">          <span class="type">Outer</span>.out = <span class="string">&quot;outer&quot;</span></span><br><span class="line">          println(<span class="type">Outer</span>.out)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在同一个文件定义多个包</span></span><br><span class="line"><span class="keyword">package</span> aaa&#123;</span><br><span class="line">  <span class="keyword">package</span> bbb&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">import</span> com.atguigu.scala.<span class="type">Inner</span></span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">object</span> <span class="title">Test01_Package</span></span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">        println(<span class="type">Inner</span>.in)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="包对象"><a href="#包对象" class="headerlink" title="包对象"></a>包对象</h3><p>​	在 Scala 中可以为每个包定义一个同名的包对象，定义在包对象中的成员，作为其对 应包下所有 class 和 object 的共享变量，可以被直接访问。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="class"><span class="keyword">object</span> <span class="title">chapter06</span> </span>&#123;</span><br><span class="line">  <span class="comment">//定义当前包共享的属性和方法</span></span><br><span class="line">  <span class="keyword">val</span> commonValue = <span class="string">&quot;尚硅谷&quot;</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">commonMethod</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">s&quot;我们在<span class="subst">$&#123;commonValue&#125;</span>学习大数据&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*package chapter06</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">object Test02_PackageObject &#123;</span></span><br><span class="line"><span class="comment">  def main(args: Array[String]): Unit = &#123;</span></span><br><span class="line"><span class="comment">    commonMethod()</span></span><br><span class="line"><span class="comment">    println(commonValue)</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> chapter06&#123;</span><br><span class="line">  <span class="class"><span class="keyword">object</span> <span class="title">Test02_PackageObject</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">      commonMethod()</span><br><span class="line">      println(commonValue)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>1）说明 </p>
<p>​	（1）若使用 Java 的包管理风格，则包对象一般定义在其对应包下的 package.scala 文件中，包对象名与包名保持一致。</p>
<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211121154726417.png" alt="image-20211121154726417"></p>
<p>（2）如采用嵌套方式管理包，则包对象可与包定义在同一文件中，但是要保证包对象 与包声明在同一作用域中。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com &#123;</span><br><span class="line">     <span class="class"><span class="keyword">object</span> <span class="title">Outer</span> </span>&#123;</span><br><span class="line">         <span class="keyword">val</span> out: <span class="type">String</span> = <span class="string">&quot;out&quot;</span></span><br><span class="line">         <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">         	println(name)</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">package</span> <span class="class"><span class="keyword">object</span> <span class="title">com</span> </span>&#123;</span><br><span class="line"> <span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;com&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="导包说明"><a href="#导包说明" class="headerlink" title="导包说明"></a>导包说明</h3><p>1）和 Java 一样，可以在顶部使用 import 导入，在这个文件中的所有类都可以使用。 </p>
<p>2）局部导入：什么时候使用，什么时候导入。在其作用范围内都可以使用 </p>
<p>3）通配符导入：import java.util._</p>
<p>4）给类起名：import java.util.{ArrayList&#x3D;&gt;JL} </p>
<p>5）导入相同包的多个类：import java.util.{HashSet, ArrayList} </p>
<p>6）屏蔽类：import java.util.{ArrayList &#x3D;&gt;<em>,</em>} </p>
<p>7）导入包的绝对路径：new <em>root</em>.java.util.HashMap</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java &#123;</span><br><span class="line">     <span class="keyword">package</span> util &#123;</span><br><span class="line">         <span class="class"><span class="keyword">class</span> <span class="title">HashMap</span> </span>&#123;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>举例</strong></p>
<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211121155722595.png" alt="image-20211121155722595"></p>
<p>2）注意</p>
<p>Scala 中的三个默认导入分别是 </p>
<ul>
<li>import java.lang._ </li>
<li>import scala._ </li>
<li>import scala.Predef._</li>
</ul>
<h2 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a>类和对象</h2><p>类：可以看作是一个模板</p>
<p>对象：表示具体的事物</p>
<h3 id="定义类"><a href="#定义类" class="headerlink" title="定义类"></a>定义类</h3><p>1） 回顾：Java中的类</p>
<p>​	如果类是public的，则必须和文件名一致。</p>
<p>​	一般，一个.java有一个public类</p>
<p>​	注意：Scala中没有public，一个.scala 中可以写多个类。</p>
<ol>
<li>基本语法</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[修饰符] class 类名 &#123;</span><br><span class="line"> 类体</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>



<p>说明 </p>
<p>​	（1）Scala 语法中，类并不声明为 public，所有这些类都具有公有可见性（即默认就是 public） </p>
<p>​	（2）一个 Scala 源文件可以包含多个类</p>
<p>2）实操</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter06</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.beans.<span class="type">BeanProperty</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个类</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test03_Class</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//创建一个对象</span></span><br><span class="line">    <span class="keyword">val</span> student = <span class="keyword">new</span> student()</span><br><span class="line"></span><br><span class="line">    println(student.age)</span><br><span class="line">    println(student.sex)</span><br><span class="line">    student.sex = <span class="string">&quot;female&quot;</span></span><br><span class="line">    println(student.sex)</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">student</span></span>&#123;</span><br><span class="line">  <span class="comment">//定义属性</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">&quot;alice&quot;</span></span><br><span class="line">  <span class="meta">@BeanProperty</span></span><br><span class="line">  <span class="keyword">var</span> age: <span class="type">Int</span> = _</span><br><span class="line">  <span class="keyword">var</span> sex: <span class="type">String</span> = _  <span class="comment">//下划线表示初值是一个空</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h2 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h2><p>​	封装就是把抽象出的数据和对数据的操作封装在一起，数据被保护在内部，程序的其它 部分只有通过被授权的操作（成员方法），才能对数据进行操作。Java 封装操作如下， </p>
<p>​	（1）将属性进行私有化 </p>
<p>​	（2）提供一个公共的 set 方法，用于对属性赋值 </p>
<p>​	（3）提供一个公共的 get 方法，用于获取属性的值 </p>
<p>​	Scala 中的 public 属性，底层实际为 private，并通过 get 方法（obj.field()）和 set 方法 （obj.field_&#x3D;(value)）对其进行操作。所以 Scala 并不推荐将属性设为 private，再为其设置 public 的 get 和 set 方法的做法。但由于很多 Java 框架都利用反射调用 getXXX 和 setXXX 方 法，有时候为了和这些框架兼容，也会为 Scala 的属性设置 getXXX 和 setXXX 方法（通过 @BeanProperty 注解实现）。</p>
<h3 id="访问权限"><a href="#访问权限" class="headerlink" title="访问权限"></a>访问权限</h3><p>1）说明</p>
<p>​	在Java中，访问权限分为：public、private、protected和默认，在Scala中，你可以通过类似的修饰符达到同样的效果，但是使用上有区别。</p>
<ol>
<li>Scala中属性和方法的默认访问权限为 public，但 Scala 中无 public 关键字。</li>
<li>private 为私有权限，只在类的内部和伴生对象中可用。</li>
<li>protected 为受保护权限，Scala 中受保护权限比 Java 中更严格，同类、子类可以 访问，同包无法访问。</li>
<li>private[包名]增加包访问权限，包名下的其他类也可以使用</li>
</ol>
<p>2）实操案例</p>
<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211121173541441.png" alt="image-20211121173541441"></p>
<p>Test04_Access：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter06</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test04_Access</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个父类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> idCard : <span class="type">String</span> = <span class="string">&quot;3523566&quot;</span></span><br><span class="line">  <span class="keyword">protected</span> <span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">&quot;alice&quot;</span></span><br><span class="line">  <span class="keyword">var</span> sex : <span class="type">String</span> = <span class="string">&quot;female&quot;</span></span><br><span class="line">  <span class="keyword">private</span>[chapter06] <span class="keyword">var</span> age : <span class="type">Int</span> =<span class="number">10</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">printInfo</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(idCard+age+name+sex)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>Test04_ClassForAccess：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter06</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test04_ClassForAccess</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> person = <span class="keyword">new</span> <span class="type">Person</span>()</span><br><span class="line">    println(person.age)</span><br><span class="line">    println(person.sex)</span><br><span class="line"></span><br><span class="line">    person.printInfo()</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;子类=======================&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> worker = <span class="keyword">new</span> <span class="type">Worker</span>()</span><br><span class="line"></span><br><span class="line">    worker.printInfo()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个子类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Worker</span> <span class="keyword">extends</span>  <span class="title">Person</span></span>&#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">printInfo</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">&quot;Worker: &quot;</span>)</span><br><span class="line"></span><br><span class="line">    name = <span class="string">&quot;bob&quot;</span></span><br><span class="line">    age = <span class="number">25</span></span><br><span class="line">    sex =<span class="string">&quot;male&quot;</span></span><br><span class="line"></span><br><span class="line">    println(name+sex+age)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><p>1）基本语法</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">方法名</span></span>(参数列表) [：返回值类型] = &#123;</span><br><span class="line">	方法体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>2）示例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">sum</span></span>(n1:<span class="type">Int</span>, n2:<span class="type">Int</span>) : <span class="type">Int</span> = &#123;</span><br><span class="line"> n1 + n2</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"> <span class="keyword">val</span> person = <span class="keyword">new</span> <span class="type">Person</span>()</span><br><span class="line"> println(person.sum(<span class="number">10</span>, <span class="number">20</span>))</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="创建对象"><a href="#创建对象" class="headerlink" title="创建对象"></a>创建对象</h3><p>1）基本语法</p>
<p>​	 val | var 对象名 [：类型] &#x3D; new 类型() </p>
<p>2）案例实操 </p>
<p>​	（1）val 修饰对象，不能改变对象的引用（即：内存地址），可以改变对象属性的值。 </p>
<p>​	（2）var 修饰对象，可以修改对象的引用和修改对象的属性值 </p>
<p>​	（3）自动推导变量类型不能多态，所以多态需要显示声明</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"> <span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">&quot;canglaoshi&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"> <span class="comment">//val 修饰对象，不能改变对象的引用（即：内存地址），可以改变对象属</span></span><br><span class="line">性的值。</span><br><span class="line"> <span class="keyword">val</span> person = <span class="keyword">new</span> <span class="type">Person</span>()</span><br><span class="line"> person.name = <span class="string">&quot;bobo&quot;</span></span><br><span class="line"> <span class="comment">// person = new Person()// 错误的</span></span><br><span class="line"> println(person.name)</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="构造器"><a href="#构造器" class="headerlink" title="构造器"></a>构造器</h3><p>​	和 Java 一样，Scala 构造对象也需要调用构造方法，并且可以有任意多个构造方法。 </p>
<p>​	Scala 类的构造器包括：<strong>主构造器和辅助构造器</strong></p>
<p>1） 基本语法</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">类型</span>(<span class="params">形参列表</span>) </span>&#123; <span class="comment">//主构造器</span></span><br><span class="line"><span class="comment">// 类体</span></span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(形参列表) &#123; <span class="comment">// 辅助构造器</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(形参列表) &#123; <span class="comment">//辅助构造器可以有多个...</span></span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>说明： </p>
<p>（1）辅助构造器，函数的名称 this，可以有多个，编译器通过参数的个数及类型 来区分。</p>
<p>（2）辅助构造方法不能直接构建对象，必须直接或者间接调用主构造方法。 </p>
<p>（3）构造器调用其他另外的构造器，要求被调用构造器必须提前声明。</p>
<p><strong>2）案例实操</strong> </p>
<p>（1）如果主构造器无参数，小括号可省略，构建对象时调用的构造方法的小括号也可以省略</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter06</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test05_Constructor</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> student = <span class="keyword">new</span> <span class="type">Student1</span></span><br><span class="line">    student.<span class="type">Student1</span>()</span><br><span class="line">    println(<span class="string">&quot;==========================&quot;</span>)</span><br><span class="line">    <span class="keyword">new</span> <span class="type">Student1</span>(<span class="string">&quot;名字&quot;</span>)</span><br><span class="line">    println(<span class="string">&quot;==========================&quot;</span>)</span><br><span class="line">    <span class="keyword">new</span> <span class="type">Student1</span>(<span class="string">&quot;名字&quot;</span>,<span class="number">24</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">//定义属性</span></span><br><span class="line">  <span class="keyword">var</span> name: <span class="type">String</span> = _</span><br><span class="line">  <span class="keyword">var</span> age : <span class="type">Int</span> = _</span><br><span class="line"></span><br><span class="line">  println(<span class="string">&quot;1.主构造器方法被调用&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//声明辅助方法被调用</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name :<span class="type">String</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>() <span class="comment">//直接调用主构造器</span></span><br><span class="line">    println(<span class="string">&quot;2.辅助构造器也被调用&quot;</span>)</span><br><span class="line">    <span class="keyword">this</span>.name = name</span><br><span class="line">    println(<span class="string">s&quot;name: <span class="subst">$name</span> age:<span class="subst">$age</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name : <span class="type">String</span> , age : <span class="type">Int</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>(name)</span><br><span class="line">    println(<span class="string">&quot;3.辅助构造器被调用&quot;</span>)</span><br><span class="line">    println(<span class="string">s&quot;name: <span class="subst">$name</span>,age:<span class="subst">$age</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">Student1</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;一般方法被调用&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211122191002824.png" alt="image-20211122191002824"></p>
<h3 id="构造器参数"><a href="#构造器参数" class="headerlink" title="构造器参数"></a>构造器参数</h3><p>1）说明 </p>
<p>​	Scala 类的主构造器函数的形参包括三种类型：未用任何修饰、var 修饰、val 修饰 </p>
<p>​	（1）未用任何修饰符修饰，这个参数就是一个局部变量 </p>
<p>​	（2）var 修饰参数，作为类的成员属性使用，可以修改 </p>
<p>​	（3）val 修饰参数，作为类只读属性使用，不能修改</p>
<p>2）案例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter06</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test06_ConstructorPamars</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> student2 = <span class="keyword">new</span> <span class="type">Student2</span></span><br><span class="line"></span><br><span class="line">    student2.name = <span class="string">&quot;alise&quot;</span></span><br><span class="line">    student2.age = <span class="number">23</span></span><br><span class="line"></span><br><span class="line">    println(<span class="string">s&quot;student2: name = <span class="subst">$&#123;student2.name&#125;</span>,age = <span class="subst">$&#123;student2.age&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> student3 = <span class="keyword">new</span> <span class="type">Student3</span>(<span class="string">&quot;bob&quot;</span>,<span class="number">23</span>)</span><br><span class="line">    println(<span class="string">s&quot;student3: name = <span class="subst">$&#123;student3.name&#125;</span>,age = <span class="subst">$&#123;student3.age&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> student4 = <span class="keyword">new</span> <span class="type">Student4</span>(<span class="string">&quot;jeck&quot;</span>, <span class="number">22</span>)</span><br><span class="line">    student4.printInfo()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> student5 = <span class="keyword">new</span> <span class="type">Student5</span>(<span class="string">&quot;bobs&quot;</span>,<span class="number">25</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> student6 = <span class="keyword">new</span> <span class="type">Student6</span>(<span class="string">&quot;cary&quot;</span>,<span class="number">35</span>)</span><br><span class="line">    student6.school = <span class="string">&quot;middle school&quot;</span></span><br><span class="line">    student6.printInfo()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义类</span></span><br><span class="line"><span class="comment">//无参构造器</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student2</span></span>&#123;</span><br><span class="line">  <span class="comment">//单独定义属性</span></span><br><span class="line">  <span class="keyword">var</span> name: <span class="type">String</span> = _</span><br><span class="line">  <span class="keyword">var</span> age: <span class="type">Int</span> = _</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//上面构造等价于</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student3</span>(<span class="params">var name: <span class="type">String</span> , var age : <span class="type">Int</span></span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//住构造器参数无修饰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student4</span>(<span class="params">name: <span class="type">String</span>, age : <span class="type">Int</span></span>)</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">printInfo</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">s&quot;student4: name = <span class="subst">$&#123;name&#125;</span>,age = <span class="subst">$&#123;age&#125;</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//上面构造等价于</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student5</span>(<span class="params">val name: <span class="type">String</span> , val age : <span class="type">Int</span></span>)</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student6</span>(<span class="params">var name: <span class="type">String</span>,var age: <span class="type">Int</span></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> school : <span class="type">String</span> = _</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name:<span class="type">String</span> , age:<span class="type">Int</span> , school:<span class="type">String</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>(name,age)</span><br><span class="line">    <span class="keyword">this</span>.school = school</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">printInfo</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">s&quot;student6: name = <span class="subst">$&#123;name&#125;</span>,age = <span class="subst">$&#123;age&#125;</span>,school = <span class="subst">$&#123;school&#125;</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211122192928581.png" alt="image-20211122192928581"></p>
<h3 id="继承和多态"><a href="#继承和多态" class="headerlink" title="继承和多态"></a>继承和多态</h3><p>1）基本语法</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">子类名</span> <span class="keyword">extends</span> <span class="title">父类名</span></span>&#123;类体&#125;</span><br></pre></td></tr></table></figure>

<p>​	（1）子类继承父类的属性和方法 </p>
<p>​	（2）scala 是单继承</p>
<p>2）案例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter06</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test07_Inherit</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> student7 = <span class="keyword">new</span> <span class="type">Student7</span>(<span class="string">&quot;alise&quot;</span>,<span class="number">56</span>)</span><br><span class="line">    println(<span class="string">&quot;=====================&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> student2 = <span class="keyword">new</span> <span class="type">Student7</span>(<span class="string">&quot;bob&quot;</span>,<span class="number">27</span>,<span class="string">&quot;123211&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个父类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person7</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name: <span class="type">String</span> = _</span><br><span class="line">  <span class="keyword">var</span> age: <span class="type">Int</span> = _</span><br><span class="line"></span><br><span class="line">  println(<span class="string">&quot;1.父类的主构造器调用&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name : <span class="type">String</span>,age: <span class="type">Int</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>()</span><br><span class="line">    println(<span class="string">&quot;2.父类的辅助共组傲气被调用&quot;</span>)</span><br><span class="line">    <span class="keyword">this</span>.name= <span class="string">&quot;bob&quot;</span></span><br><span class="line">    <span class="keyword">this</span>.age = <span class="number">23</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">printInfo</span></span>: <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">s&quot;Person: <span class="subst">$name</span> and <span class="subst">$age</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义子类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student7</span>(<span class="params">name:<span class="type">String</span>,age:<span class="type">Int</span></span>) <span class="keyword">extends</span> <span class="title">Person7</span></span>&#123;</span><br><span class="line">  <span class="keyword">var</span> stdNo:<span class="type">String</span> = _</span><br><span class="line"></span><br><span class="line">  println(<span class="string">&quot;3.子类的主构造器调用&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(name:<span class="type">String</span> , age:<span class="type">Int</span> , stdNo:<span class="type">String</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>(name,age)</span><br><span class="line">    println(<span class="string">&quot;4.子类的辅助构造器调用&quot;</span>)</span><br><span class="line">    <span class="keyword">this</span>.stdNo = stdNo</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">printInfo</span></span>: <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">s&quot;student7: <span class="subst">$name</span> and <span class="subst">$age</span> and <span class="subst">$stdNo</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211122194336098.png" alt="image-20211122194336098"></p>
<p><strong>多态</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter06</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test08_DynamicBind</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> student: <span class="type">Person8</span> = <span class="keyword">new</span> <span class="type">Student8</span></span><br><span class="line">    println(student.name)</span><br><span class="line">    student.hello</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person8</span></span>&#123;</span><br><span class="line">  <span class="keyword">val</span> name:<span class="type">String</span> = <span class="string">&quot;person&quot;</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">hello</span></span>: <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;hello person&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student8</span> <span class="keyword">extends</span> <span class="title">Person8</span></span>&#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;student&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">hello</span></span>: <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">&quot;hello student&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h2><h3 id="抽象属性和抽象方法"><a href="#抽象属性和抽象方法" class="headerlink" title="抽象属性和抽象方法"></a>抽象属性和抽象方法</h3><p>1）语法</p>
<p>​	（1）定义抽象类：abstract class Person{} &#x2F;&#x2F;通过 abstract 关键字标记抽象类 </p>
<p>​	（2）定义抽象属性：val|var name:String &#x2F;&#x2F;一个属性没有初始化，就是抽象属性 </p>
<p>​	（3）定义抽象方法：def hello():String &#x2F;&#x2F;只声明而没有实现的方法，就是抽象方法</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter06</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test09_AbstractClass</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义抽象类</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Person9</span></span>&#123;</span><br><span class="line">  <span class="comment">//非抽象属性</span></span><br><span class="line">  <span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;person&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//抽象属性</span></span><br><span class="line">  <span class="keyword">var</span> age : <span class="type">Int</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//非抽象方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">eat</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;person eat&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//抽象方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sleep</span></span>(): <span class="type">Unit</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义具体的实现类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student9</span> <span class="keyword">extends</span> <span class="title">Person9</span></span>&#123;</span><br><span class="line">  <span class="keyword">var</span> age : <span class="type">Int</span> = <span class="number">18</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">sleep</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">&quot;继承抽象方法&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;1&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">eat</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">super</span>.eat()</span><br><span class="line">    println(<span class="string">&quot;我是重写父类的抽象方法&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2）继承&amp;重写 </p>
<p>​	（1）如果父类为抽象类，那么子类需要将抽象的属性和方法实现，否则子类也需声明 为抽象类 </p>
<p>​	（2）重写非抽象方法需要用 override 修饰，重写抽象方法则可以不加 override。 </p>
<p>​	（3）子类中调用父类的方法使用 super 关键字 </p>
<p>​	（4）子类对抽象属性进行实现，父类抽象属性可以用 var 修饰； 子类对非抽象属性重写，父类非抽象属性只支持 val 类型，而不支持 var。 因为 var 修饰的为可变变量，子类继承之后就可以直接使用，没有必要重写</p>
<h3 id="匿名子类"><a href="#匿名子类" class="headerlink" title="匿名子类"></a>匿名子类</h3><p>1）说明</p>
<p>​	和Java一样，可以通过包含带有定义或重写的代码块的方式创建一个匿名的子类。</p>
<p>2）案例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter06</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test10_AnnoymousClass</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> person10:<span class="type">Person10</span> = <span class="keyword">new</span> <span class="type">Person10</span> &#123;</span><br><span class="line">      <span class="keyword">override</span> <span class="keyword">var</span> name: <span class="type">String</span> = <span class="string">&quot;alice&quot;</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">eat</span></span>(): <span class="type">Unit</span> = println(<span class="string">&quot;person eat&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    person10.eat()</span><br><span class="line">    println(person10.name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义抽象类</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Person10</span></span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">eat</span></span>():<span class="type">Unit</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="单例对象（伴生对象）"><a href="#单例对象（伴生对象）" class="headerlink" title="单例对象（伴生对象）"></a>单例对象（伴生对象）</h2><h3 id="单例对象"><a href="#单例对象" class="headerlink" title="单例对象"></a>单例对象</h3><p>​	Scala语言是<strong>完全面向对象</strong>的语言，所以并没有静态的操作（即在Scala中没有静态的概 念）。但是为了能够和Java语言交互（因为Java中有静态概念），就产生了一种特殊的对象 来<strong>模拟类对象</strong>，该对象为<strong>单例对象</strong>。若单例对象名与类名一致，则称该单例对象这个类的<strong>伴生对象</strong>，这个类的所有“静态”内容都可以放置在它的<strong>伴生对象中</strong>声明。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter06</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test11_object</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> student1 = <span class="keyword">new</span> <span class="type">Student11</span>(<span class="string">&quot;alice&quot;</span>,<span class="number">11</span>)</span><br><span class="line">    student1.printInfo()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> bob = <span class="type">Student11</span>.newStudent(<span class="string">&quot;bob&quot;</span>, <span class="number">22</span>)</span><br><span class="line">    bob.printInfo()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> bob1 = <span class="type">Student11</span>.apply(<span class="string">&quot;bob1&quot;</span>, <span class="number">221</span>)</span><br><span class="line">    bob1.printInfo()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> bobs = <span class="type">Student11</span>(<span class="string">&quot;bobs&quot;</span>, <span class="number">221</span>)</span><br><span class="line">    bobs.printInfo()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student11</span>(<span class="params">val name: <span class="type">String</span> , val age : <span class="type">Int</span></span>)</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">printInfo</span></span>()&#123;</span><br><span class="line">    println(<span class="string">s&quot;student: name = <span class="subst">$name</span> , age = <span class="subst">$age</span>, school = <span class="subst">$&#123;Student11.school&#125;</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//伴生对象</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Student11</span></span>&#123;</span><br><span class="line">  <span class="keyword">val</span> school : <span class="type">String</span> = <span class="string">&quot;atguigu&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">//定义一个类的对象实列的创建方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">newStudent</span></span>(name:<span class="type">String</span> , age:<span class="type">Int</span>):<span class="type">Student11</span> = <span class="keyword">new</span> <span class="type">Student11</span>(name,age);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(name:<span class="type">String</span> , age:<span class="type">Int</span>):<span class="type">Student11</span> = <span class="keyword">new</span> <span class="type">Student11</span>(name,age);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="apply方法"><a href="#apply方法" class="headerlink" title="apply方法"></a>apply方法</h3><p>1）说明 </p>
<p>​	（1）通过伴生对象的 apply 方法，实现不使用 new 方法创建对象。 </p>
<p>​	（2）如果想让主构造器变成私有的，可以在()之前加上 private。 </p>
<p>​	（3）apply 方法可以重载。 </p>
<p>​	（4）Scala 中 obj(arg)的语句实际是在调用该对象的 apply 方法，即 obj.apply(arg)。用 以统一面向对象编程和函数式编程的风格。 </p>
<p>​	（5）当使用 new 关键字构建对象时，调用的其实是类的构造方法，当直接使用类名构 建对象时，调用的其实时伴生对象的 apply 方法。</p>
<p>2）实操</p>
<p>在单例中使用：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter06</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test12_Sigleton</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> student1 = <span class="type">Student12</span>.getInstance()</span><br><span class="line">    <span class="keyword">val</span> student2 = <span class="type">Student12</span>.getInstance()</span><br><span class="line"></span><br><span class="line">    println(student1==student2)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student12</span> <span class="title">private</span>(<span class="params">val name:<span class="type">String</span>,val age : <span class="type">Int</span></span>)</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">printInfo</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">s&quot;student : name <span class="subst">$name</span>,age=<span class="subst">$age</span>,school=<span class="subst">$&#123;Student11.school&#125;</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//饿汉式</span></span><br><span class="line"><span class="comment">/*object Student12&#123;</span></span><br><span class="line"><span class="comment">  private val student: Student12 = new Student12(&quot;alise&quot;,18)</span></span><br><span class="line"><span class="comment">  def getInstance():Student12 = student</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//懒汉式</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Student12</span></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">var</span> student : <span class="type">Student12</span> = _</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">getInstance</span></span>() : <span class="type">Student12</span> = &#123;</span><br><span class="line">    <span class="keyword">if</span> (student == <span class="literal">null</span> )&#123;</span><br><span class="line">      <span class="comment">//如果没有对象实例的话，就先创建一个</span></span><br><span class="line">      student = <span class="keyword">new</span> <span class="type">Student12</span>(<span class="string">&quot;alise&quot;</span>,<span class="number">12</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    student</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="特质（Trait）"><a href="#特质（Trait）" class="headerlink" title="特质（Trait）"></a>特质（Trait）</h2><p>​	<strong>Scala 语言中，采用特质 trait（特征）来代替接口的概念</strong>，也就是说，多个类具有相同 的特质（特征）时，就可以将这个特质（特征）独立出来，采用关键字 trait 声明。</p>
<p>​	Scala 中的 trait 中即<strong>可以有抽象属性和方法，也可以有具体的属性和方法，一个类可 以混入（mixin）多个特质</strong>。这种感觉类似于 Java 中的抽象类。</p>
<p>​	Scala 引入 trait 特征，第一可以替代 Java 的接口，第二个也是对单继承机制的一种 补充。</p>
<h3 id="特质的说明"><a href="#特质的说明" class="headerlink" title="特质的说明"></a>特质的说明</h3><p>1）基本语法</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">特质名</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">trait</span> <span class="title">主体</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>2）案例实操</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">PersonTrait</span> </span>&#123;</span><br><span class="line"> <span class="comment">// 声明属性</span></span><br><span class="line"> <span class="keyword">var</span> name:<span class="type">String</span> = _</span><br><span class="line"> <span class="comment">// 声明方法</span></span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">eat</span></span>():<span class="type">Unit</span>=&#123;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">// 抽象属性</span></span><br><span class="line"> <span class="keyword">var</span> age:<span class="type">Int</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">// 抽象方法</span></span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">say</span></span>():<span class="type">Unit</span></span><br><span class="line">&#125;</span><br><span class="line">通过查看字节码，可以看到特质=抽象类+接口</span><br></pre></td></tr></table></figure>



<h3 id="特质基本语法"><a href="#特质基本语法" class="headerlink" title="特质基本语法"></a>特质基本语法</h3><p>​	一个类具有某种特质（特征），就意味着这个类满足了这个特质（特征）的所有要素， 所以在使用时，也采用了 <strong>extends 关键字</strong>，如果有多个特质或存在父类，那么需要采用 <strong>with 关键字</strong>连接。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter06</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test13_Trait</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">val</span> student1 = <span class="keyword">new</span> <span class="type">Student13</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    student1.dating()</span><br><span class="line">    student1.sayHello()</span><br><span class="line">    student1.study()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person13</span> </span>&#123;</span><br><span class="line">  <span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;person&quot;</span></span><br><span class="line">  <span class="keyword">var</span> age: <span class="type">Int</span> = <span class="number">18</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sayHello</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;hello from :&quot;</span>+name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个模板</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Young</span></span>&#123;</span><br><span class="line">  <span class="comment">//声明抽象和非抽象属性</span></span><br><span class="line">  <span class="keyword">var</span> age: <span class="type">Int</span></span><br><span class="line">  <span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;young&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//声明抽象和非抽象的方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">play</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;young people is playing&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">dating</span></span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student13</span> <span class="keyword">extends</span> <span class="title">Person13</span> <span class="keyword">with</span> <span class="title">Young</span></span>&#123;</span><br><span class="line">  <span class="comment">//这里必须要重写name，因为继承类和特征类中都有name属性，如果不重写，scala是分辨不清楚的，会导致程序报错</span></span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;student&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//实现抽象方法</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">dating</span></span>(): <span class="type">Unit</span> = println(<span class="string">s&quot;student <span class="subst">$name</span> is dating&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">study</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">s&quot;student <span class="subst">$name</span> is studying&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//重写父类方法</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">sayHello</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">super</span>.sayHello()</span><br><span class="line">    println(<span class="string">s&quot;hello from: student <span class="subst">$name</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>1）基本语法： </p>
<p>​	没有父类：class 类名 extends 特质 1 with 特质 2 with 特质 3 … </p>
<p>​	有父类：class 类名 extends 父类 with 特质 1 with 特质 2 with 特质 3… </p>
<p>2）说明 </p>
<p>​	（1）类和特质的关系：使用继承的关系。 </p>
<p>​	（2）当一个类去继承特质时，第一个连接词是 extends，后面是 with。 </p>
<p>​	（3）如果一个类在同时继承特质和父类时，应当把父类写在 extends 后。 </p>
<h3 id="特质的混入"><a href="#特质的混入" class="headerlink" title="特质的混入"></a>特质的混入</h3><p>1）案例实操 </p>
<p>​	（1）特质可以同时拥有抽象方法和具体方法 </p>
<p>​	（2）一个类可以混入（mixin）多个特质 </p>
<p>​	（3）所有的 Java 接口都可以当做 Scala 特质使用 </p>
<p>​	（4）动态混入：可灵活的扩展类的功能 </p>
<p>​		（4.1）动态混入：创建对象时混入 trait，而无需使类混入该 trait </p>
<p>​		（4.2）如果混入的 trait 中有未实现的方法，则需要实现</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter06</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test14_TraitMixin</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> student = <span class="keyword">new</span> <span class="type">Student14</span></span><br><span class="line">    student.study()</span><br><span class="line">    student.increase()</span><br><span class="line"></span><br><span class="line">    student.play()</span><br><span class="line">    student.increase()</span><br><span class="line"></span><br><span class="line">    student.dating()</span><br><span class="line">    student.increase()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//再定义一个特质</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Knowledge</span></span>&#123;</span><br><span class="line">  <span class="keyword">var</span> amount : <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">increase</span></span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student14</span> <span class="keyword">extends</span> <span class="title">Person13</span> <span class="keyword">with</span> <span class="title">Young</span> <span class="keyword">with</span> <span class="title">Knowledge</span> </span>&#123;</span><br><span class="line">  <span class="comment">//这里必须要重写name，因为继承类和特征类中都有name属性，如果不重写，scala是分辨不清楚的，会导致程序报错</span></span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;student&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//实现抽象方法</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">dating</span></span>(): <span class="type">Unit</span> = println(<span class="string">s&quot;student <span class="subst">$name</span> is dating&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">study</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">s&quot;student <span class="subst">$name</span> is studying&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//重写父类方法</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">sayHello</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">super</span>.sayHello()</span><br><span class="line">    println(<span class="string">s&quot;hello from: student <span class="subst">$name</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//实现Knowledge的抽象方法</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">increase</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    amount += <span class="number">1</span></span><br><span class="line">    println(<span class="string">s&quot;student <span class="subst">$name</span> knowledge increased: <span class="subst">$amount</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>包含动态混入</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter06</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test14_TraitMixin</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> student = <span class="keyword">new</span> <span class="type">Student14</span></span><br><span class="line">    student.study()</span><br><span class="line">    student.increase()</span><br><span class="line"></span><br><span class="line">    student.play()</span><br><span class="line">    student.increase()</span><br><span class="line"></span><br><span class="line">    student.dating()</span><br><span class="line">    student.increase()</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;============================&quot;</span>)</span><br><span class="line">    <span class="comment">//动态混入</span></span><br><span class="line">    <span class="keyword">val</span> studentWithTalent = <span class="keyword">new</span> <span class="type">Student14</span> <span class="keyword">with</span> <span class="type">Talent</span> &#123;</span><br><span class="line">      <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">singing</span></span>(): <span class="type">Unit</span> = println(<span class="string">&quot;student is good at singing&quot;</span>)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">dance</span></span>(): <span class="type">Unit</span> = println(<span class="string">&quot;student is good dance&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    studentWithTalent.sayHello()</span><br><span class="line">    studentWithTalent.play()</span><br><span class="line">    studentWithTalent.study()</span><br><span class="line">    studentWithTalent.dating()</span><br><span class="line">    studentWithTalent.singing()</span><br><span class="line">    studentWithTalent.dance()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//再定义一个特质</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Knowledge</span></span>&#123;</span><br><span class="line">  <span class="keyword">var</span> amount : <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">increase</span></span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Talent</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">singing</span></span>()</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">dance</span></span>()</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student14</span> <span class="keyword">extends</span> <span class="title">Person13</span> <span class="keyword">with</span> <span class="title">Young</span> <span class="keyword">with</span> <span class="title">Knowledge</span> </span>&#123;</span><br><span class="line">  <span class="comment">//这里必须要重写name，因为继承类和特征类中都有name属性，如果不重写，scala是分辨不清楚的，会导致程序报错</span></span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;student&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//实现抽象方法</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">dating</span></span>(): <span class="type">Unit</span> = println(<span class="string">s&quot;student <span class="subst">$name</span> is dating&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">study</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">s&quot;student <span class="subst">$name</span> is studying&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//重写父类方法</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">sayHello</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">super</span>.sayHello()</span><br><span class="line">    println(<span class="string">s&quot;hello from: student <span class="subst">$name</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//实现Knowledge的抽象方法</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">increase</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    amount += <span class="number">1</span></span><br><span class="line">    println(<span class="string">s&quot;student <span class="subst">$name</span> knowledge increased: <span class="subst">$amount</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211125210405160.png" alt="image-20211125210405160"></p>
<h3 id="特质的叠加"><a href="#特质的叠加" class="headerlink" title="特质的叠加"></a>特质的叠加</h3><p>​	由于一个类可以混入（mixin）多个 trait，且 trait 中可以有具体的属性和方法，若混入 的特质中具有相同的方法（方法名，参数列表，返回值均相同），必然会出现继承冲突问题。 冲突分为以下两种：</p>
<p>​	第一种，一个类（Sub）混入的两个 trait（TraitA，TraitB）中具有相同的具体方法，且 两个 trait 之间没有任何关系，解决这类冲突问题，直接在类（Sub）中重写冲突方法。</p>
<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211125210514663.png" alt="image-20211125210514663"></p>
<p>示例：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter06</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test15_TraitOverlying</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> student1 = <span class="keyword">new</span> <span class="type">Student15</span></span><br><span class="line">    student1.increase()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Talent15</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">singing</span></span>()</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">dancing</span></span>()</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">increase</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;talent increase&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student15</span> <span class="keyword">extends</span> <span class="title">Person13</span> <span class="keyword">with</span> <span class="title">Talent15</span> <span class="keyword">with</span> <span class="title">Knowledge</span> </span>&#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">singing</span></span>(): <span class="type">Unit</span> = ???</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">dancing</span></span>(): <span class="type">Unit</span> = ???</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">increase</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">super</span>.increase()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">==================================</span><br><span class="line"><span class="comment">//再定义一个特质</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Knowledge</span></span>&#123;</span><br><span class="line">  <span class="keyword">var</span> amount : <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">increase</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;Knowledge increase&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//def increase()</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211125211344150.png" alt="image-20211125211344150"></p>
<p>输出结果一般是就远原则。</p>
<p>​	第二种，一个类（Sub）混入的两个 trait（TraitA，TraitB）中具有相同的具体方法，且 两个 trait 继承自相同的 trait（TraitC），及所谓的“钻石问题”，解决这类冲突问题，Scala 采用了特质叠加的策略。</p>
<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211125210541352.png" alt="image-20211125210541352"></p>
<p>所谓的特质叠加，就是将混入的多个 trait 中的冲突方法叠加起来，案例如下，</p>
<p>示例：</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter06</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test15_TraitOverlying</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//砖石问题特征叠加</span></span><br><span class="line">    <span class="keyword">val</span> ball = <span class="keyword">new</span> <span class="type">MyFootBall</span></span><br><span class="line">    println(ball.describe())</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义球类</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Ball</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">describe</span></span>():<span class="type">String</span> = <span class="string">&quot;ball&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义颜色特征</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">ColorBall</span> <span class="keyword">extends</span> <span class="title">Ball</span></span>&#123;</span><br><span class="line">  <span class="keyword">var</span> color: <span class="type">String</span> = <span class="string">&quot;red&quot;</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">describe</span></span>(): <span class="type">String</span> = color +<span class="string">&quot;-&quot;</span>+ <span class="keyword">super</span>.describe()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义种类</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">CategoryBall</span> <span class="keyword">extends</span> <span class="title">Ball</span></span>&#123;</span><br><span class="line">  <span class="keyword">var</span> category : <span class="type">String</span> = <span class="string">&quot;foot&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">describe</span></span>(): <span class="type">String</span> = category +<span class="string">&quot;-&quot;</span>+ <span class="keyword">super</span>.describe()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个自己的足球</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyFootBall</span> <span class="keyword">extends</span> <span class="title">CategoryBall</span> <span class="keyword">with</span> <span class="title">ColorBall</span></span>&#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">describe</span></span>(): <span class="type">String</span> = <span class="keyword">super</span>.describe()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211125212437660.png" alt="image-20211125212437660"></p>
<h3 id="特质叠加执行顺序"><a href="#特质叠加执行顺序" class="headerlink" title="特质叠加执行顺序"></a>特质叠加执行顺序</h3><p>​	思考：上述案例中的 super.describe()调用的是父 trait 中的方法吗？ </p>
<p>​	当一个类混入多个特质的时候，scala 会对所有的特质及其父特质按照一定的顺序进行 排序，而此案例中的 super.describe()调用的实际上是排好序后的下一个特质中的 describe() 方法。，排序规则如下：</p>
<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211125212527395.png" alt="image-20211125212527395"></p>
<p><strong>结论：</strong></p>
<p>​	（1）案例中的 super，不是表示其父特质对象，而是表示上述叠加顺序中的下一个特质， 即，MyClass 中的 super 指代 Color，Color 中的 super 指代 Category，Category 中的 super 指代 Ball。 </p>
<p>​	（2）如果想要调用某个指定的混入特质中的方法，可以增加约束：super[]，例super[Category].describe()。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//调指定的球</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ThisBall</span> <span class="keyword">extends</span> <span class="title">CategoryBall</span> <span class="keyword">with</span> <span class="title">ColorBall</span></span>&#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">describe</span></span>(): <span class="type">String</span> = <span class="string">&quot;my ball is &quot;</span>+<span class="keyword">super</span>[<span class="type">CategoryBall</span>].describe()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="特质自身类型"><a href="#特质自身类型" class="headerlink" title="特质自身类型"></a>特质自身类型</h3><p>1）说明 </p>
<p>​	自身类型可实现依赖注入的功能。</p>
<p>2）案例实操</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter06</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test16_TraitSelfType</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> alise = <span class="keyword">new</span> <span class="type">RegisterUser</span>(<span class="string">&quot;alise&quot;</span>, <span class="string">&quot;123&quot;</span>)</span><br><span class="line">    alise.insert</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//用户类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span>(<span class="params">val name:<span class="type">String</span> , val password:<span class="type">String</span></span>)</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">UserDao</span></span>&#123;</span><br><span class="line">  _:<span class="type">User</span> =&gt; <span class="comment">//表示我假装我这里面有一个User,类似于自动装配的意思</span></span><br><span class="line">  <span class="comment">//向数据库插入数据</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">insert</span></span>: <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">s&quot;insert into db:<span class="subst">$&#123;this.name&#125;</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义注册用户类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RegisterUser</span>(<span class="params">name:<span class="type">String</span>,password:<span class="type">String</span></span>) <span class="keyword">extends</span> <span class="title">User</span>(<span class="params">name,password</span>) <span class="keyword">with</span> <span class="title">UserDao</span></span></span><br></pre></td></tr></table></figure>



<h3 id="特质和抽象类的区别"><a href="#特质和抽象类的区别" class="headerlink" title="特质和抽象类的区别"></a>特质和抽象类的区别</h3><p>1.优先使用特质。一个类扩展多个特质是很方便的，但却只能扩展一个抽象类。 </p>
<p>2.如果你需要构造函数参数，使用抽象类。因为抽象类可以定义带参数的构造函数， 而特质不行（有无参构造）。</p>
<h2 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h2><h3 id="类型检查和转换"><a href="#类型检查和转换" class="headerlink" title="类型检查和转换"></a>类型检查和转换</h3><p>1）<strong>说明</strong> </p>
<p>​	（1）obj.isInstanceOf[T]：判断 obj 是不是 T 类型。 </p>
<p>​	（2）obj.asInstanceOf[T]：将 obj 强转成 T 类型。</p>
<p>​	（3）classOf 获取对象的类名。</p>
<p><strong>2.举例</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter06</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test17_Extends</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.类型的检测和校验</span></span><br><span class="line">    <span class="keyword">val</span> student:<span class="type">Student17</span> = <span class="keyword">new</span> <span class="type">Student17</span>(<span class="string">&quot;alise&quot;</span>, <span class="number">18</span>)</span><br><span class="line">    student.study()</span><br><span class="line">    student.sayHi()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> person:<span class="type">Person17</span> = <span class="keyword">new</span> <span class="type">Student17</span>(<span class="string">&quot;bob&quot;</span>,<span class="number">20</span>)</span><br><span class="line">    person.sayHi()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> person2 = <span class="keyword">new</span> <span class="type">Person17</span>(<span class="string">&quot;dd&quot;</span>, <span class="number">33</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//类型的判断：isInstanceOf</span></span><br><span class="line">    println(<span class="string">&quot;student is student17: &quot;</span> + student.isInstanceOf[<span class="type">Student17</span>])</span><br><span class="line">    println(<span class="string">&quot;student is student17: &quot;</span> + student.isInstanceOf[<span class="type">Person17</span>])</span><br><span class="line">    println(<span class="string">&quot;person is student17: &quot;</span> + person.isInstanceOf[<span class="type">Student17</span>])</span><br><span class="line">    println(<span class="string">&quot;person is student17: &quot;</span> + person2.isInstanceOf[<span class="type">Student17</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment">//类型的转换,这里首先要求他们类型的判断为true</span></span><br><span class="line">    <span class="keyword">if</span> (person.isInstanceOf[<span class="type">Student17</span>])&#123;</span><br><span class="line">      <span class="keyword">val</span> newStudent = person.asInstanceOf[<span class="type">Student17</span>]</span><br><span class="line">      newStudent.study()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;获取类的信息：&quot;</span>+classOf[<span class="type">Person17</span>])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person17</span>(<span class="params">val name: <span class="type">String</span> , val age:<span class="type">Int</span></span>)</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sayHi</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;hi from person:&quot;</span>+ name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student17</span>(<span class="params">name:<span class="type">String</span> , age:<span class="type">Int</span></span>) <span class="keyword">extends</span> <span class="title">Person17</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">sayHi</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">&quot;hi from student &quot;</span>+name)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">study</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;student study&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211128220420721.png" alt="image-20211128220420721"></p>
<h3 id="枚举类和应用类及type新类型"><a href="#枚举类和应用类及type新类型" class="headerlink" title="枚举类和应用类及type新类型"></a>枚举类和应用类及type新类型</h3><p>1）说明 </p>
<p>​	枚举类：需要继承 Enumeration </p>
<p>​	应用类：需要继承 App</p>
<p>​	Type：使用 type 关键字可以定义新的数据数据类型名称，本质上就是类型的一个别名</p>
<p><strong>2.举例</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//枚举类的定义</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">WorkDay</span> <span class="keyword">extends</span> <span class="title">Enumeration</span></span>&#123;</span><br><span class="line">  <span class="keyword">val</span> <span class="type">MONDAY</span> = <span class="type">Value</span>(<span class="number">1</span>,<span class="string">&quot;Monday&quot;</span>)</span><br><span class="line">  <span class="keyword">val</span> <span class="type">TUESDAY</span> = <span class="type">Value</span>(<span class="number">2</span>,<span class="string">&quot;TUSDAY&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//应用类以及type新类型</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestApp</span> <span class="keyword">extends</span> <span class="title">App</span></span>&#123;</span><br><span class="line">  println(<span class="string">&quot;app start&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="class"><span class="keyword">type</span> <span class="title">MyString</span> </span>= <span class="type">String</span></span><br><span class="line">  <span class="keyword">val</span> a:<span class="type">MyString</span> = <span class="string">&quot;type的新类&quot;</span></span><br><span class="line">  println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211128221315992.png" alt="image-20211128221315992"></p>
<h1 id="集合类型"><a href="#集合类型" class="headerlink" title="集合类型"></a>集合类型</h1><h2 id="集合类型-1"><a href="#集合类型-1" class="headerlink" title="集合类型"></a>集合类型</h2><p>​	1）Scala 的集合有三大类：序列 Seq、集 Set、映射 Map，所有的集合都扩展自 Iterable 特质。 </p>
<p>​	2）对于几乎所有的集合类，Scala 都同时提供了可变和不可变的版本，分别位于以下两个包:</p>
<p>​		不可变集合：scala.collection.immutable </p>
<p>​		可变集合： scala.collection.mutable </p>
<p>​	3）Scala 不可变集合，就是指该集合对象不可修改，每次修改就会返回一个新对象，而 不会对原对象进行修改。类似于 java 中的 String 对象 </p>
<p>​	4）可变集合，就是这个集合可以直接对原对象进行修改，而不会返回新的对象。类似 于 java 中 StringBuilder 对象</p>
<p><strong>建议：在操作集合的时候，不可变用符号，可以变用方法</strong></p>
<h3 id="不可变集合继承图"><a href="#不可变集合继承图" class="headerlink" title="不可变集合继承图"></a>不可变集合继承图</h3><p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211203091911495.png" alt="image-20211203091911495"></p>
<ol>
<li>Set、Map 是 Java 中也有的集合。</li>
<li>Seq 是 Java 没有的，我们发现 List 归属到 Seq 了，因此这里的 List 就和 Java 不是同一个 概念了。</li>
<li>我们前面的 for 循环有一个 1 to 3，就是 IndexedSeq 下的 Range</li>
<li>String 也是属于 IndexedSeq</li>
<li>我们发现经典的数据结构比如 Queue 和 Stack 被归属到 LinearSeq(线性序列)</li>
<li>大家注意 Scala 中的 Map 体系有一个 SortedMap，说明 Scala 的 Map 可以支持排序。</li>
<li>IndexedSeq 和 LinearSeq 的区别：<ol>
<li>IndexedSeq 是通过索引来查找和定位，因此速度快，比如 String 就是一个索引集合，通过索引即可定位。</li>
<li>LinearSeq 是线型的，即有头尾的概念，这种数据结构一般是通过遍历来查找。</li>
</ol>
</li>
</ol>
<p><strong>底层好像都是复制Java的类型</strong></p>
<h3 id="可变集合继承图"><a href="#可变集合继承图" class="headerlink" title="可变集合继承图"></a>可变集合继承图</h3><p><img src="https://fastly.jsdelivr.net/gh/dexShop/ps/image-20211203100710792.png" alt="image-20211203100710792"></p>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><h3 id="不可变数组"><a href="#不可变数组" class="headerlink" title="不可变数组"></a>不可变数组</h3><p><strong>1.第一种方式定义数组</strong></p>
<p>定义：val arr1 &#x3D; new Array<a href="(10)">[Int]</a> </p>
<p>（1）new 是关键字 </p>
<p>（2）[Int]是指定可以存放的数据类型，如果希望存放任意数据类型，则指定 Any </p>
<p>（3）(10)，表示数组的大小，确定后就不可以变化</p>
<p><strong>2.案例操作</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test01_ImmutableArray</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.创建数组</span></span><br><span class="line">    <span class="keyword">val</span> arr:<span class="type">Array</span>[<span class="type">Int</span>] = <span class="keyword">new</span> <span class="type">Array</span>[<span class="type">Int</span>](<span class="number">5</span>)</span><br><span class="line">    <span class="comment">//另一种创建的方式</span></span><br><span class="line">    <span class="keyword">val</span> arr2 = <span class="type">Array</span>.apply(<span class="number">12</span>,<span class="number">37</span>,<span class="number">25</span>,<span class="number">19</span>,<span class="number">97</span>)</span><br><span class="line">    <span class="keyword">val</span> arr3 = <span class="type">Array</span>(<span class="number">88</span>,<span class="number">22</span>,<span class="number">34</span>,<span class="number">31</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.访问数组中的元素</span></span><br><span class="line">    println(arr(<span class="number">0</span>))</span><br><span class="line">    println(arr(<span class="number">1</span>))</span><br><span class="line">    println(arr(<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//赋值</span></span><br><span class="line">    arr(<span class="number">0</span>) = <span class="number">12</span></span><br><span class="line">    arr(<span class="number">1</span>) = <span class="number">22</span></span><br><span class="line">    arr(<span class="number">4</span>) = <span class="number">23</span></span><br><span class="line"></span><br><span class="line">    println(arr(<span class="number">0</span>))</span><br><span class="line">    println(arr(<span class="number">1</span>))</span><br><span class="line">    println(arr(<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.数组的遍历</span></span><br><span class="line">    <span class="comment">//1.普通的for循环</span></span><br><span class="line">    println(<span class="string">&quot;========进行循环遍历=========&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> (i &lt;- <span class="number">0</span> until arr.length)&#123;</span><br><span class="line">      print(arr(i))</span><br><span class="line">    &#125;</span><br><span class="line">    println(&#x27;\n&#x27;+<span class="string">&quot;========进行循环遍历=========&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> (i &lt;- arr.indices) print(arr(i))</span><br><span class="line"></span><br><span class="line">    println(&#x27;\n&#x27;+<span class="string">&quot;========进行循环遍历=========&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.直接便利所有元素，增强for循环</span></span><br><span class="line">    <span class="keyword">for</span> (elem &lt;- arr2) print(elem)</span><br><span class="line">    println(&#x27;\n&#x27;+<span class="string">&quot;========进行循环遍历=========&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.迭代器</span></span><br><span class="line">    <span class="keyword">val</span> iter = arr2.iterator</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (iter.hasNext) print(iter.next())</span><br><span class="line"></span><br><span class="line">    println(&#x27;\n&#x27;+<span class="string">&quot;========进行循环遍历=========&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.调用foreach方法</span></span><br><span class="line">    arr2.foreach((elem)=&gt;print(elem))</span><br><span class="line"></span><br><span class="line">    println(&#x27;\n&#x27;+<span class="string">&quot;========进行循环遍历=========&quot;</span>)</span><br><span class="line"></span><br><span class="line">    arr.foreach(print)</span><br><span class="line"></span><br><span class="line">    println(&#x27;\n&#x27;+<span class="string">&quot;========在数组元素之间指定赋值元素=========&quot;</span>)</span><br><span class="line">    println(arr.mkString(<span class="string">&quot;---&quot;</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>在数组当中添加操作</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//5.添加元素,因为这里是不可变数组，所以数组元素新增在循环遍历里卖弄是不可见的</span></span><br><span class="line">    <span class="keyword">val</span> newArr = arr.:+(<span class="number">73</span>)</span><br><span class="line">    println(arr.mkString(<span class="string">&quot;---&quot;</span>))</span><br><span class="line">    println(<span class="string">&quot;新增一个新的数组&quot;</span>)</span><br><span class="line">    println(newArr.mkString(<span class="string">&quot;---&quot;</span>))</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;在整个数组前新增一个数字&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> newArr2 = newArr.+:(<span class="number">30</span>)</span><br><span class="line">    println(newArr2.mkString(<span class="string">&quot;---&quot;</span>))</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;连续追加&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> newArr3 = newArr2 :+ <span class="number">15</span></span><br><span class="line">    println(<span class="string">&quot;前后进行追加&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> newArr4 = <span class="number">19</span> +: <span class="number">29</span> +: newArr3 :+ <span class="number">13</span> :+ <span class="number">78</span></span><br><span class="line">    println(newArr4.mkString(<span class="string">&quot;,&quot;</span>))</span><br></pre></td></tr></table></figure>

<h3 id="可变数组"><a href="#可变数组" class="headerlink" title="可变数组"></a>可变数组</h3><p><strong>定义变长数组</strong></p>
<p>val arr01 &#x3D; ArrayBuffer[Any](3, 2, 5) </p>
<p>（1）[Any]存放任意数据类型。</p>
<p>（2）(3, 2, 5)初始化好的三个元素。</p>
<p>（3）ArrayBuffer 需要引入 scala.collection.mutable.ArrayBuffer。</p>
<p><strong>案例实操</strong></p>
<p>ArrayBuffer 是有序的集合。</p>
<p>增加元素使用的是 append 方法()，支持可变参数。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test2_ArrayBuffer</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.创建可变数组</span></span><br><span class="line">    <span class="keyword">val</span> arr1:<span class="type">ArrayBuffer</span>[<span class="type">Int</span>] = <span class="keyword">new</span> <span class="type">ArrayBuffer</span>[<span class="type">Int</span>]()</span><br><span class="line">    <span class="keyword">val</span> arr2 = <span class="type">ArrayBuffer</span>(<span class="number">23</span>,<span class="number">57</span>,<span class="number">92</span>)</span><br><span class="line"></span><br><span class="line">    println(arr1.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">    println(arr2)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.访问元素，这里因为arr1没有进行赋值，所以进行读取的时候一定会报错</span></span><br><span class="line">    <span class="comment">//println(arr1(0))</span></span><br><span class="line">    println(arr2(<span class="number">1</span>))</span><br><span class="line">    arr2(<span class="number">1</span>) = <span class="number">39</span></span><br><span class="line">    println(arr2(<span class="number">1</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="不可变数组与可变数组的转换"><a href="#不可变数组与可变数组的转换" class="headerlink" title="不可变数组与可变数组的转换"></a>不可变数组与可变数组的转换</h3><p>1）说明 </p>
<p>​	arr1.toBuffer &#x2F;&#x2F;不可变数组转可变数组 arr2.toArray &#x2F;&#x2F;可变数组转不可变数组 </p>
<p>​	（1）arr2.toArray 返回结果才是一个不可变数组，arr2 本身没有变化 </p>
<p>​	（2）arr1.toBuffer 返回结果才是一个可变数组，arr1 本身没有变化 </p>
<p>2）案例实操</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test2_ArrayBuffer</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.创建可变数组</span></span><br><span class="line">    <span class="keyword">val</span> arr1:<span class="type">ArrayBuffer</span>[<span class="type">Int</span>] = <span class="keyword">new</span> <span class="type">ArrayBuffer</span>[<span class="type">Int</span>]()</span><br><span class="line">    <span class="keyword">val</span> arr2 = <span class="type">ArrayBuffer</span>(<span class="number">23</span>,<span class="number">57</span>,<span class="number">92</span>)</span><br><span class="line"></span><br><span class="line">    println(arr1.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">    println(arr2)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.访问元素，这里因为arr1没有进行赋值，所以进行读取的时候一定会报错</span></span><br><span class="line">    <span class="comment">//println(arr1(0))</span></span><br><span class="line">    println(arr2(<span class="number">1</span>))</span><br><span class="line">    arr2(<span class="number">1</span>) = <span class="number">39</span></span><br><span class="line">    println(arr2(<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">    println(&#x27;\n&#x27;+<span class="string">&quot;=======================&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.添加元素</span></span><br><span class="line">    <span class="keyword">val</span> newArr = arr1 :+ <span class="number">15</span></span><br><span class="line">    println(arr1)</span><br><span class="line">    println(<span class="string">&quot;不可变数组的追加方式&quot;</span>+newArr)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;可变数组的追加形式&quot;</span>)</span><br><span class="line">    arr1 += <span class="number">19</span></span><br><span class="line">    println(arr1)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//往前追加</span></span><br><span class="line">    println(&#x27;\n&#x27;+<span class="string">&quot;===往前追加===&quot;</span>)</span><br><span class="line">    <span class="number">77</span> +=: arr1</span><br><span class="line">    println(arr1)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//可变集合提倡使用的方式</span></span><br><span class="line">    <span class="comment">//在最前方插入</span></span><br><span class="line">    arr1.append(<span class="number">36</span>)</span><br><span class="line">    <span class="comment">//在最后放插入</span></span><br><span class="line">    arr1.prepend(<span class="number">22</span>,<span class="number">12</span>)</span><br><span class="line">    <span class="comment">//指定位置插入</span></span><br><span class="line">    arr1.insert(<span class="number">1</span>,<span class="number">13</span>,<span class="number">56</span>)</span><br><span class="line">    println(<span class="string">&quot;======可变集合推荐使用的方式=====&quot;</span>)</span><br><span class="line">    println(arr1)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//我们可以在数组的下标位置插入新的数组</span></span><br><span class="line">    arr1.insertAll(<span class="number">1</span>,newArr)</span><br><span class="line">    arr1.prependAll(newArr)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.删除</span></span><br><span class="line">    arr1.remove(<span class="number">3</span>)</span><br><span class="line">    println(arr1)</span><br><span class="line"></span><br><span class="line">    arr1.remove(<span class="number">0</span>,<span class="number">3</span>)</span><br><span class="line">    println(arr1)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//删除元素中包含的元素</span></span><br><span class="line">    arr1 -= <span class="number">77</span></span><br><span class="line">    println(arr1)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//5.可变数组转换为不可变数组</span></span><br><span class="line">    <span class="keyword">val</span> arr:<span class="type">ArrayBuffer</span>[<span class="type">Int</span>] = <span class="type">ArrayBuffer</span>(<span class="number">23</span>,<span class="number">56</span>,<span class="number">90</span>)</span><br><span class="line">    <span class="keyword">val</span> newArrs:<span class="type">Array</span>[<span class="type">Int</span>] = arr.toArray</span><br><span class="line">    println(newArrs.mkString(<span class="string">&quot;-&quot;</span>))</span><br><span class="line">    println(arr)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//6.不可变数组转换为可变数组</span></span><br><span class="line">    <span class="keyword">val</span> buffer = newArr.toBuffer</span><br><span class="line">    println(buffer)</span><br><span class="line">    println(newArr)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h3><p>1）多维数组定义 </p>
<p>​	val arr &#x3D; Array.ofDim<a href="3,4">Double</a> </p>
<p>​	说明：二维数组中有三个一维数组，每个一维数组中有四个元素</p>
<p>2）案例实操</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test03_MulArray</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.创建二维数组</span></span><br><span class="line">    <span class="keyword">val</span> array:<span class="type">Array</span>[<span class="type">Array</span>[<span class="type">Int</span>]] = <span class="type">Array</span>.ofDim[<span class="type">Int</span>](<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.访问元素</span></span><br><span class="line">    array(<span class="number">0</span>)(<span class="number">2</span>) = <span class="number">19</span></span><br><span class="line">    array(<span class="number">1</span>)(<span class="number">0</span>) = <span class="number">25</span></span><br><span class="line"></span><br><span class="line">    println(array.mkString(<span class="string">&quot;-&quot;</span>))</span><br><span class="line">    <span class="keyword">for</span> (i &lt;- <span class="number">0</span> until array.length; j &lt;- <span class="number">0</span> until array(i).length)&#123;</span><br><span class="line">      print(array(i)(j)+<span class="string">&quot;,&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(&#x27;\n&#x27;+<span class="string">&quot;====================&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i &lt;- array.indices ; j &lt;- array(i).indices)&#123;</span><br><span class="line">      print(array(i)(j)+<span class="string">&quot;\t&quot;</span>)</span><br><span class="line">      <span class="keyword">if</span> (j == array.length - <span class="number">1</span>) println</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    println(&#x27;\n&#x27;+<span class="string">&quot;====================&quot;</span>)</span><br><span class="line">    array.foreach(line =&gt; line.foreach(println))</span><br><span class="line">    <span class="comment">//上面相当于下面</span></span><br><span class="line">    array.foreach(_.foreach(println))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><h3 id="不可变List"><a href="#不可变List" class="headerlink" title="不可变List"></a>不可变List</h3><p>1）说明 </p>
<p>（1）List 默认为不可变集合 </p>
<p>（2）创建一个 List（数据有顺序，可重复） </p>
<p>（3）遍历 List </p>
<p>（4）List 增加数据 </p>
<p>（5）集合间合并：将一个整体拆成一个一个的个体，称为扁平化</p>
<p>（6）取指定数据 </p>
<p>（7）空集合 Nil</p>
<p>2）示例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test04_List</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.创建一个List</span></span><br><span class="line">    <span class="keyword">val</span> list1 =<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">    println(list1)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.直接获取索引位置上的元素</span></span><br><span class="line">    println(list1(<span class="number">1</span>))</span><br><span class="line">    <span class="comment">//值得注意的是，lixt因为是不可变的，所以他的元素是不能进行赋值了的</span></span><br><span class="line">    <span class="comment">//list1(1) = 12</span></span><br><span class="line"></span><br><span class="line">    list1.foreach(print)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.将列表里面添加元素</span></span><br><span class="line">    <span class="keyword">val</span> list2 = list1.+:(<span class="number">12</span>)</span><br><span class="line">    <span class="keyword">val</span> list3 = list1 :+ <span class="number">23</span></span><br><span class="line">    println(list1)</span><br><span class="line">    println(list2)</span><br><span class="line">    println(list3)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;========另一种添加元素的方法=========&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> list4 = list2.::(<span class="number">51</span>)</span><br><span class="line">    println(list4)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> list5 = <span class="type">Nil</span>.::(<span class="number">13</span>)</span><br><span class="line">    println(list5)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> list6 = <span class="number">12</span> :: <span class="number">32</span> :: <span class="type">Nil</span></span><br><span class="line">    <span class="keyword">val</span> list7 = <span class="number">17</span> :: <span class="number">28</span> ::<span class="number">59</span> :: <span class="type">Nil</span></span><br><span class="line">    println(list6)</span><br><span class="line">    println(list7)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> list8 = list6 :: list7</span><br><span class="line">    println(list8)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> list9 = list6 ::: list7</span><br><span class="line">    println(<span class="string">&quot;相对于list8来说，使用:::可以进行两个列表的扁平化&quot;</span>)</span><br><span class="line">    println(list9)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> list10 = list6 ++ list7</span><br><span class="line">    println(<span class="string">&quot;和list9一样，我们还可以使用++来达到相同效果&quot;</span>)</span><br><span class="line">    println(list10)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="可变List"><a href="#可变List" class="headerlink" title="可变List"></a>可变List</h3><p>1）说明 </p>
<p>（1）创建一个可变集合 ListBuffer </p>
<p>（2）向集合中添加数据</p>
<p>（3）打印集合数据</p>
<p>2）示例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ListBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test05_ListBuffer</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> list1 = <span class="keyword">new</span> <span class="type">ListBuffer</span>[<span class="type">Int</span>]()</span><br><span class="line">    <span class="keyword">val</span> list2 = <span class="type">ListBuffer</span>(<span class="number">12</span>,<span class="number">53</span>,<span class="number">75</span>)</span><br><span class="line"></span><br><span class="line">    println(list1)</span><br><span class="line">    println(list2)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;============&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.添加元素</span></span><br><span class="line">    list1.append(<span class="number">15</span>,<span class="number">43</span>)</span><br><span class="line">    list1.prepend(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">    list1.insert(<span class="number">0</span>,<span class="number">2</span>,<span class="number">22</span>)</span><br><span class="line">    println(list1)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;======骚操作=======&quot;</span>)</span><br><span class="line"></span><br><span class="line">    list1 +=<span class="number">25</span> +=<span class="number">34</span></span><br><span class="line">    <span class="number">3</span> +=: list1 +=<span class="number">23</span></span><br><span class="line">    println(list1)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;==============&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//合并两个list</span></span><br><span class="line">    <span class="keyword">val</span> list3 = list1 ++ list2</span><br><span class="line">    println(list3)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;=======++=======&quot;</span>)</span><br><span class="line">    println(list2++=list1)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;=======update=======&quot;</span>)</span><br><span class="line">    <span class="comment">//修改元素</span></span><br><span class="line">    list2(<span class="number">3</span>) = <span class="number">30</span></span><br><span class="line">    list2.update(<span class="number">0</span>,<span class="number">9999</span>)</span><br><span class="line">    println(list2)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;=======delete=======&quot;</span>)</span><br><span class="line">    <span class="comment">//删除元素</span></span><br><span class="line">    list2.remove(<span class="number">0</span>)</span><br><span class="line">    println(list2)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="Set-集合"><a href="#Set-集合" class="headerlink" title="Set 集合"></a>Set 集合</h2><p>默认情况下，Scala 使用的是不可变集合，如果你想使用可变集合，需要引用 scala.collection.mutable.Set 包。</p>
<h3 id="不可变Set"><a href="#不可变Set" class="headerlink" title="不可变Set"></a>不可变Set</h3><p>1）说明</p>
<p>​	（1）Set 默认是不可变集合，数据无序 </p>
<p>​	（2）数据不可重复 </p>
<p>​	（3）遍历集合</p>
<p>2）示例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test06_ImmutableSet</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.创建Set</span></span><br><span class="line">    <span class="keyword">val</span> set1 = <span class="type">Set</span>(<span class="number">13</span>,<span class="number">23</span>,<span class="number">13</span>,<span class="number">54</span>,<span class="number">22</span>,<span class="number">12</span>,<span class="number">12</span>,<span class="number">222</span>)</span><br><span class="line">    println(set1)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;==============&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.添加元素</span></span><br><span class="line">    <span class="keyword">val</span> set2 = set1.+(<span class="number">20</span>)</span><br><span class="line">    println(set2)</span><br><span class="line">    println(set1)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;==============&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.合并set</span></span><br><span class="line">    <span class="keyword">val</span> set3 = <span class="type">Set</span>(<span class="number">19</span>,<span class="number">23</span>,<span class="number">34</span>,<span class="number">32</span>,<span class="number">11</span>,<span class="number">11</span>,<span class="number">11</span>,<span class="number">11</span>,<span class="number">11</span>)</span><br><span class="line">    <span class="keyword">val</span> set4 = set1 ++ set2</span><br><span class="line">    println(set3)</span><br><span class="line">    println(set4)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;==============&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//4.删除元素</span></span><br><span class="line">    <span class="keyword">val</span> set5 = set3 - <span class="number">11</span></span><br><span class="line">    println(set3)</span><br><span class="line">    println(set5)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="可变Set"><a href="#可变Set" class="headerlink" title="可变Set"></a>可变Set</h3><p>1）说明 </p>
<p>​	（1）创建可变集合 mutable.Set </p>
<p>​	（2）打印集合 </p>
<p>​	（3）集合添加元素 </p>
<p>​	（4）向集合中添加元素，返回一个新的 Set </p>
<p>​	（5）删除数据</p>
<p>2）案例实操</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test07_MutableSet</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.创建set</span></span><br><span class="line">    <span class="keyword">val</span> set1 = mutable.<span class="type">Set</span>(<span class="number">13</span>, <span class="number">23</span>, <span class="number">22</span>, <span class="number">32</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">12</span>)</span><br><span class="line">    println(set1)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;=============&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.添加元素</span></span><br><span class="line">    <span class="keyword">val</span> set2 = set1 + <span class="number">10</span></span><br><span class="line">    println(set2)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;=============&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//可变Set：</span></span><br><span class="line">    set1 += <span class="number">1</span></span><br><span class="line">    println(set1)</span><br><span class="line">    <span class="comment">//使用add来进行添加</span></span><br><span class="line">    set1.add(<span class="number">100</span>)</span><br><span class="line">    println(set1)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;=============&quot;</span>)</span><br><span class="line">    <span class="comment">//删除元素</span></span><br><span class="line">    println(set1.remove(<span class="number">100</span>))</span><br><span class="line">    println(set1)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;=============&quot;</span>)</span><br><span class="line">    <span class="comment">//合并两个Set集合</span></span><br><span class="line">    println(set1)</span><br><span class="line">    <span class="keyword">val</span> set3 = mutable.<span class="type">Set</span>(<span class="number">10</span>,<span class="number">13</span>,<span class="number">12</span>,<span class="number">11</span>,<span class="number">13</span>)</span><br><span class="line">    <span class="keyword">val</span> set4 = set1 ++ set3</span><br><span class="line">    println(set3)</span><br><span class="line">    println(set4)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;=============&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> set5 = mutable.<span class="type">Set</span>(<span class="number">100</span>,<span class="number">213</span>)</span><br><span class="line">    set3 ++= set5</span><br><span class="line">    println(set3)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="Map集合"><a href="#Map集合" class="headerlink" title="Map集合"></a>Map集合</h2><p>Scala 中的 Map 和 Java 类似，也是一个散列表，它存储的内容也是键值对（key-value） 映射。</p>
<h3 id="不可变Map"><a href="#不可变Map" class="headerlink" title="不可变Map"></a>不可变Map</h3><p>1）说明 </p>
<p>​	（1）创建不可变集合 Map </p>
<p>​	（2）循环打印 </p>
<p>​	（3）访问数据 </p>
<p>​	（4）如果 key 不存在，返回 0</p>
<p>2）示例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test08_ImmuatbleMap</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.创建Map</span></span><br><span class="line">    <span class="keyword">val</span> map1:<span class="type">Map</span>[<span class="type">String</span>,<span class="type">Int</span>] = <span class="type">Map</span>(<span class="string">&quot;a&quot;</span>-&gt;<span class="number">1</span>,<span class="string">&quot;helo&quot;</span>-&gt;<span class="number">2</span>,<span class="string">&quot;b&quot;</span>-&gt;<span class="number">2</span>)</span><br><span class="line">    println(map1)</span><br><span class="line">    println(map1.getClass)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;=======遍历元素========&quot;</span>)</span><br><span class="line">    <span class="comment">//2.遍历元素</span></span><br><span class="line">    map1.foreach(println)</span><br><span class="line">    map1.foreach( (kv:(<span class="type">String</span>,<span class="type">Int</span>)) =&gt; println(kv))</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;===================&quot;</span>)</span><br><span class="line">    <span class="comment">//3.取map中所有的key，或者value</span></span><br><span class="line">    <span class="keyword">for</span>(key &lt;- map1.keys)&#123;</span><br><span class="line">      println(<span class="string">s&quot;<span class="subst">$key</span> ---&gt; <span class="subst">$&#123;map1.get(key)&#125;</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;===================&quot;</span>)</span><br><span class="line">    <span class="comment">//4.访问某一个key的value</span></span><br><span class="line">    println(map1.get(<span class="string">&quot;a&quot;</span>).get)</span><br><span class="line">    println(map1.get(<span class="string">&quot;b&quot;</span>))</span><br><span class="line">    <span class="comment">//获取一个key的值，如果不存在，就赋值为0</span></span><br><span class="line">    println(<span class="string">&quot;else:&quot;</span>+map1.getOrElse(<span class="string">&quot;c&quot;</span>,<span class="number">1</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="可变Map"><a href="#可变Map" class="headerlink" title="可变Map"></a>可变Map</h3><p>1）说明 </p>
<p>​	（1）创建可变集合 </p>
<p>​	（2）打印集合 </p>
<p>​	（3）向集合增加数据 </p>
<p>​	（4）删除数据 </p>
<p>​	（5）修改数据</p>
<p>2）示例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test09_MutableMap</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.创建Map</span></span><br><span class="line">    <span class="keyword">val</span> map1:mutable.<span class="type">Map</span>[<span class="type">String</span>,<span class="type">Int</span>] = mutable.<span class="type">Map</span>(<span class="string">&quot;a&quot;</span>-&gt;<span class="number">1</span>,<span class="string">&quot;helo&quot;</span>-&gt;<span class="number">2</span>,<span class="string">&quot;b&quot;</span>-&gt;<span class="number">2</span>)</span><br><span class="line">    println(map1)</span><br><span class="line">    println(map1.getClass)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;================&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.添加元素</span></span><br><span class="line">    map1.put(<span class="string">&quot;c&quot;</span>,<span class="number">5</span>)</span><br><span class="line">    map1.put(<span class="string">&quot;d&quot;</span>,<span class="number">9</span>)</span><br><span class="line">    map1.put(<span class="string">&quot;a&quot;</span>,<span class="number">2</span>)</span><br><span class="line">    println(map1)</span><br><span class="line"></span><br><span class="line">    map1 += ((<span class="string">&quot;e&quot;</span>,<span class="number">7</span>))</span><br><span class="line">    println(map1)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;================&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.删除元素</span></span><br><span class="line">    map1.remove(<span class="string">&quot;d&quot;</span>)</span><br><span class="line">    println(map1)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;================&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.删除元素</span></span><br><span class="line">    map1.update(<span class="string">&quot;e&quot;</span>,<span class="number">111</span>)</span><br><span class="line">    println(map1)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;================&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//5.合并两个map</span></span><br><span class="line">    <span class="keyword">val</span> map2:<span class="type">Map</span>[<span class="type">String</span>,<span class="type">Int</span>] = <span class="type">Map</span>(<span class="string">&quot;aaa&quot;</span>-&gt;<span class="number">112</span>)</span><br><span class="line">    map1 ++= map2</span><br><span class="line">    println(map1)</span><br><span class="line">    println(map2)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;================&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">val</span> map3: <span class="type">Map</span>[<span class="type">String</span>,<span class="type">Int</span>] = map2 ++ map1</span><br><span class="line">    println(map1)</span><br><span class="line">    println(map2)</span><br><span class="line">    println(map3)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h2 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h2><ol>
<li><p>元组也是可以理解为一个容器，可以存放各种相同或不同类型的数据。说的简单点，就是将多个无关的数据封装为一个整体，称为元组, 最多的特点灵活,对数据没有过多的约束。</p>
</li>
<li><p><code>注意：元组中最大只能有22个元素</code></p>
</li>
<li><p>元组的创建：</p>
<ol>
<li><p><code>val tuple = (1, 2, 3, &quot;hello&quot;, 4)</code></p>
</li>
<li><pre><code class="scala">// Tuple3
final case class Tuple3[+T1, +T2, +T3](_1: T1, _2: T2, _3: T3) 
extends Product3[T1, T2, T3] &#123;
  override def toString() = &quot;(&quot; + _1 + &quot;,&quot; + _2 + &quot;,&quot; + _3 + &quot;)&quot;
&#125;
</code></pre>
</li>
</ol>
</li>
<li><p>访问元组中的数据：</p>
<ol>
<li>可以采用顺序号（<code>_顺序号</code>）</li>
<li>也可以通过索引（<code>productElement</code>）访问。</li>
</ol>
</li>
<li><p>Tuple是一个整体，遍历需要调其迭代器<code>tuple.productIterator</code>。</p>
</li>
</ol>
<p><strong>示例</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-06-时间:20:30</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test10_Tuple</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.创建元组</span></span><br><span class="line">    <span class="keyword">val</span> tuple:(<span class="type">String</span>,<span class="type">Int</span>,<span class="type">Char</span>,<span class="type">Boolean</span>) = (<span class="string">&quot;hello&quot;</span>,<span class="number">100</span>,&#x27;a&#x27;,<span class="literal">true</span>)</span><br><span class="line">    println(tuple)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.访问元素</span></span><br><span class="line">    println(tuple._1)</span><br><span class="line">    println(tuple._2)</span><br><span class="line">    println(tuple._3)</span><br><span class="line">    println(tuple._4)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//这里的1表示下标为1的值，也是就第二个数字</span></span><br><span class="line">    println(tuple.productElement(<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.遍历元组数据</span></span><br><span class="line">    <span class="keyword">for</span> (element &lt;- tuple.productIterator)&#123;</span><br><span class="line">      println(element)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4，嵌套元组</span></span><br><span class="line">    <span class="keyword">val</span> mulType = (<span class="number">12</span>,<span class="number">0.3</span>,<span class="string">&quot;hello&quot;</span>,(<span class="number">23</span>,<span class="number">22</span>,<span class="string">&quot;sacla&quot;</span>),<span class="number">1</span>)</span><br><span class="line">    println(mulType.toString())</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="集合常用函数"><a href="#集合常用函数" class="headerlink" title="集合常用函数"></a>集合常用函数</h2><h3 id="基本属性和常用操作"><a href="#基本属性和常用操作" class="headerlink" title="基本属性和常用操作"></a>基本属性和常用操作</h3><ol>
<li>获取集合的长度</li>
<li>获取集合大小</li>
<li>循环遍历</li>
<li>迭代器</li>
<li>生成字符串</li>
<li>是否包含</li>
</ol>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-07-时间:12:28</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test11_CommonOp</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">2</span>,<span class="number">89</span>)</span><br><span class="line">    <span class="keyword">val</span> set = <span class="type">Set</span>(<span class="number">23</span>,<span class="number">45</span>,<span class="number">34</span>,<span class="number">22</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取集合的长度</span></span><br><span class="line">    println(list.length)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取集合大小</span></span><br><span class="line">    println(list.size)</span><br><span class="line">    println(set.size)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//循环遍历</span></span><br><span class="line">    <span class="keyword">for</span> (elem &lt;- list)&#123;</span><br><span class="line">      println(elem)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    set.foreach(println)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//迭代器</span></span><br><span class="line">    <span class="keyword">for</span> (elem &lt;- list.iterator) println(elem)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;==================&quot;</span>)</span><br><span class="line">    <span class="comment">//生成字符串</span></span><br><span class="line">    println(list)</span><br><span class="line">    println(set)</span><br><span class="line">    println(list.mkString(<span class="string">&quot;--&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//是否包含</span></span><br><span class="line">    println(list.contains(<span class="number">22</span>))</span><br><span class="line">    println(set.contains(<span class="number">23</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="衍生集合"><a href="#衍生集合" class="headerlink" title="衍生集合"></a>衍生集合</h3><ol>
<li>获取集合的开头</li>
<li>获取集合的尾(不是头的就是尾)</li>
<li>集合最后一个函数</li>
<li>集合初始数据</li>
<li>反转</li>
<li>取前（后）n个元素</li>
<li>去掉取前（后）n个元素</li>
<li>并集,如果是set做并集，那么就会去重</li>
<li>交集</li>
<li>差集,取出属于list1不属于list2的元素</li>
<li>拉链,每个位置进行构建元组对</li>
<li>滑窗,得要一个为3的滑动窗口,相当于划分每三个元素为一个新的list</li>
</ol>
<p><strong>示例</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-07-时间:12:41</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test12_DerivedCollention</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> list1 = <span class="type">List</span>(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">2</span>,<span class="number">78</span>)</span><br><span class="line">    <span class="keyword">val</span> list2 = <span class="type">List</span>(<span class="number">3</span>,<span class="number">5</span>,<span class="number">78</span>,<span class="number">77</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.获取集合的开头</span></span><br><span class="line">    println(list1.head)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取集合的尾(不是头的就是尾)</span></span><br><span class="line">    println(list1.tail)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//集合最后一个函数</span></span><br><span class="line">    println(list2.last)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//集合初始数据</span></span><br><span class="line">    println(list2.init)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//反转</span></span><br><span class="line">    println(list1.reverse)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//取前（后）n个元素</span></span><br><span class="line">    println(list1.take(<span class="number">3</span>))</span><br><span class="line">    println(list1.takeRight(<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//去掉取前（后）n个元素</span></span><br><span class="line">    println(list1.drop(<span class="number">3</span>))</span><br><span class="line">    println(list1.dropRight(<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;===多个集合之间的操作===&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//并集,如果是set做并集，那么就会去重</span></span><br><span class="line">    <span class="keyword">val</span> union = list1.union(list2)</span><br><span class="line">    println(union)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//交集</span></span><br><span class="line">    <span class="keyword">val</span> ints = list1.intersect(list2)</span><br><span class="line">    println(ints)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//差集,取出属于list1不属于list2的元素</span></span><br><span class="line">    <span class="keyword">val</span> diff1 = list1.diff(list2)</span><br><span class="line">    println(diff1)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//拉链,每个位置进行构建元组对</span></span><br><span class="line">    println(<span class="string">&quot;ZIP:&quot;</span>+list1.zip(list2))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//滑窗,得要一个为3的滑动窗口,相当于划分每三个元素为一个新的list</span></span><br><span class="line">    println(list1.sliding(<span class="number">3</span>))</span><br><span class="line">    <span class="keyword">for</span> (elem &lt;- list1.sliding(<span class="number">3</span>))&#123;</span><br><span class="line">      println(elem)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="集合计算简单函数"><a href="#集合计算简单函数" class="headerlink" title="集合计算简单函数"></a>集合计算简单函数</h3><ol>
<li>求和</li>
<li>求体积</li>
<li>最大值</li>
<li>最小值</li>
<li>排序</li>
</ol>
<p><strong>示例</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-07-时间:16:15</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test13_SimpleFunction</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">5</span>,<span class="number">1</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">-3</span>,<span class="number">4</span>)</span><br><span class="line">    <span class="keyword">val</span> list2 = <span class="type">List</span>((<span class="string">&quot;a&quot;</span>,<span class="number">5</span>),(<span class="string">&quot;b&quot;</span>,<span class="number">1</span>),(<span class="string">&quot;c&quot;</span>,<span class="number">8</span>),(<span class="string">&quot;d&quot;</span>,<span class="number">2</span>),(<span class="string">&quot;e&quot;</span>,<span class="number">-3</span>),(<span class="string">&quot;f&quot;</span>,<span class="number">4</span>))</span><br><span class="line">    <span class="comment">//1. 求和</span></span><br><span class="line">    <span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(elem &lt;- list)&#123;</span><br><span class="line">        sum += elem;</span><br><span class="line">    &#125;</span><br><span class="line">    println(sum)</span><br><span class="line">    <span class="comment">//直接使用函数</span></span><br><span class="line">    println(list.sum)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2. 求乘积</span></span><br><span class="line">    println(list.product)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3. 最大值</span></span><br><span class="line">    println(list.max)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4. 最小值</span></span><br><span class="line">    println(list.min)</span><br><span class="line">    println(list2.min)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;=======排序========&quot;</span>)</span><br><span class="line">    <span class="comment">//5. 排序</span></span><br><span class="line">    <span class="comment">//5.1 sorted</span></span><br><span class="line">    <span class="keyword">val</span> sortedList = list.sorted</span><br><span class="line">    println(sortedList)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//从小到大的逆序排列</span></span><br><span class="line">    println(list.sorted.reverse)</span><br><span class="line">    <span class="comment">//更高效：传入隐式参数</span></span><br><span class="line">    println(list.sorted(<span class="type">Ordering</span>[<span class="type">Int</span>].reverse))</span><br><span class="line"></span><br><span class="line">    println(list2.sorted)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//5.2 sortBy,下面按照第二个字段进行排序</span></span><br><span class="line">    println(list2.sortBy(_._2))</span><br><span class="line">    <span class="comment">//从大到小</span></span><br><span class="line">    println(list2.sortBy(_._2)(<span class="type">Ordering</span>[<span class="type">Int</span>].reverse))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//5.3 sortWith:可以去掉元组前的参数，输出一个类似于列表的数据</span></span><br><span class="line">    println(list.sortWith( (a:<span class="type">Int</span>,b:<span class="type">Int</span>) =&gt;&#123;a&lt;b&#125;))</span><br><span class="line">    <span class="comment">//化简</span></span><br><span class="line">    println(list.sortWith( _ &lt; _ ))</span><br><span class="line">    println(list.sortWith( _ &gt; _ ))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="集合计算高级函数"><a href="#集合计算高级函数" class="headerlink" title="集合计算高级函数"></a>集合计算高级函数</h3><p>1.说明</p>
<ol>
<li>过滤：遍历一个集合并从中获取满足指定条件的元素组成一个新的集合</li>
<li><strong>转化&#x2F;映射</strong>：将集合中的每一个元素映射到某一个函数</li>
<li>扁平化：<ol>
<li>扁平化+映射：flatMap相当于先进行map操作，在进行flatten操作集合中的每一个元素的子元素映射到某个函数并返回新集合。</li>
</ol>
</li>
<li><strong>分组</strong>：按照指定的规则对集合的元素进行分组</li>
<li>简化(规约)</li>
<li>折叠</li>
</ol>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-07-时间:17:23</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test14_HighLevelFunction_Map</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.过滤</span></span><br><span class="line">    <span class="comment">//选取偶数</span></span><br><span class="line">    <span class="keyword">val</span> ints = list.filter((elem: <span class="type">Int</span>) =&gt; &#123;</span><br><span class="line">      elem % <span class="number">2</span> == <span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line">    println(ints)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//化简</span></span><br><span class="line">    println(list.filter(_%<span class="number">2</span> == <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;=====================&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.map</span></span><br><span class="line">    <span class="comment">//把集合中每个数乘2</span></span><br><span class="line">    println(list.map(elem =&gt; elem * <span class="number">2</span>))</span><br><span class="line">    println(list.map(_ * <span class="number">2</span>))</span><br><span class="line">    <span class="comment">//下面的是平方数</span></span><br><span class="line">    println(list.map(x =&gt; x*x))</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;==========扁平化===========&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.扁平化</span></span><br><span class="line">    <span class="keyword">val</span> nestedList: <span class="type">List</span>[<span class="type">List</span>[<span class="type">Int</span>]] = <span class="type">List</span>(<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>),<span class="type">List</span>(<span class="number">4</span>,<span class="number">5</span>),<span class="type">List</span>(<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> flatList = nestedList(<span class="number">0</span>) ::: nestedList(<span class="number">1</span>) ::: nestedList(<span class="number">2</span>)</span><br><span class="line">    println(flatList)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//改良</span></span><br><span class="line">    println(nestedList.flatten)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;==========扁平映射===========&quot;</span>)</span><br><span class="line">    <span class="comment">//需求：将一组字符串进行分词，并保存成单词的列表</span></span><br><span class="line">    <span class="keyword">val</span> strings : <span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(<span class="string">&quot;hello world&quot;</span>,<span class="string">&quot;hello scala&quot;</span>,<span class="string">&quot;hello java&quot;</span>,<span class="string">&quot;we study&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> splitList:<span class="type">List</span>[<span class="type">Array</span>[<span class="type">String</span>]] = strings.map(string =&gt; string.split(<span class="string">&quot; &quot;</span>))</span><br><span class="line">    <span class="keyword">val</span> flattenList = splitList.flatten <span class="comment">//打散扁平化</span></span><br><span class="line">    println(flattenList)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//优化</span></span><br><span class="line">    <span class="keyword">val</span> flatmapList = strings.flatMap(_.split(<span class="string">&quot; &quot;</span>))</span><br><span class="line">    println(flatmapList)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;==========分组===========&quot;</span>)</span><br><span class="line">    <span class="comment">//分成奇偶两组</span></span><br><span class="line">    <span class="keyword">val</span> groupMap:<span class="type">Map</span>[<span class="type">Int</span>,<span class="type">List</span>[<span class="type">Int</span>]] = list.groupBy(_ % <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">val</span> groupMap2:<span class="type">Map</span>[<span class="type">String</span>,<span class="type">List</span>[<span class="type">Int</span>]] = list.groupBy( date =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (date % <span class="number">2</span>== <span class="number">0</span>) <span class="string">&quot;偶数&quot;</span> <span class="keyword">else</span> <span class="string">&quot;奇数&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    println(groupMap)</span><br><span class="line">    println(groupMap2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//给定一组词汇，按照单词的首字母进行分组</span></span><br><span class="line">    <span class="keyword">val</span> wordList = <span class="type">List</span>(<span class="string">&quot;chain&quot;</span>,<span class="string">&quot;america&quot;</span>,<span class="string">&quot;alice&quot;</span>,<span class="string">&quot;canada&quot;</span>,<span class="string">&quot;cary&quot;</span>,<span class="string">&quot;bob&quot;</span>,<span class="string">&quot;japen&quot;</span>)</span><br><span class="line">    <span class="comment">//下划线表示当前单词，0表示首字母</span></span><br><span class="line">    println(wordList.groupBy(_.charAt(<span class="number">0</span>)))</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-07-时间:19:32</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test15_HighLevelFunction_Reduce</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.reduce</span></span><br><span class="line">    println(list.reduce(_ + _))</span><br><span class="line">    println(list.reduceLeft(_ + _))</span><br><span class="line">    println(list.reduceRight(_ + _))</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;======================&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> list2 = <span class="type">List</span>(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">10</span>)</span><br><span class="line">    <span class="keyword">val</span> i = list2.reduce(_ - _)</span><br><span class="line">    println(i)</span><br><span class="line">    println(list2.reduceLeft(_ - _))</span><br><span class="line">    println(list2.reduceRight(_ - _)) <span class="comment">//3-(4-(5-(8-10)))</span></span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;--------flod--------&quot;</span>)</span><br><span class="line">    <span class="comment">//2.fold</span></span><br><span class="line">    println(list.fold(<span class="number">10</span>)(_ + _)) <span class="comment">//10+1+2+3+4</span></span><br><span class="line">    println(list.foldLeft(<span class="number">10</span>)(_ - _)) <span class="comment">//10 - 1 -2 -3 -4</span></span><br><span class="line">    println(list.foldRight(<span class="number">11</span>)(_ - _)) <span class="comment">// 1- (2 - (3 - (4 - (10 - 11))))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-07-时间:21:47</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test16_MergeMap</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> map1 = <span class="type">Map</span>(<span class="string">&quot;a&quot;</span>-&gt;<span class="number">1</span>,<span class="string">&quot;b&quot;</span>-&gt;<span class="number">3</span>,<span class="string">&quot;c&quot;</span>-&gt;<span class="number">6</span>)</span><br><span class="line">    <span class="keyword">val</span> map2 = mutable.<span class="type">Map</span>(<span class="string">&quot;a&quot;</span>-&gt;<span class="number">6</span>,<span class="string">&quot;b&quot;</span>-&gt;<span class="number">2</span>,<span class="string">&quot;c&quot;</span>-&gt;<span class="number">9</span>,<span class="string">&quot;d&quot;</span>-&gt;<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//println(map1 ++ map2)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//合并两个map的结合的值</span></span><br><span class="line">    <span class="keyword">val</span> stringToInt = map1.foldLeft(map2)(</span><br><span class="line">      (mergedMap, kv) =&gt; &#123;</span><br><span class="line">        <span class="keyword">val</span> key = kv._1</span><br><span class="line">        <span class="keyword">val</span> value = kv._2</span><br><span class="line"></span><br><span class="line">        mergedMap(key) = mergedMap.getOrElse(key, <span class="number">0</span>) + value</span><br><span class="line">        mergedMap</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">val</span> map3 = stringToInt</span><br><span class="line"></span><br><span class="line">    println(map3)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="普通WordCount案例"><a href="#普通WordCount案例" class="headerlink" title="普通WordCount案例"></a>普通WordCount案例</h3><ol>
<li>需求</li>
</ol>
<p>​	单词计数：将集合中出现的相同单词，进行计数，取计数排名前三的结果。</p>
<p><strong>需求分析：</strong></p>
<p><img src="E:\Typora\InsertImage\image-20211209115002012.png" alt="image-20211209115002012"></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-09-时间:11:50</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test17_CommonWordCount</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> stringList:<span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(</span><br><span class="line">      <span class="string">&quot;hello&quot;</span>,</span><br><span class="line">      <span class="string">&quot;hello world&quot;</span>,</span><br><span class="line">      <span class="string">&quot;hello spark&quot;</span>,</span><br><span class="line">      <span class="string">&quot;hello spark from scala&quot;</span>,</span><br><span class="line">      <span class="string">&quot;hello flink from scala&quot;</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.对字符串进行切分，得到一个打散所有单词的列表</span></span><br><span class="line">    <span class="keyword">val</span> wordList:<span class="type">List</span>[<span class="type">Array</span>[<span class="type">String</span>]] = stringList.map(_.split(<span class="string">&quot; &quot;</span>))</span><br><span class="line">    <span class="keyword">val</span> wordList2:<span class="type">List</span>[<span class="type">String</span>] = wordList.flatten</span><br><span class="line">    println(wordList2)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//上面的方式等同于下面的方式</span></span><br><span class="line">    <span class="comment">//stringList.flatMap(_.split(&quot; &quot;))</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.相同的单词进行分组</span></span><br><span class="line">    <span class="keyword">val</span> groupMap:<span class="type">Map</span>[<span class="type">String</span>,<span class="type">List</span>[<span class="type">String</span>]] = wordList2.groupBy(word =&gt; word)</span><br><span class="line">    println(groupMap)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.对分组之后的List取长度，得到每个单词的个数</span></span><br><span class="line">    <span class="keyword">val</span> countMap: <span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = groupMap.map(kv =&gt; (kv._1, kv._2.length))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.将Map转换为List并排序取前三</span></span><br><span class="line">    <span class="keyword">val</span> sortList:<span class="type">List</span>[(<span class="type">String</span>,<span class="type">Int</span>)] = countMap.toList</span><br><span class="line">      .sortWith(_._2 &gt; _._2)</span><br><span class="line">      .take(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">    println(sortList)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="复杂WordCount案例"><a href="#复杂WordCount案例" class="headerlink" title="复杂WordCount案例"></a>复杂WordCount案例</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-09-时间:12:29</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test18_ComplexWordCount</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> tupleList:<span class="type">List</span>[(<span class="type">String</span>,<span class="type">Int</span>)] = <span class="type">List</span>(</span><br><span class="line">      (<span class="string">&quot;hello&quot;</span>,<span class="number">1</span>),</span><br><span class="line">      (<span class="string">&quot;hello world&quot;</span>,<span class="number">2</span>),</span><br><span class="line">      (<span class="string">&quot;hello spark&quot;</span>,<span class="number">3</span>),</span><br><span class="line">      (<span class="string">&quot;hello spark from scala&quot;</span>,<span class="number">1</span>),</span><br><span class="line">      (<span class="string">&quot;hello flink from scala&quot;</span>,<span class="number">2</span>)</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="comment">//思路1：直接展开为普通版本</span></span><br><span class="line">    <span class="keyword">val</span> newStringList:<span class="type">List</span>[<span class="type">String</span>] = tupleList.map(</span><br><span class="line">      kv=&gt;&#123;</span><br><span class="line">        (kv._1.trim + <span class="string">&quot; &quot;</span>) * kv._2</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">    println(newStringList)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//接下来操作与普通版本完全一致</span></span><br><span class="line">    <span class="keyword">val</span> wordCountList:<span class="type">List</span>[(<span class="type">String</span>,<span class="type">Int</span>)] = newStringList</span><br><span class="line">      .flatMap(_.split(<span class="string">&quot; &quot;</span>)) <span class="comment">//空格分词</span></span><br><span class="line">      .groupBy(word =&gt; word)  <span class="comment">//按照单词分组</span></span><br><span class="line">      .map(kv =&gt; (kv._1,kv._2.size)) <span class="comment">//统计出每个单词的个数</span></span><br><span class="line">      .toList <span class="comment">//转换为list</span></span><br><span class="line">      .sortBy(_._2)(<span class="type">Ordering</span>[<span class="type">Int</span>].reverse) <span class="comment">//进行排序</span></span><br><span class="line">      .take(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">    println(wordCountList)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;========另一种思路========&quot;</span>)</span><br><span class="line">    <span class="comment">//思路二：直接基于预统计的结果进行转换</span></span><br><span class="line">    <span class="comment">//1.将字符串打散为单词，并结合对应的个数包装成元组</span></span><br><span class="line">    <span class="keyword">val</span> preCountList:<span class="type">List</span>[(<span class="type">String</span>,<span class="type">Int</span>)] = tupleList.flatMap(</span><br><span class="line">      tuple =&gt;&#123;</span><br><span class="line">        <span class="keyword">val</span> strings : <span class="type">Array</span>[<span class="type">String</span>] = tuple._1.split(<span class="string">&quot; &quot;</span>)</span><br><span class="line">        strings.map(word =&gt; (word,tuple._2))</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    println(preCountList)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.对二元组按照单词进行分词</span></span><br><span class="line">    <span class="keyword">val</span> preCountMap: <span class="type">Map</span>[<span class="type">String</span>, <span class="type">List</span>[(<span class="type">String</span>, <span class="type">Int</span>)]] = preCountList.groupBy(_._1)</span><br><span class="line">    println(preCountMap)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.叠加每个单词预统计的个数值</span></span><br><span class="line">    <span class="keyword">val</span> countMap: <span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = preCountMap.mapValues(</span><br><span class="line">      tupleList =&gt; tupleList.map(_._2).sum</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="comment">//转换成list并进行排序</span></span><br><span class="line">    <span class="keyword">val</span> countList = countMap.toList.sortWith(_._2 &gt; _._2).take(<span class="number">3</span>)</span><br><span class="line">    println(countList)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="E:\Typora\InsertImage\image-20211209144003756.png" alt="image-20211209144003756"></p>
<h2 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h2><p><strong>1）说明</strong> </p>
<p>Scala 也提供了队列（Queue）的数据结构，队列的特点就是先进先出。进队和出队的方 法分别为 enqueue 和 dequeue。</p>
<p>2）示例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.immutable.<span class="type">Queue</span></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-09-时间:14:41</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test19_Queue</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建一个可变的队列</span></span><br><span class="line">    <span class="keyword">val</span> queue: mutable.<span class="type">Queue</span>[<span class="type">String</span>] = <span class="keyword">new</span> mutable.<span class="type">Queue</span>[<span class="type">String</span>]()</span><br><span class="line"></span><br><span class="line">    <span class="comment">//进队</span></span><br><span class="line">    queue.enqueue(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>)</span><br><span class="line"></span><br><span class="line">    println(queue)</span><br><span class="line">    <span class="comment">//出对</span></span><br><span class="line">    println(queue.dequeue())</span><br><span class="line">    println(queue)</span><br><span class="line">    println(queue.dequeue())</span><br><span class="line">    println(queue)</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;==============&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//不可变队列</span></span><br><span class="line">    <span class="keyword">val</span> queue2 = <span class="type">Queue</span>(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> queue3 = queue2.enqueue(<span class="string">&quot;d&quot;</span>)</span><br><span class="line">    println(queue2)</span><br><span class="line">    println(queue3)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="E:\Typora\InsertImage\image-20211209144845923.png" alt="image-20211209144845923"></p>
<h2 id="并行集合"><a href="#并行集合" class="headerlink" title="并行集合"></a>并行集合</h2><blockquote>
<p>1）说明</p>
</blockquote>
<p>Scala 为了充分使用多核 CPU，提供了并行集合（有别于前面的串行集合），用于多核 环境的并行计算。</p>
<p><strong>示例</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jdk.nashorn.internal.ir.annotations.<span class="type">Immutable</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.immutable</span><br><span class="line"><span class="keyword">import</span> scala.collection.parallel.<span class="type">ParSeq</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-09-时间:14:52</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test20_Parallel</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> result: immutable.<span class="type">IndexedSeq</span>[<span class="type">Long</span>] =(<span class="number">10</span> to <span class="number">100</span>).map(</span><br><span class="line">      x =&gt; <span class="type">Thread</span>.currentThread().getId</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    println(result)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加一个.par</span></span><br><span class="line">    <span class="keyword">val</span> result2:<span class="type">ParSeq</span>[<span class="type">Long</span>] =(<span class="number">10</span> to <span class="number">100</span>).par.map(</span><br><span class="line">      x =&gt; <span class="type">Thread</span>.currentThread().getId</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    println(result2)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="模式匹配"><a href="#模式匹配" class="headerlink" title="模式匹配"></a>模式匹配</h1><p>Scala 中的模式匹配类似于 Java 中的 switch 语法 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">10</span> <span class="keyword">switch</span> (i) &#123; </span><br><span class="line">    <span class="keyword">case</span> <span class="number">10</span> : System.out.println(<span class="string">&quot;10&quot;</span>); <span class="keyword">break</span>; </span><br><span class="line">    <span class="keyword">case</span> <span class="number">20</span> :  System.out.println(<span class="string">&quot;20&quot;</span>); <span class="keyword">break</span>; </span><br><span class="line">    <span class="keyword">default</span> :  System.out.println(<span class="string">&quot;other number&quot;</span>); <span class="keyword">break</span>; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p>但是 scala 从语法中补充了更多的功能，所以更加强大。</p>
<h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><p>模式匹配语法中，采用 match 关键字声明，每个分支采用 case 关键字进行声明，当需 要匹配时，会从第一个 case 分支开始，如果匹配成功，那么执行对应的逻辑代码，如果匹 配不成功，继续执行下一个分支进行判断。如果所有 case 都不匹配，那么会执行 case _分支， 类似于 Java 中 default 语句。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter8</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-09-时间:15:10</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test01_PatternMatchBase</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.基本定义语法</span></span><br><span class="line">    <span class="keyword">val</span> x:<span class="type">Int</span> = <span class="number">2</span></span><br><span class="line">    <span class="keyword">val</span> y:<span class="type">String</span> = x <span class="keyword">match</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">1</span> =&gt; <span class="string">&quot;one&quot;</span></span><br><span class="line">      <span class="keyword">case</span> <span class="number">2</span> =&gt; <span class="string">&quot;two&quot;</span></span><br><span class="line">      <span class="keyword">case</span> <span class="number">3</span> =&gt; <span class="string">&quot;three&quot;</span></span><br><span class="line">      <span class="keyword">case</span> _ =&gt; <span class="string">&quot;other&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(y)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.示例：用模式匹配实现简单的二元运算</span></span><br><span class="line">    <span class="keyword">val</span> a = <span class="number">25</span></span><br><span class="line">    <span class="keyword">val</span> b = <span class="number">13</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">matchDualOp</span></span>(op: <span class="type">Char</span>) = op <span class="keyword">match</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> &#x27;+&#x27; =&gt; a+b</span><br><span class="line">      <span class="keyword">case</span> &#x27;-&#x27; =&gt; a-b</span><br><span class="line">      <span class="keyword">case</span> &#x27;*&#x27; =&gt; a*b</span><br><span class="line">      <span class="keyword">case</span> &#x27;/&#x27; =&gt; a/b</span><br><span class="line">      <span class="keyword">case</span> &#x27;%&#x27; =&gt; a%b</span><br><span class="line">      <span class="keyword">case</span> _ =&gt; <span class="string">&quot;非法运算符&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(matchDualOp(&#x27;+&#x27;))</span><br><span class="line">    println(matchDualOp(&#x27;-&#x27;))</span><br><span class="line">    println(matchDualOp(&#x27;*&#x27;))</span><br><span class="line">    println(matchDualOp(&#x27;d&#x27;))</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="E:\Typora\InsertImage\image-20211209152434602.png" alt="image-20211209152434602"></p>
<p><strong>1）说明</strong> </p>
<p>（1）如果所有 case 都不匹配，那么会执行 case _ 分支，类似于 Java 中 default 语句， 若此时没有 case _ 分支，那么会抛出 MatchError。 </p>
<p>（2）每个 case 中，不需要使用 break 语句，自动中断 case。</p>
<p>（3）match case 语句可以匹配任何类型，而不只是字面量。 </p>
<p>（4）&#x3D;&gt; 后面的代码块，直到下一个 case 语句之前的代码是作为一个整体执行，可以 使用{}括起来，也可以不括。</p>
<h2 id="模式守卫"><a href="#模式守卫" class="headerlink" title="模式守卫"></a>模式守卫</h2><p><strong>1）说明</strong> </p>
<p>如果想要表达匹配某个范围的数据，就需要在模式匹配中增加条件守卫。</p>
<p>2）示例</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//模式守卫</span></span><br><span class="line">    <span class="comment">//求一个整数的绝对值</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">abs</span></span>(num:<span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">      num <span class="keyword">match</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> i <span class="keyword">if</span> i &gt;= <span class="number">0</span> =&gt; i</span><br><span class="line">        <span class="keyword">case</span> i <span class="keyword">if</span> i &lt; <span class="number">0</span> =&gt; -i</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(abs(<span class="number">-2</span>))</span><br></pre></td></tr></table></figure>



<h2 id="模式匹配类型"><a href="#模式匹配类型" class="headerlink" title="模式匹配类型"></a>模式匹配类型</h2><h3 id="匹配常量"><a href="#匹配常量" class="headerlink" title="匹配常量"></a>匹配常量</h3><p>1）说明：Scala 中，模式匹配可以匹配所有的字面量，包括字符串，字符，数字，布尔值等等。</p>
<p><strong>示例</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter8</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-09-时间:15:10</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test01_PatternMatchBase</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.基本定义语法</span></span><br><span class="line">    <span class="keyword">val</span> x:<span class="type">Int</span> = <span class="number">2</span></span><br><span class="line">    <span class="keyword">val</span> y:<span class="type">String</span> = x <span class="keyword">match</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">1</span> =&gt; <span class="string">&quot;one&quot;</span></span><br><span class="line">      <span class="keyword">case</span> <span class="number">2</span> =&gt; <span class="string">&quot;two&quot;</span></span><br><span class="line">      <span class="keyword">case</span> <span class="number">3</span> =&gt; <span class="string">&quot;three&quot;</span></span><br><span class="line">      <span class="keyword">case</span> _ =&gt; <span class="string">&quot;other&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(y)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.示例：用模式匹配实现简单的二元运算</span></span><br><span class="line">    <span class="keyword">val</span> a = <span class="number">25</span></span><br><span class="line">    <span class="keyword">val</span> b = <span class="number">13</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">matchDualOp</span></span>(op: <span class="type">Char</span>) = op <span class="keyword">match</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> &#x27;+&#x27; =&gt; a+b</span><br><span class="line">      <span class="keyword">case</span> &#x27;-&#x27; =&gt; a-b</span><br><span class="line">      <span class="keyword">case</span> &#x27;*&#x27; =&gt; a*b</span><br><span class="line">      <span class="keyword">case</span> &#x27;/&#x27; =&gt; a/b</span><br><span class="line">      <span class="keyword">case</span> &#x27;%&#x27; =&gt; a%b</span><br><span class="line">      <span class="keyword">case</span> _ =&gt; <span class="string">&quot;非法运算符&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(matchDualOp(&#x27;+&#x27;))</span><br><span class="line">    println(matchDualOp(&#x27;-&#x27;))</span><br><span class="line">    println(matchDualOp(&#x27;*&#x27;))</span><br><span class="line">    println(matchDualOp(&#x27;d&#x27;))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//模式守卫</span></span><br><span class="line">    <span class="comment">//求一个整数的绝对值</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">abs</span></span>(num:<span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">      num <span class="keyword">match</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> i <span class="keyword">if</span> i &gt;= <span class="number">0</span> =&gt; i</span><br><span class="line">        <span class="keyword">case</span> i <span class="keyword">if</span> i &lt; <span class="number">0</span> =&gt; -i</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(abs(<span class="number">-2</span>))</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.匹配常量</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">describeConst</span></span>(x: <span class="type">Any</span>) : <span class="type">String</span> = x <span class="keyword">match</span> &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">1</span> =&gt; <span class="string">&quot;Int one&quot;</span></span><br><span class="line">  <span class="keyword">case</span> <span class="string">&quot;hello&quot;</span> =&gt; <span class="string">&quot;String hello&quot;</span></span><br><span class="line">  <span class="keyword">case</span> <span class="literal">true</span> =&gt; <span class="string">&quot;Boolean true&quot;</span></span><br><span class="line">  <span class="keyword">case</span> &#x27;+&#x27; =&gt; <span class="string">&quot;char +&quot;</span></span><br><span class="line">  <span class="keyword">case</span> _ =&gt; <span class="string">&quot;都不是&quot;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">println(describeConst(<span class="string">&quot;hello&quot;</span>))</span><br><span class="line">println(describeConst(<span class="string">&quot;+&quot;</span>))</span><br><span class="line">println(describeConst(<span class="number">0.3</span>))</span><br><span class="line"></span><br><span class="line">println(<span class="string">&quot;===================&quot;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="匹配类型"><a href="#匹配类型" class="headerlink" title="匹配类型"></a>匹配类型</h3><p><strong>1）说明</strong>：需要进行类型判断时，可以使用前文所学的 isInstanceOf[T]和 asInstanceOf[T]，也可使 用模式匹配实现同样的功能。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2.匹配类型</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">describeType</span></span>(x:<span class="type">Any</span>):<span class="type">String</span> = x <span class="keyword">match</span> &#123;</span><br><span class="line">     <span class="keyword">case</span> i:<span class="type">Int</span> =&gt; <span class="string">&quot;Int &quot;</span> + i</span><br><span class="line">     <span class="keyword">case</span> s:<span class="type">String</span> =&gt; <span class="string">&quot;String&quot;</span>+s</span><br><span class="line">     <span class="keyword">case</span> list:<span class="type">List</span>[<span class="type">String</span>] =&gt; <span class="string">&quot;List&quot;</span>+list</span><br><span class="line">     <span class="keyword">case</span> array: <span class="type">Array</span>[<span class="type">Int</span>] =&gt; <span class="string">&quot;Array[Int]&quot;</span>+array.mkString(<span class="string">&quot;,&quot;</span>)</span><br><span class="line">     <span class="keyword">case</span> a =&gt; <span class="string">&quot;Something else: &quot;</span> + a</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   println(describeType(<span class="number">5</span>))</span><br><span class="line">   println(describeType(<span class="string">&quot;hello&quot;</span>))</span><br><span class="line">   println(describeType(<span class="type">List</span>(<span class="string">&quot;12&quot;</span>,<span class="string">&quot;sa&quot;</span>)))</span><br><span class="line">   println(describeType(<span class="literal">true</span>))</span><br></pre></td></tr></table></figure>



<h3 id="匹配数组"><a href="#匹配数组" class="headerlink" title="匹配数组"></a>匹配数组</h3><p><strong>1）说明</strong> scala 模式匹配可以对集合进行精确的匹配，例如匹配只有两个元素的、且第一个元素 为 0 的数组。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//3.匹配数组</span></span><br><span class="line"><span class="keyword">for</span>(arr &lt;- <span class="type">List</span>(</span><br><span class="line">  <span class="type">Array</span>(<span class="number">0</span>),</span><br><span class="line">  <span class="type">Array</span>(<span class="number">1</span>,<span class="number">0</span>),</span><br><span class="line">  <span class="type">Array</span>(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>),</span><br><span class="line">  <span class="type">Array</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>),</span><br><span class="line">  <span class="type">Array</span>(<span class="number">2</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">15</span>),</span><br><span class="line">  <span class="type">Array</span>(<span class="string">&quot;hello&quot;</span>,<span class="number">20</span>,<span class="number">30</span>)</span><br><span class="line">))&#123;</span><br><span class="line">  <span class="keyword">val</span> result = arr <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">Array</span>(<span class="number">0</span>) =&gt; <span class="string">&quot;0&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Array</span>(<span class="number">1</span>,<span class="number">0</span>) =&gt; <span class="string">&quot;Array(1,0)&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Array</span>(x,y) =&gt; <span class="string">&quot;Array:&quot;</span> + x + y <span class="comment">//匹配两元素数组</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Array</span>(<span class="number">0</span>,_*) =&gt; <span class="string">&quot;以0开头的数组&quot;</span> <span class="comment">//匹配两元素数组</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Array</span>(x,<span class="number">1</span>,z) =&gt; <span class="string">&quot;中间为1的三元素数组&quot;</span></span><br><span class="line">    <span class="keyword">case</span> _ =&gt; <span class="string">&quot;something else&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  println(result)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="E:\Typora\InsertImage\image-20211209162949039.png" alt="image-20211209162949039"></p>
<h3 id="匹配列表"><a href="#匹配列表" class="headerlink" title="匹配列表"></a>匹配列表</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//4.匹配列表</span></span><br><span class="line"><span class="keyword">for</span>(list &lt;- <span class="type">List</span>(</span><br><span class="line">  <span class="type">List</span>(<span class="number">0</span>),</span><br><span class="line">  <span class="type">List</span>(<span class="number">1</span>,<span class="number">0</span>),</span><br><span class="line">  <span class="type">List</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>),</span><br><span class="line">  <span class="type">List</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>),</span><br><span class="line">  <span class="type">List</span>(<span class="number">88</span>)</span><br><span class="line">))&#123;</span><br><span class="line">  <span class="keyword">val</span> result = list <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">List</span>(<span class="number">0</span>) =&gt; <span class="string">&quot;0&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">List</span>(x,y) =&gt; <span class="string">&quot;List(x,y):&quot;</span> + x + <span class="string">&quot;,&quot;</span> +y</span><br><span class="line">    <span class="keyword">case</span> <span class="type">List</span>(<span class="number">0</span>,_*) =&gt; <span class="string">&quot;以0开头的集合&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">List</span>(a) =&gt; <span class="string">&quot;list(a):&quot;</span> + a</span><br><span class="line">    <span class="keyword">case</span> _ =&gt; <span class="string">&quot;something else&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">  println(result)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//方式二</span></span><br><span class="line"><span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">24</span>)</span><br><span class="line"></span><br><span class="line">list <span class="keyword">match</span> &#123;</span><br><span class="line">  <span class="keyword">case</span> first :: second :: rest =&gt; println(<span class="string">s&quot;first: <span class="subst">$first</span> , second:<span class="subst">$second</span>,rest:<span class="subst">$rest</span>&quot;</span>)</span><br><span class="line">  <span class="keyword">case</span> _ =&gt; <span class="string">&quot;something else&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="匹配元组"><a href="#匹配元组" class="headerlink" title="匹配元组"></a>匹配元组</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//5.匹配元组</span></span><br><span class="line"><span class="keyword">for</span>(tuple &lt;- <span class="type">List</span>(</span><br><span class="line">  (<span class="number">0</span>,<span class="number">1</span>),</span><br><span class="line">  (<span class="number">0</span>,<span class="number">0</span>),</span><br><span class="line">  (<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>),</span><br><span class="line">  (<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>),</span><br><span class="line">  (<span class="number">1</span>,<span class="number">23</span>,<span class="number">56</span>),</span><br><span class="line">  (<span class="string">&quot;hello&quot;</span>,<span class="literal">true</span>,<span class="number">0.5</span>)</span><br><span class="line">))&#123;</span><br><span class="line">  <span class="keyword">val</span> result = tuple <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> (a,b) =&gt; <span class="string">&quot;&quot;</span> + a + <span class="string">&quot;,&quot;</span> + b</span><br><span class="line">    <span class="keyword">case</span> (<span class="number">0</span>,_) =&gt; <span class="string">&quot;(0,_)&quot;</span></span><br><span class="line">    <span class="keyword">case</span> (a,<span class="number">1</span>,_) =&gt; <span class="string">&quot;(a,1,_)&quot;</span> + a</span><br><span class="line">    <span class="keyword">case</span> _ =&gt; <span class="string">&quot;something else&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  println(result)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>扩展案例</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter8</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-09-时间:16:59</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test03_MatchTupleExtend</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.在变量声明时匹配</span></span><br><span class="line">    <span class="keyword">val</span> (x,y) = (<span class="number">10</span>,<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">    println(x+<span class="string">&quot;,&quot;</span>+y)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> <span class="type">List</span>(first,second,_*) = <span class="type">List</span>(<span class="number">23</span>,<span class="number">45</span>,<span class="number">67</span>)</span><br><span class="line">    println(<span class="string">s&quot;<span class="subst">$first</span> &quot;</span>+<span class="string">&quot;,&quot;</span>+<span class="string">s&quot; <span class="subst">$second</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> fir::sec::rest = <span class="type">List</span>(<span class="number">23</span>,<span class="number">45</span>,<span class="number">67</span>,<span class="number">88</span>)</span><br><span class="line">    println(<span class="string">s&quot;<span class="subst">$first</span> &quot;</span>+<span class="string">&quot;,&quot;</span>+<span class="string">s&quot; <span class="subst">$second</span>,rest : <span class="subst">$rest</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.for推导式中进行模式匹配</span></span><br><span class="line">    <span class="keyword">val</span> list : <span class="type">List</span>[(<span class="type">String</span>,<span class="type">Int</span>)] = <span class="type">List</span>((<span class="string">&quot;a&quot;</span>,<span class="number">12</span>),(<span class="string">&quot;b&quot;</span>,<span class="number">23</span>),(<span class="string">&quot;c&quot;</span>,<span class="number">34</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.1 原本的遍历方式</span></span><br><span class="line">    <span class="keyword">for</span>(elem &lt;- list)&#123;</span><br><span class="line">      println(elem._1 + <span class="string">&quot; &quot;</span> + elem._2)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.2 将list元素直接定义为元组，对变量赋值</span></span><br><span class="line">    <span class="keyword">for</span> ((word,count) &lt;- list )&#123;</span><br><span class="line">      println(word,count)</span><br><span class="line">    &#125;</span><br><span class="line">    println(<span class="string">&quot;-----------&quot;</span>)</span><br><span class="line">    <span class="comment">//2.3 可以不考虑某个位置的变量，只遍历key或者value</span></span><br><span class="line">    <span class="keyword">for</span> ((word,_) &lt;- list)&#123;</span><br><span class="line">      println(word)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;-----------&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.4 可以指定某个位置的值，必须是多少</span></span><br><span class="line">    <span class="keyword">for</span>((<span class="string">&quot;a&quot;</span>,count) &lt;- list)&#123;</span><br><span class="line">      println(count)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="匹配对象及样例类"><a href="#匹配对象及样例类" class="headerlink" title="匹配对象及样例类"></a>匹配对象及样例类</h3><p>1）基本语法</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter8</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-09-时间:17:14</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test04_MatchObject</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> student  = <span class="keyword">new</span> <span class="type">Student</span>(<span class="string">&quot;alice&quot;</span>,<span class="number">18</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//针对对象实例的内容进行匹配</span></span><br><span class="line">    <span class="keyword">val</span> result = student <span class="keyword">match</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="type">Student</span>(<span class="string">&quot;alice&quot;</span>,<span class="number">18</span>) =&gt; <span class="string">&quot;Alice,18&quot;</span></span><br><span class="line">      <span class="keyword">case</span> _ =&gt; <span class="string">&quot;Else&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(result)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params">val name:<span class="type">String</span> , val age:<span class="type">Int</span></span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义伴生对象</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Student</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(name:<span class="type">String</span> , age:<span class="type">Int</span>):<span class="type">Student</span> = <span class="keyword">new</span> <span class="type">Student</span>(name,age)</span><br><span class="line">  <span class="comment">//必须实现一个unapply方法，用来对对象属性进行拆解</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">unapply</span></span>(student: <span class="type">Student</span>): <span class="type">Option</span>[(<span class="type">String</span>,<span class="type">Int</span>)] =&#123;</span><br><span class="line">    <span class="keyword">if</span> (student == <span class="literal">null</span>)&#123;</span><br><span class="line">      <span class="type">None</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="type">Some</span>(student.name,student.age)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>小结</strong> </p>
<p>➢ val user &#x3D; User(“zhangsan”,11)，该语句在执行时，实际调用的是 User 伴生对象中的 apply 方法，因此不用 new 关键字就能构造出相应的对象。 </p>
<p>➢ 当将 User(“zhangsan”, 11)写在 case 后时[case User(“zhangsan”, 11) &#x3D;&gt; “yes”]，会默 认调用 unapply 方法(对象提取器)，user 作为 unapply 方法的参数，unapply 方法 将 user 对象的 name 和 age 属性提取出来，与 User(“zhangsan”, 11)中的属性值进行 匹配。</p>
<p>➢ case 中对象的 unapply 方法(提取器)返回 Some，且所有属性均一致，才算匹配成功, 属性不一致，或返回 None，则匹配失败。 </p>
<p>➢ 若只提取对象的一个属性，则提取器为 unapply(obj:Obj):Option[T] 若提取对象的多个属性，则提取器为 unapply(obj:Obj):Option[(T1,T2,T3…)] 若提取对象的可变个属性，则提取器为 unapplySeq(obj:Obj):Option[Seq[T]]。</p>
<p><strong>样例类</strong></p>
<p>（1）语法： case class Person (name: String, age: Int) </p>
<p>（2）说明 </p>
<p>​	○1 样例类仍然是类，和普通类相比，只是其自动生成了伴生对象，并且伴生对象中 自动提供了一些常用的方法，如 apply、unapply、toString、equals、hashCode 和 copy。 </p>
<p>​	○2 样例类是为模式匹配而优化的类，因为其默认提供了 unapply 方法，因此，样例 类可以直接使用模式匹配，而无需自己实现 unapply 方法。 </p>
<p>​	○3 构造器中的每一个参数都成为 val，除非它被显式地声明为 var（不建议这样做）</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter8</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-09-时间:19:31</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test05_MatchCaseClass</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> student  = <span class="type">Student1</span>(<span class="string">&quot;alice&quot;</span>,<span class="number">18</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//针对对象实例的内容进行匹配</span></span><br><span class="line">    <span class="keyword">val</span> result = student <span class="keyword">match</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="type">Student1</span>(<span class="string">&quot;alice&quot;</span>,<span class="number">18</span>) =&gt; <span class="string">&quot;Alice,18&quot;</span></span><br><span class="line">      <span class="keyword">case</span> _ =&gt; <span class="string">&quot;Else&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(result)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义样例类</span></span><br><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">Student1</span>(<span class="params">val name:<span class="type">String</span>,val age:<span class="type">Int</span></span>)</span></span><br></pre></td></tr></table></figure>

<p><img src="E:\Typora\InsertImage\image-20211209193629692.png" alt="image-20211209193629692"></p>
<h2 id="偏函数中的模式匹配-了解"><a href="#偏函数中的模式匹配-了解" class="headerlink" title="偏函数中的模式匹配(了解)"></a>偏函数中的模式匹配(了解)</h2><p>偏函数也是函数的一种，通过偏函数我们可以方便的对输入参数做更精确的检查。例如 该偏函数的输入类型为 List[Int]，而我们需要的是第一个元素是 0 的集合，这就是通过模式 匹配实现的。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter8</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-09-时间:19:40</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test06_PartialFunction</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> list:<span class="type">List</span>[(<span class="type">String</span>,<span class="type">Int</span>)] = <span class="type">List</span>((<span class="string">&quot;a&quot;</span>,<span class="number">12</span>),(<span class="string">&quot;b&quot;</span>,<span class="number">35</span>),(<span class="string">&quot;c&quot;</span>,<span class="number">27</span>),(<span class="string">&quot;a&quot;</span>,<span class="number">13</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.map转换，实现key不变，value2倍</span></span><br><span class="line">    <span class="keyword">var</span> newList: <span class="type">List</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = list.map(tuple =&gt; (tuple._1, tuple._2 * <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.用模式匹配对元组元素赋值，实现功能</span></span><br><span class="line">    <span class="keyword">val</span> newList2 = list.map(</span><br><span class="line">      tuple =&gt; &#123;</span><br><span class="line">        tuple <span class="keyword">match</span> &#123;</span><br><span class="line">          <span class="keyword">case</span> (word,count) =&gt; (word,count*<span class="number">2</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.省略lambda表达式的写法，进行简化</span></span><br><span class="line">    <span class="keyword">val</span> newList3 = list.map&#123;</span><br><span class="line">      <span class="keyword">case</span> (word,count) =&gt; (word,count * <span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(newList)</span><br><span class="line">    println(newList2)</span><br><span class="line">    println(newList3)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//偏函数的应用，求绝对值</span></span><br><span class="line">    <span class="comment">//对输入数据分为不同的情形：正、负、0</span></span><br><span class="line">    <span class="keyword">val</span> positiveABS:<span class="type">PartialFunction</span>[<span class="type">Int</span> , <span class="type">Int</span>] = &#123;</span><br><span class="line">      <span class="keyword">case</span> x <span class="keyword">if</span> x &gt; <span class="number">0</span> =&gt; x</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> negativeABS:<span class="type">PartialFunction</span>[<span class="type">Int</span> , <span class="type">Int</span>] = &#123;</span><br><span class="line">      <span class="keyword">case</span> x <span class="keyword">if</span> x &lt; <span class="number">0</span> =&gt; -x</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> zeroABS:<span class="type">PartialFunction</span>[<span class="type">Int</span> , <span class="type">Int</span>] = &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">0</span> =&gt; <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">abs</span></span>(x:<span class="type">Int</span>):<span class="type">Int</span> = (positiveABS orElse negativeABS orElse zeroABS) (x)</span><br><span class="line"></span><br><span class="line">    println(abs(<span class="number">-67</span>))</span><br><span class="line">    println(abs(<span class="number">35</span>))</span><br><span class="line">    println(abs(<span class="number">0</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h1><p>语法上和Java比较类似，但是不是全部相同。</p>
<h2 id="Java异常处理"><a href="#Java异常处理" class="headerlink" title="Java异常处理"></a>Java异常处理</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter09</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-10-时间:8:36</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test01_Exception</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">      <span class="keyword">val</span> n = <span class="number">10</span> /<span class="number">0</span></span><br><span class="line">    &#125;<span class="keyword">catch</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> e:<span class="type">ArithmeticException</span> =&gt; println(<span class="string">&quot;发生算数异常&quot;</span>)</span><br><span class="line">      <span class="keyword">case</span> e:<span class="type">Exception</span> =&gt; println(<span class="string">&quot;发生一般异常&quot;</span>)</span><br><span class="line">    &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">      println(<span class="string">&quot;处理结束&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>1）我们将可疑代码封装在 try 块中。在 try 块之后使用了一个 catch 处理程序来捕获异 常。如果发生任何异常，catch 处理程序将处理它，程序将不会异常终止。 </p>
<p>2）Scala 的异常的工作机制和 Java 一样，但是 Scala 没有“checked（编译期）”异常， 即 Scala 没有编译异常这个概念，异常都是在运行的时候捕获处理。 </p>
<p>3）异常捕捉的机制与其他语言中一样，如果有异常发生，catch 子句是按次序捕捉的。 因此，在 catch 子句中，越具体的异常越要靠前，越普遍的异常越靠后，如果把越普遍的异 常写在前，把具体的异常写在后，在 Scala 中也不会报错，但这样是非常不好的编程风格。 </p>
<p>4）finally 子句用于执行不管是正常处理还是有异常发生时都需要执行的步骤，一般用 于对象的清理工作，这点和 Java 一样。 </p>
<p>5）用 throw 关键字，抛出一个异常对象。所有异常都是 Throwable 的子类型。throw 表 达式是有类型的，就是 Nothing，因为 Nothing 是所有类型的子类型，所以 throw 表达式可以用在需要类型的地方。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span></span>():<span class="type">Nothing</span> = &#123;</span><br><span class="line"> <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">Exception</span>(<span class="string">&quot;不对&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>6）java 提供了 throws 关键字来声明异常。可以使用方法定义声明异常。它向调用者函 数提供了此方法可能引发此异常的信息。它有助于调用函数处理并将该代码包含在 try-catch 块中，以避免程序异常终止。在 Scala 中，可以使用 throws 注解来声明异常。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"> f11()</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@throws</span>(classOf[<span class="type">NumberFormatException</span>])</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f11</span></span>()=&#123;</span><br><span class="line"> <span class="string">&quot;abc&quot;</span>.toInt</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="隐式转换"><a href="#隐式转换" class="headerlink" title="隐式转换"></a>隐式转换</h1><p><strong>当编译器第一次编译失败的时候，会在当前的环境中查找能让代码编译通过的方法，用于将类型进行转换，实现二次编译。</strong></p>
<h2 id="隐式函数"><a href="#隐式函数" class="headerlink" title="隐式函数"></a>隐式函数</h2><p>1）说明</p>
<p>​	隐式转换可以在不需改任何代码的情况下，扩展某个类的功能。</p>
<p>2）案例实操</p>
<p>需求：通过隐式转化为Int类型增加方法。</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter09</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-10-时间:9:41</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test02_Implicit</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//1.隐式函数</span></span><br><span class="line">    <span class="keyword">implicit</span> <span class="function"><span class="keyword">def</span> <span class="title">convert</span></span>(num:<span class="type">Int</span>):<span class="type">MyRichInt</span> = <span class="keyword">new</span> <span class="type">MyRichInt</span>(num)</span><br><span class="line"></span><br><span class="line">    println(<span class="number">12.</span>myMax(<span class="number">15</span>))</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//自定义类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyRichInt</span>(<span class="params">val self:<span class="type">Int</span></span>)</span>&#123;</span><br><span class="line">  <span class="comment">//自定义比较大小的方法</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">myMax</span></span>(n:<span class="type">Int</span>): <span class="type">Int</span> =&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; self)&#123;</span><br><span class="line">      self</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      n</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">myMin</span></span>(n:<span class="type">Int</span>): <span class="type">Int</span> =&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &gt; self)&#123;</span><br><span class="line">      self</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      n</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>当想调用对象功能时，如果编译错误，那么编译器会尝试在当前作用域范 围内查找能调用对应功能的转换规则，这个调用过程是由编译器完成的，所以称之为隐 式转换。也称之为自动转换。</p>
<h2 id="隐式类"><a href="#隐式类" class="headerlink" title="隐式类"></a>隐式类</h2><p>在 Scala2.10 后提供了隐式类，可以使用 implicit 声明类，隐式类的非常强大，同样可 以扩展类的功能，在集合中隐式类会发挥重要的作用。 </p>
<p><strong>1）隐式类说明</strong></p>
<p>（1）其所带的构造参数有且只能有一个 </p>
<p>（2）隐式类必须被定义在“类”或“伴生对象”或“包对象”里，即隐式类不能是顶 级的。</p>
<p><strong>2）案例实操</strong></p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2.隐式类</span></span><br><span class="line">   <span class="keyword">implicit</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRichInt2</span>(<span class="params">val self:<span class="type">Int</span></span>)</span>&#123;</span><br><span class="line">     <span class="comment">//自定义比较大小的方法</span></span><br><span class="line">     <span class="function"><span class="keyword">def</span> <span class="title">myMax2</span></span>(n:<span class="type">Int</span>): <span class="type">Int</span> =&#123;</span><br><span class="line">       <span class="keyword">if</span> (n &lt; self)&#123;</span><br><span class="line">         self</span><br><span class="line">       &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">         n</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="function"><span class="keyword">def</span> <span class="title">myMin2</span></span>(n:<span class="type">Int</span>): <span class="type">Int</span> =&#123;</span><br><span class="line">       <span class="keyword">if</span> (n &gt; self)&#123;</span><br><span class="line">         self</span><br><span class="line">       &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">         n</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   println(<span class="number">12.</span>myMax2(<span class="number">11</span>))</span><br></pre></td></tr></table></figure>



<h2 id="隐式参数"><a href="#隐式参数" class="headerlink" title="隐式参数"></a>隐式参数</h2><p>普通方法或者函数中的参数可以通过 implicit 关键字声明为隐式参数，调用该方法时， 就可以传入该参数，编译器会在相应的作用域寻找符合条件的隐式值。</p>
<p>1）说明 </p>
<p>（1）同一个作用域中，相同类型的隐式值只能有一个 </p>
<p>（2）编译器按照隐式参数的类型去寻找对应类型的隐式值，与隐式值的名称无关。 </p>
<p>（3）隐式参数优先于默认参数</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//3，隐式参数</span></span><br><span class="line">    <span class="keyword">implicit</span> <span class="keyword">val</span> str: <span class="type">String</span> = <span class="string">&quot;alice&quot;</span></span><br><span class="line">    <span class="keyword">implicit</span> <span class="keyword">val</span> st1r: <span class="type">Int</span> = <span class="number">23</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sayHello</span></span>()(<span class="keyword">implicit</span> name:<span class="type">String</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">      println(<span class="string">&quot;hello:&quot;</span>+name)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sayHi</span></span>(<span class="keyword">implicit</span> name:<span class="type">String</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">      println(<span class="string">&quot;hi:&quot;</span>+name)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sayHello</span><br><span class="line">    sayHello()</span><br><span class="line">    sayHi</span><br><span class="line"></span><br><span class="line">    <span class="comment">//简便写法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hiAge</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">      println(<span class="string">&quot;hi,&quot;</span>+implicitly[<span class="type">Int</span>])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    hiAge()</span><br></pre></td></tr></table></figure>

<p><img src="E:\Typora\InsertImage\image-20211210101609150.png" alt="image-20211210101609150"></p>
<h1 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h1><h2 id="协变和逆变"><a href="#协变和逆变" class="headerlink" title="协变和逆变"></a>协变和逆变</h2><p>1）语法 </p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyList</span>[+<span class="type">T</span>]</span>&#123; <span class="comment">//协变 &#125;  </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyList</span>[-<span class="type">T</span>]</span>&#123; <span class="comment">//逆变 &#125; </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyList</span>[<span class="type">T</span>] <span class="comment">//不变</span></span></span><br></pre></td></tr></table></figure>

<p>2）说明</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">协变：<span class="type">Son</span> 是 <span class="type">Father</span> 的子类，则 <span class="type">MyList</span>[<span class="type">Son</span>] 也作为 <span class="type">MyList</span>[<span class="type">Father</span>]的“子类”。</span><br><span class="line">逆变：<span class="type">Son</span> 是 <span class="type">Father</span> 的子类，则 <span class="type">MyList</span>[<span class="type">Son</span>]作为 <span class="type">MyList</span>[<span class="type">Father</span>]的“父类”。</span><br><span class="line">不变：<span class="type">Son</span> 是 <span class="type">Father</span> 的子类，则 <span class="type">MyList</span>[<span class="type">Father</span>]与 <span class="type">MyList</span>[<span class="type">Son</span>]“无父子关系”。</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter09</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author:左泽林</span></span><br><span class="line"><span class="comment"> * @date:日期:2021-12-10-时间:10:27</span></span><br><span class="line"><span class="comment"> * @message:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test03_Generics</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//。协变和逆变</span></span><br><span class="line">    <span class="keyword">val</span> child:<span class="type">Parent</span> = <span class="keyword">new</span> <span class="type">Child</span></span><br><span class="line">    <span class="keyword">val</span> childList:<span class="type">MyCollection</span>[<span class="type">SubChild</span>] = <span class="keyword">new</span> <span class="type">MyCollection</span>[<span class="type">Child</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义继承关系</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span></span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">Parent</span></span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubChild</span> <span class="keyword">extends</span> <span class="title">Child</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义带泛型的集合类型</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCollection</span>[-<span class="type">E</span>] </span>&#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="范文上下限"><a href="#范文上下限" class="headerlink" title="范文上下限"></a>范文上下限</h2><p>1）语法 </p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="type">PersonList</span>[<span class="type">T</span> &lt;: <span class="type">Person</span>]&#123; <span class="comment">//泛型上限 &#125; </span></span><br><span class="line"><span class="type">Class</span> <span class="type">PersonList</span>[<span class="type">T</span> &gt;: <span class="type">Person</span>]&#123; <span class="comment">//泛型下限 &#125; </span></span><br></pre></td></tr></table></figure>

<p>2）说明 </p>
<p>泛型的上下限的作用是对传入的泛型进行限定。 </p>
<p>3）实操</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2.上下限</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>[<span class="type">A</span> &lt;: <span class="type">Child</span>](a:<span class="type">A</span>): <span class="type">Unit</span> =&#123;</span><br><span class="line">      println(a.getClass.getName)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    test(<span class="keyword">new</span> <span class="type">Child</span>)</span><br><span class="line">    <span class="comment">//test(new Parent)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">DingQuan Zuo</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2023/06/27/%E5%A4%A7%E6%95%B0%E6%8D%AE%E2%80%94%E2%80%94Scala/">http://example.com/2023/06/27/%E5%A4%A7%E6%95%B0%E6%8D%AE%E2%80%94%E2%80%94Scala/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">ccbigs blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a></div><div class="post_share"><div class="social-share" data-image="/img/ahead.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/06/27/%E5%A4%A7%E6%95%B0%E6%8D%AE%E2%80%94%E2%80%94ClickHouse/" title="大数据——ClickHouse"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">大数据——ClickHouse</div></div></a></div><div class="next-post pull-right"><a href="/2023/06/27/Linux%E2%80%94%E2%80%94Shell/" title="Linux——Shell"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Linux——Shell</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/06/27/%E5%A4%A7%E6%95%B0%E6%8D%AE%E2%80%94%E2%80%94ClickHouse/" title="大数据——ClickHouse"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-27</div><div class="title">大数据——ClickHouse</div></div></a></div><div><a href="/2023/06/27/%E5%A4%A7%E6%95%B0%E6%8D%AE%E2%80%94%E2%80%94Flume/" title="大数据——Flume"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-27</div><div class="title">大数据——Flume</div></div></a></div><div><a href="/2023/06/26/%E5%A4%A7%E6%95%B0%E6%8D%AE%E2%80%94%E2%80%94Hbase/" title="大数据——Hbase"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-26</div><div class="title">大数据——Hbase</div></div></a></div><div><a href="/2023/06/27/%E5%A4%A7%E6%95%B0%E6%8D%AE%E2%80%94%E2%80%94Hadoop2/" title="大数据——Hadoop.2.x"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-27</div><div class="title">大数据——Hadoop.2.x</div></div></a></div><div><a href="/2023/06/27/%E5%A4%A7%E6%95%B0%E6%8D%AE%E2%80%94%E2%80%94Hive%E8%B0%83%E4%BC%98/" title="大数据——Hive调优"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-27</div><div class="title">大数据——Hive调优</div></div></a></div><div><a href="/2023/06/27/%E5%A4%A7%E6%95%B0%E6%8D%AE%E2%80%94%E2%80%94Hive/" title="大数据——Hive"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-27</div><div class="title">大数据——Hive</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/ahead.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">DingQuan Zuo</div><div class="author-info__description">技术路上少不了自我怀疑，往往你的决定，会让你看到不同的风景</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/ccbigs" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:1692062014@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%A5%E9%97%A8"><span class="toc-number">1.</span> <span class="toc-text">入门</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#IDEA%E5%AE%89%E8%A3%85Scala"><span class="toc-number">1.1.</span> <span class="toc-text">IDEA安装Scala</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%A0%E4%B8%AA%E5%B0%8F%E6%A1%88%E4%BE%8B"><span class="toc-number">1.2.</span> <span class="toc-text">几个小案例</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%92%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.</span> <span class="toc-text">变量和数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Scala%E6%B3%A8%E9%87%8A"><span class="toc-number">2.1.</span> <span class="toc-text">Scala注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%92%8C%E5%B8%B8%E9%87%8F-%E9%87%8D%E7%82%B9"><span class="toc-number">2.2.</span> <span class="toc-text">变量和常量(重点)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E8%AF%86%E7%AC%A6%E7%9A%84%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"><span class="toc-number">2.3.</span> <span class="toc-text">标识符的命名规范</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BE%93%E5%87%BA"><span class="toc-number">2.4.</span> <span class="toc-text">字符串输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5"><span class="toc-number">2.5.</span> <span class="toc-text">键盘输入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6"><span class="toc-number">2.6.</span> <span class="toc-text">读写文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.7.</span> <span class="toc-text">数据类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B4%E6%95%B0%E7%B1%BB%E5%9E%8B%E5%92%8C%E6%B5%AE%E7%82%B9%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.8.</span> <span class="toc-text">整数类型和浮点类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%B8%83%E5%B0%94%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.9.</span> <span class="toc-text">字符类型和布尔类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unit%E7%B1%BB%E5%9E%8B%E3%80%81Null%E7%B1%BB%E5%9E%8B%E5%92%8CNothing%E7%B1%BB%E5%9E%8B-%E9%87%8D%E7%82%B9"><span class="toc-number">2.10.</span> <span class="toc-text">Unit类型、Null类型和Nothing类型(重点)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Scala%E4%B8%AD%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%BC%BA%E5%88%B6%E8%BD%AC%E6%8D%A2"><span class="toc-number">2.11.</span> <span class="toc-text">Scala中的类型强制转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%89%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B%E8%87%AA%E5%8A%A8%E8%BD%AC%E6%8D%A2"><span class="toc-number">2.11.1.</span> <span class="toc-text">1）数值类型自动转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%89%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">2.11.2.</span> <span class="toc-text">2）强制类型转换</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">3.</span> <span class="toc-text">运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">3.1.</span> <span class="toc-text">算术运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">3.2.</span> <span class="toc-text">关系运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">3.3.</span> <span class="toc-text">逻辑运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">3.4.</span> <span class="toc-text">位运算符</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">4.</span> <span class="toc-text">流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E6%8E%A7%E5%88%B6if-else"><span class="toc-number">4.1.</span> <span class="toc-text">分支控制if-else</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E5%88%86%E6%94%AF"><span class="toc-number">4.1.1.</span> <span class="toc-text">单分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E6%8E%A7%E5%88%B6%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">4.1.2.</span> <span class="toc-text">分支控制的返回值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for%E5%BE%AA%E7%8E%AF"><span class="toc-number">4.2.</span> <span class="toc-text">for循环</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F"><span class="toc-number">4.2.1.</span> <span class="toc-text">基本格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E9%81%8D%E5%8E%86"><span class="toc-number">4.2.2.</span> <span class="toc-text">循环遍历</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E5%AE%88%E5%8D%AB"><span class="toc-number">4.2.3.</span> <span class="toc-text">循环守卫</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E6%AD%A5%E9%95%BF"><span class="toc-number">4.2.4.</span> <span class="toc-text">循环步长</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E5%BE%AA%E7%8E%AF"><span class="toc-number">4.2.5.</span> <span class="toc-text">嵌套循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E5%8F%98%E9%87%8F"><span class="toc-number">4.2.6.</span> <span class="toc-text">引入变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">4.2.7.</span> <span class="toc-text">循环返回值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#While%E5%92%8Cdo%E2%80%A6while%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6"><span class="toc-number">4.3.</span> <span class="toc-text">While和do…while循环控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#While%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6"><span class="toc-number">4.3.1.</span> <span class="toc-text">While循环控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E4%B8%AD%E6%96%AD"><span class="toc-number">4.3.2.</span> <span class="toc-text">循环中断</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="toc-number">5.</span> <span class="toc-text">函数式编程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%9F%BA%E7%A1%80"><span class="toc-number">5.1.</span> <span class="toc-text">函数基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">5.1.1.</span> <span class="toc-text">函数基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%92%8C%E6%96%B9%E6%B3%95%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">5.1.2.</span> <span class="toc-text">函数和方法的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89"><span class="toc-number">5.1.3.</span> <span class="toc-text">函数定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-number">5.1.4.</span> <span class="toc-text">函数参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%87%B3%E7%AE%80%E5%8E%9F%E5%88%99"><span class="toc-number">5.1.5.</span> <span class="toc-text">函数至简原则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-number">5.1.6.</span> <span class="toc-text">匿名函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0"><span class="toc-number">5.2.</span> <span class="toc-text">高阶函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E9%AB%98%E9%98%B6"><span class="toc-number">5.2.1.</span> <span class="toc-text">函数高阶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E7%BB%83%E4%B9%A0"><span class="toc-number">5.2.1.1.</span> <span class="toc-text">扩展练习</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0-1"><span class="toc-number">5.2.2.</span> <span class="toc-text">匿名函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%9F%AF%E9%87%8C%E5%8C%96-amp-%E9%97%AD%E5%8C%85"><span class="toc-number">5.2.3.</span> <span class="toc-text">函数柯里化&amp;闭包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%92%E5%BD%92"><span class="toc-number">5.2.4.</span> <span class="toc-text">递归</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%8A%BD%E8%B1%A1"><span class="toc-number">5.2.5.</span> <span class="toc-text">控制抽象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%83%B0%E6%80%A7%E5%8A%A0%E8%BD%BD"><span class="toc-number">5.2.6.</span> <span class="toc-text">惰性加载</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.</span> <span class="toc-text">面向对象</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Scala%E5%8C%85"><span class="toc-number">6.1.</span> <span class="toc-text">Scala包</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%85%E7%9A%84%E5%91%BD%E5%90%8D"><span class="toc-number">6.1.1.</span> <span class="toc-text">包的命名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%85%E8%AF%B4%E6%98%8E-%E5%8C%85%E8%AF%AD%E5%8F%A5"><span class="toc-number">6.1.2.</span> <span class="toc-text">包说明(包语句)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%85%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.1.3.</span> <span class="toc-text">包对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E5%8C%85%E8%AF%B4%E6%98%8E"><span class="toc-number">6.1.4.</span> <span class="toc-text">导包说明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.2.</span> <span class="toc-text">类和对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E7%B1%BB"><span class="toc-number">6.2.1.</span> <span class="toc-text">定义类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E8%A3%85"><span class="toc-number">6.3.</span> <span class="toc-text">封装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90"><span class="toc-number">6.3.1.</span> <span class="toc-text">访问权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number">6.3.2.</span> <span class="toc-text">方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.3.3.</span> <span class="toc-text">创建对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%99%A8"><span class="toc-number">6.3.4.</span> <span class="toc-text">构造器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%99%A8%E5%8F%82%E6%95%B0"><span class="toc-number">6.3.5.</span> <span class="toc-text">构造器参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E5%92%8C%E5%A4%9A%E6%80%81"><span class="toc-number">6.3.6.</span> <span class="toc-text">继承和多态</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="toc-number">6.4.</span> <span class="toc-text">抽象类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E5%B1%9E%E6%80%A7%E5%92%8C%E6%8A%BD%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="toc-number">6.4.1.</span> <span class="toc-text">抽象属性和抽象方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%AD%90%E7%B1%BB"><span class="toc-number">6.4.2.</span> <span class="toc-text">匿名子类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B%E5%AF%B9%E8%B1%A1%EF%BC%88%E4%BC%B4%E7%94%9F%E5%AF%B9%E8%B1%A1%EF%BC%89"><span class="toc-number">6.5.</span> <span class="toc-text">单例对象（伴生对象）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B%E5%AF%B9%E8%B1%A1"><span class="toc-number">6.5.1.</span> <span class="toc-text">单例对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#apply%E6%96%B9%E6%B3%95"><span class="toc-number">6.5.2.</span> <span class="toc-text">apply方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E8%B4%A8%EF%BC%88Trait%EF%BC%89"><span class="toc-number">6.6.</span> <span class="toc-text">特质（Trait）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E8%B4%A8%E7%9A%84%E8%AF%B4%E6%98%8E"><span class="toc-number">6.6.1.</span> <span class="toc-text">特质的说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E8%B4%A8%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">6.6.2.</span> <span class="toc-text">特质基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E8%B4%A8%E7%9A%84%E6%B7%B7%E5%85%A5"><span class="toc-number">6.6.3.</span> <span class="toc-text">特质的混入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E8%B4%A8%E7%9A%84%E5%8F%A0%E5%8A%A0"><span class="toc-number">6.6.4.</span> <span class="toc-text">特质的叠加</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E8%B4%A8%E5%8F%A0%E5%8A%A0%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"><span class="toc-number">6.6.5.</span> <span class="toc-text">特质叠加执行顺序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E8%B4%A8%E8%87%AA%E8%BA%AB%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.6.6.</span> <span class="toc-text">特质自身类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E8%B4%A8%E5%92%8C%E6%8A%BD%E8%B1%A1%E7%B1%BB%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">6.6.7.</span> <span class="toc-text">特质和抽象类的区别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95"><span class="toc-number">6.7.</span> <span class="toc-text">扩展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5%E5%92%8C%E8%BD%AC%E6%8D%A2"><span class="toc-number">6.7.1.</span> <span class="toc-text">类型检查和转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%92%8C%E5%BA%94%E7%94%A8%E7%B1%BB%E5%8F%8Atype%E6%96%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.7.2.</span> <span class="toc-text">枚举类和应用类及type新类型</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B"><span class="toc-number">7.</span> <span class="toc-text">集合类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B-1"><span class="toc-number">7.1.</span> <span class="toc-text">集合类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88%E7%BB%A7%E6%89%BF%E5%9B%BE"><span class="toc-number">7.1.1.</span> <span class="toc-text">不可变集合继承图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88%E7%BB%A7%E6%89%BF%E5%9B%BE"><span class="toc-number">7.1.2.</span> <span class="toc-text">可变集合继承图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">7.2.</span> <span class="toc-text">数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E5%8F%98%E6%95%B0%E7%BB%84"><span class="toc-number">7.2.1.</span> <span class="toc-text">不可变数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E6%95%B0%E7%BB%84"><span class="toc-number">7.2.2.</span> <span class="toc-text">可变数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E5%8F%98%E6%95%B0%E7%BB%84%E4%B8%8E%E5%8F%AF%E5%8F%98%E6%95%B0%E7%BB%84%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-number">7.2.3.</span> <span class="toc-text">不可变数组与可变数组的转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-number">7.2.4.</span> <span class="toc-text">多维数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#List"><span class="toc-number">7.3.</span> <span class="toc-text">List</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E5%8F%98List"><span class="toc-number">7.3.1.</span> <span class="toc-text">不可变List</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98List"><span class="toc-number">7.3.2.</span> <span class="toc-text">可变List</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set-%E9%9B%86%E5%90%88"><span class="toc-number">7.4.</span> <span class="toc-text">Set 集合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E5%8F%98Set"><span class="toc-number">7.4.1.</span> <span class="toc-text">不可变Set</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98Set"><span class="toc-number">7.4.2.</span> <span class="toc-text">可变Set</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Map%E9%9B%86%E5%90%88"><span class="toc-number">7.5.</span> <span class="toc-text">Map集合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E5%8F%98Map"><span class="toc-number">7.5.1.</span> <span class="toc-text">不可变Map</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98Map"><span class="toc-number">7.5.2.</span> <span class="toc-text">可变Map</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%83%E7%BB%84"><span class="toc-number">7.6.</span> <span class="toc-text">元组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0"><span class="toc-number">7.7.</span> <span class="toc-text">集合常用函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%B1%9E%E6%80%A7%E5%92%8C%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">7.7.1.</span> <span class="toc-text">基本属性和常用操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%8D%E7%94%9F%E9%9B%86%E5%90%88"><span class="toc-number">7.7.2.</span> <span class="toc-text">衍生集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E8%AE%A1%E7%AE%97%E7%AE%80%E5%8D%95%E5%87%BD%E6%95%B0"><span class="toc-number">7.7.3.</span> <span class="toc-text">集合计算简单函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E8%AE%A1%E7%AE%97%E9%AB%98%E7%BA%A7%E5%87%BD%E6%95%B0"><span class="toc-number">7.7.4.</span> <span class="toc-text">集合计算高级函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AE%E9%80%9AWordCount%E6%A1%88%E4%BE%8B"><span class="toc-number">7.7.5.</span> <span class="toc-text">普通WordCount案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82WordCount%E6%A1%88%E4%BE%8B"><span class="toc-number">7.7.6.</span> <span class="toc-text">复杂WordCount案例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%98%9F%E5%88%97"><span class="toc-number">7.8.</span> <span class="toc-text">队列</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B6%E8%A1%8C%E9%9B%86%E5%90%88"><span class="toc-number">7.9.</span> <span class="toc-text">并行集合</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D"><span class="toc-number">8.</span> <span class="toc-text">模式匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">8.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%AE%88%E5%8D%AB"><span class="toc-number">8.2.</span> <span class="toc-text">模式守卫</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D%E7%B1%BB%E5%9E%8B"><span class="toc-number">8.3.</span> <span class="toc-text">模式匹配类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%B9%E9%85%8D%E5%B8%B8%E9%87%8F"><span class="toc-number">8.3.1.</span> <span class="toc-text">匹配常量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%B9%E9%85%8D%E7%B1%BB%E5%9E%8B"><span class="toc-number">8.3.2.</span> <span class="toc-text">匹配类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%B9%E9%85%8D%E6%95%B0%E7%BB%84"><span class="toc-number">8.3.3.</span> <span class="toc-text">匹配数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%B9%E9%85%8D%E5%88%97%E8%A1%A8"><span class="toc-number">8.3.4.</span> <span class="toc-text">匹配列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%B9%E9%85%8D%E5%85%83%E7%BB%84"><span class="toc-number">8.3.5.</span> <span class="toc-text">匹配元组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%B9%E9%85%8D%E5%AF%B9%E8%B1%A1%E5%8F%8A%E6%A0%B7%E4%BE%8B%E7%B1%BB"><span class="toc-number">8.3.6.</span> <span class="toc-text">匹配对象及样例类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%8F%E5%87%BD%E6%95%B0%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D-%E4%BA%86%E8%A7%A3"><span class="toc-number">8.4.</span> <span class="toc-text">偏函数中的模式匹配(了解)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8"><span class="toc-number">9.</span> <span class="toc-text">异常</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Java%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">9.1.</span> <span class="toc-text">Java异常处理</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2"><span class="toc-number">10.</span> <span class="toc-text">隐式转换</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E5%87%BD%E6%95%B0"><span class="toc-number">10.1.</span> <span class="toc-text">隐式函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E7%B1%BB"><span class="toc-number">10.2.</span> <span class="toc-text">隐式类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E5%8F%82%E6%95%B0"><span class="toc-number">10.3.</span> <span class="toc-text">隐式参数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B"><span class="toc-number">11.</span> <span class="toc-text">泛型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%8F%E5%8F%98%E5%92%8C%E9%80%86%E5%8F%98"><span class="toc-number">11.1.</span> <span class="toc-text">协变和逆变</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8C%83%E6%96%87%E4%B8%8A%E4%B8%8B%E9%99%90"><span class="toc-number">11.2.</span> <span class="toc-text">范文上下限</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/06/28/appInstall%E2%80%94%E2%80%94Java%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4/" title="appInstall——Java安装步骤">appInstall——Java安装步骤</a><time datetime="2024-06-28T07:20:13.000Z" title="发表于 2024-06-28 15:20:13">2024-06-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/06/28/%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E2%80%94%E2%80%94Mybatis/" title="底层原理——Mybatis">底层原理——Mybatis</a><time datetime="2023-06-28T10:00:13.000Z" title="发表于 2023-06-28 18:00:13">2023-06-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/06/28/SSM%E2%80%94%E2%80%94Mybatis/" title="SSM——Mybatis">SSM——Mybatis</a><time datetime="2023-06-28T07:35:16.000Z" title="发表于 2023-06-28 15:35:16">2023-06-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/06/28/SSM%E2%80%94%E2%80%94Spring/" title="SSM——Spring">SSM——Spring</a><time datetime="2023-06-28T07:22:40.000Z" title="发表于 2023-06-28 15:22:40">2023-06-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/06/27/%E5%A4%A7%E6%95%B0%E6%8D%AE%E2%80%94%E2%80%94Hadoop2/" title="大数据——Hadoop.2.x">大数据——Hadoop.2.x</a><time datetime="2023-06-27T10:09:04.000Z" title="发表于 2023-06-27 18:09:04">2023-06-27</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By DingQuan Zuo</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>